<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>perf_hooks | Node.js API &#x6587;&#x6863;</title>
  <link rel="icon" sizes="32x32" type="image/png" href="//static.nodejs.cn/_static/img/favicon.png">
  <script>
    document.write('<link href="api.css?1540915632425" rel="stylesheet">')
  </script>
  
</head>
<body class="alt apidoc" id="page_api">
  <div id="api-section-perf_hooks">
    <div id="content" class="clearfix">
      <div id="column2" class="interior">
        <div id="intro" class="interior">
          <a href="/">
            Node.js &#x4E2D;&#x6587;&#x7F51;
          </a>
          <!-- <div>
            <input placeholder="API 快速搜索" id="modal_search_trigger">
          </div> -->
        </div>
        <div class="line"></div>
        <ul>
<li><a href="_api_assert.html" class="nav-assert">assert - &#x65AD;&#x8A00;</a></li>
<li><a href="_api_async_hooks.html" class="nav-async_hooks">async_hooks - &#x5F02;&#x6B65;&#x94A9;&#x5B50;</a></li>
<li><a href="_api_buffer.html" class="nav-buffer">Buffer - &#x7F13;&#x51B2;&#x5668;</a></li>
<li><a href="_api_child_process.html" class="nav-child_process">child_process - &#x5B50;&#x8FDB;&#x7A0B;</a></li>
<li><a href="_api_cluster.html" class="nav-cluster">cluster - &#x96C6;&#x7FA4;</a></li>
<li><a href="_api_console.html" class="nav-console">console - &#x63A7;&#x5236;&#x53F0;</a></li>
<li><a href="_api_crypto.html" class="nav-crypto">crypto - &#x52A0;&#x5BC6;</a></li>
<li><a href="_api_dgram.html" class="nav-dgram">dgram - &#x6570;&#x636E;&#x62A5;</a></li>
<li><a href="_api_dns.html" class="nav-dns">dns - &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;</a></li>
<li><a href="_api_domain.html" class="nav-domain">domain - &#x57DF;</a></li>
<li><a href="_api_errors.html" class="nav-errors">Error - &#x5F02;&#x5E38;</a></li>
<li><a href="_api_events.html" class="nav-events">events - &#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x5668;</a></li>
<li><a href="_api_fs.html" class="nav-fs">fs - &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</a></li>
<li><a href="_api_globals.html" class="nav-globals">global - &#x5168;&#x5C40;&#x53D8;&#x91CF;</a></li>
<li><a href="_api_http.html" class="nav-http">http - HTTP</a></li>
<li><a href="_api_http2.html" class="nav-http2">http2 - HTTP/2</a></li>
<li><a href="_api_https.html" class="nav-https">https - HTTPS</a></li>
<li><a href="_api_inspector.html" class="nav-inspector">inspector - &#x8C03;&#x8BD5;&#x5668;</a></li>
<li><a href="_api_modules.html" class="nav-modules">module - &#x6A21;&#x5757;</a></li>
<li><a href="_api_net.html" class="nav-net">net - &#x7F51;&#x7EDC;</a></li>
<li><a href="_api_os.html" class="nav-os">os - &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</a></li>
<li><a href="_api_path.html" class="nav-path">path - &#x8DEF;&#x5F84;</a></li>
<li><a href="_api_perf_hooks.html" class="nav-perf_hooks active">perf_hooks - &#x6027;&#x80FD;&#x94A9;&#x5B50;</a></li>
<li><a href="_api_process.html" class="nav-process">process - &#x8FDB;&#x7A0B;</a></li>
<li><a href="_api_punycode.html" class="nav-punycode">punycode - &#x57DF;&#x540D;&#x4EE3;&#x7801;</a></li>
<li><a href="_api_querystring.html" class="nav-querystring">querystring - &#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</a></li>
<li><a href="_api_readline.html" class="nav-readline">readline - &#x9010;&#x884C;&#x8BFB;&#x53D6;</a></li>
<li><a href="_api_repl.html" class="nav-repl">repl - &#x4EA4;&#x4E92;&#x5F0F;&#x89E3;&#x91CA;&#x5668;</a></li>
<li><a href="_api_stream.html" class="nav-stream">stream - &#x6D41;</a></li>
<li><a href="_api_string_decoder.html" class="nav-string_decoder">string_decoder - &#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x7801;&#x5668;</a></li>
<li><a href="_api_timers.html" class="nav-timers">timer - &#x5B9A;&#x65F6;&#x5668;</a></li>
<li><a href="_api_tls.html" class="nav-tls">tls - &#x5B89;&#x5168;&#x4F20;&#x8F93;&#x5C42;</a></li>
<li><a href="_api_tracing.html" class="nav-tracing">trace_events - &#x8DDF;&#x8E2A;&#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_tty.html" class="nav-tty">tty - &#x7EC8;&#x7AEF;</a></li>
<li><a href="_api_url.html" class="nav-url">url - &#x7F51;&#x5740;</a></li>
<li><a href="_api_util.html" class="nav-util">util - &#x5B9E;&#x7528;&#x5DE5;&#x5177;</a></li>
<li><a href="_api_v8.html" class="nav-v8">v8 - V8&#x5F15;&#x64CE;</a></li>
<li><a href="_api_vm.html" class="nav-vm">vm - &#x865A;&#x62DF;&#x673A;</a></li>
<li><a href="_api_worker_threads.html" class="nav-worker_threads">worker_threads - &#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;</a></li>
<li><a href="_api_zlib.html" class="nav-zlib">zlib - &#x538B;&#x7F29;</a></li>
</ul>
<div class="line"></div>
<ul>
<li><a href="_api_documentation.html" class="nav-documentation">&#x5173;&#x4E8E;&#x672C;&#x6587;&#x6863;</a></li>
<li><a href="_api_synopsis.html" class="nav-synopsis">&#x7528;&#x6CD5;&#x4E0E;&#x4F8B;&#x5B50;</a></li>
<li><a href="_api_addons.html" class="nav-addons">C++&#x63D2;&#x4EF6;</a></li>
<li><a href="_api_n-api.html" class="nav-n-api">N-API</a></li>
<li><a href="_api_cli.html" class="nav-cli">&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;</a></li>
<li><a href="_api_debugger.html" class="nav-debugger">debugger &#x8C03;&#x8BD5;&#x5668;</a></li>
<li><a href="_api_esm.html" class="nav-esm">ECMAScript &#x6A21;&#x5757;</a></li>
<li><a href="_api_intl.html" class="nav-intl">&#x56FD;&#x9645;&#x5316;&#x652F;&#x6301;</a></li>
<li><a href="_api_deprecations.html" class="nav-deprecations">&#x5E9F;&#x5F03;&#x7684; API</a></li>
</ul>
      </div>
  
      <div id="column1" data-id="perf_hooks" class="interior">
        <header>
          <h1>Node.js v10.13.0 &#x6587;&#x6863;</h1>
          <div id="gtoc">
            <ul>
              <li>
                <a href="_api_.html" name="toc">&#x8FD4;&#x56DE;&#x6587;&#x6863;&#x9996;&#x9875;</a>
              </li>
              <li>
                <a href="/search" name="toc">&#x641C;&#x7D22;</a>
              </li>
            </ul>
          </div>
          <hr>
        </header>

        <div id="adWrap"></div>
  
        <div id="toc">
          <h2>&#x76EE;&#x5F55;</h2>
          <ul>
<li>
<p><span class="stability_1"><a href="_api_perf_hooks.html#perf_hooks_performance_timing_api">perf_hooks - &#x6027;&#x80FD;&#x94A9;&#x5B50;</a></span></p>
<ul>
<li>
<p><a href="_api_perf_hooks.html#perf_hooks_class_performance">Performance &#x7C7B;</a></p>
<ul>
<li><a href="_api_perf_hooks.html#perf_hooks_performance_clearmarks_name">performance.clearMarks([name])</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performance_mark_name">performance.mark([name])</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performance_measure_name_startmark_endmark">performance.measure(name, startMark, endMark)</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performance_nodetiming">performance.nodeTiming</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performance_now">performance.now()</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performance_timeorigin">performance.timeOrigin</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performance_timerify_fn">performance.timerify(fn)</a></li>
</ul>
</li>
<li>
<p><a href="_api_perf_hooks.html#perf_hooks_class_performanceentry">PerformanceEntry &#x7C7B;</a></p>
<ul>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceentry_duration">performanceEntry.duration</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceentry_name">performanceEntry.name</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceentry_starttime">performanceEntry.startTime</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceentry_entrytype">performanceEntry.entryType</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceentry_kind">performanceEntry.kind</a></li>
</ul>
</li>
<li>
<p><a href="_api_perf_hooks.html#perf_hooks_class_performancenodetiming_extends_performanceentry">PerformanceNodeTiming &#x7C7B;</a></p>
<ul>
<li><a href="_api_perf_hooks.html#perf_hooks_performancenodetiming_bootstrapcomplete">performanceNodeTiming.bootstrapComplete</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performancenodetiming_loopexit">performanceNodeTiming.loopExit</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performancenodetiming_loopstart">performanceNodeTiming.loopStart</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performancenodetiming_nodestart">performanceNodeTiming.nodeStart</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performancenodetiming_v8start">performanceNodeTiming.v8Start</a></li>
</ul>
</li>
<li>
<p><a href="_api_perf_hooks.html#perf_hooks_class_performanceobserver">PerformanceObserver &#x7C7B;</a></p>
<ul>
<li><a href="_api_perf_hooks.html#perf_hooks_new_performanceobserver_callback">new PerformanceObserver(callback)</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceobserver_disconnect">performanceObserver.disconnect()</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceobserver_observe_options">performanceObserver.observe(options)</a></li>
</ul>
</li>
<li>
<p><a href="_api_perf_hooks.html#perf_hooks_class_performanceobserverentrylist">PerformanceObserverEntryList &#x7C7B;</a></p>
<ul>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceobserverentrylist_getentries">performanceObserverEntryList.getEntries()</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceobserverentrylist_getentriesbyname_name_type">performanceObserverEntryList.getEntriesByName(name[, type])</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_performanceobserverentrylist_getentriesbytype_type">performanceObserverEntryList.getEntriesByType(type)</a></li>
</ul>
</li>
<li>
<p><a href="_api_perf_hooks.html#perf_hooks_examples">&#x793A;&#x4F8B;</a></p>
<ul>
<li><a href="_api_perf_hooks.html#perf_hooks_measuring_the_duration_of_async_operations">&#x6D4B;&#x91CF;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x957F;</a></li>
<li><a href="_api_perf_hooks.html#perf_hooks_measuring_how_long_it_takes_to_load_dependencies">&#x6D4B;&#x91CF;&#x52A0;&#x8F7D;&#x4F9D;&#x8D56;&#x7684;&#x8017;&#x65F6;</a></li>
</ul>
</li>
</ul>
</li>
</ul>
        </div>
  
        <div id="apicontent">
          <h1>perf_hooks - &#x6027;&#x80FD;&#x94A9;&#x5B50;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_timing_api" id="perf_hooks_performance_timing_api">#</a></span></h1><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<!--introduced_in=v8.5.0-->
<p></p><div class="api_stability api_stability_1"><a href="_api_documentation.html#documentation_stability_index">Stability: 1</a> - Experimental</div><p></p>
<p>The Performance Timing API provides an implementation of the
<a href="/s/ds56gw">W3C Performance Timeline</a> specification. The purpose of the API
is to support collection of high resolution performance metrics.
This is the same Performance API as implemented in modern Web browsers.</p>
<pre><code class="language-js">const { PerformanceObserver, performance } = require(&apos;perf_hooks&apos;);

const obs = new PerformanceObserver((items) =&gt; {
  console.log(items.getEntries()[0].duration);
  performance.clearMarks();
});
obs.observe({ entryTypes: [&apos;measure&apos;] });

performance.mark(&apos;A&apos;);
doSomeLongRunningProcess(() =&gt; {
  performance.mark(&apos;B&apos;);
  performance.measure(&apos;A to B&apos;, &apos;A&apos;, &apos;B&apos;);
});
</code></pre>
<h2>Performance &#x7C7B;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_class_performance" id="perf_hooks_class_performance">#</a></span></h2><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<h3>performance.clearMarks([name])<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_clearmarks_name" id="perf_hooks_performance_clearmarks_name">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>If <code>name</code> is not provided, removes all <code>PerformanceMark</code> objects from the
Performance Timeline. If <code>name</code> is provided, removes only the named mark.</p>
<h3>performance.mark([name])<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_mark_name" id="perf_hooks_performance_mark_name">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>Creates a new <code>PerformanceMark</code> entry in the Performance Timeline. A
<code>PerformanceMark</code> is a subclass of <code>PerformanceEntry</code> whose
<code>performanceEntry.entryType</code> is always <code>&apos;mark&apos;</code>, and whose
<code>performanceEntry.duration</code> is always <code>0</code>. Performance marks are used
to mark specific significant moments in the Performance Timeline.</p>
<h3>performance.measure(name, startMark, endMark)<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_measure_name_startmark_endmark" id="perf_hooks_performance_measure_name_startmark_endmark">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>startMark</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>endMark</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>Creates a new <code>PerformanceMeasure</code> entry in the Performance Timeline. A
<code>PerformanceMeasure</code> is a subclass of <code>PerformanceEntry</code> whose
<code>performanceEntry.entryType</code> is always <code>&apos;measure&apos;</code>, and whose
<code>performanceEntry.duration</code> measures the number of milliseconds elapsed since
<code>startMark</code> and <code>endMark</code>.</p>
<p>The <code>startMark</code> argument may identify any <em>existing</em> <code>PerformanceMark</code> in the
Performance Timeline, or <em>may</em> identify any of the timestamp properties
provided by the <code>PerformanceNodeTiming</code> class. If the named <code>startMark</code> does
not exist, then <code>startMark</code> is set to <a href="/s/WSrFaU"><code>timeOrigin</code></a> by default.</p>
<p>The <code>endMark</code> argument must identify any <em>existing</em> <code>PerformanceMark</code> in the
Performance Timeline or any of the timestamp properties provided by the
<code>PerformanceNodeTiming</code> class. If the named <code>endMark</code> does not exist, an
error will be thrown.</p>
<h3>performance.nodeTiming<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_nodetiming" id="perf_hooks_performance_nodetiming">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="_api_perf_hooks.html#perf_hooks_class_performancenodetiming_extends_performanceentry" class="type">&lt;PerformanceNodeTiming&gt;</a></li>
</ul>
<p>An instance of the <code>PerformanceNodeTiming</code> class that provides performance
metrics for specific Node.js operational milestones.</p>
<h3>performance.now()<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_now" id="perf_hooks_performance_now">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li>Returns: <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>Returns the current high resolution millisecond timestamp, where 0 represents
the start of the current <code>node</code> process.</p>
<h3>performance.timeOrigin<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_timeorigin" id="perf_hooks_performance_timeorigin">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The <a href="/s/WSrFaU"><code>timeOrigin</code></a> specifies the high resolution millisecond timestamp at
which the current <code>node</code> process began, measured in Unix time.</p>
<h3>performance.timerify(fn)<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performance_timerify_fn" id="perf_hooks_performance_timerify_fn">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><code>fn</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>Wraps a function within a new function that measures the running time of the
wrapped function. A <code>PerformanceObserver</code> must be subscribed to the <code>&apos;function&apos;</code>
event type in order for the timing details to be accessed.</p>
<pre><code class="language-js">const {
  performance,
  PerformanceObserver
} = require(&apos;perf_hooks&apos;);

function someFunction() {
  console.log(&apos;hello world&apos;);
}

const wrapped = performance.timerify(someFunction);

const obs = new PerformanceObserver((list) =&gt; {
  console.log(list.getEntries()[0].duration);
  obs.disconnect();
});
obs.observe({ entryTypes: [&apos;function&apos;] });

// A performance timeline entry will be created
wrapped();
</code></pre>
<h2>PerformanceEntry &#x7C7B;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_class_performanceentry" id="perf_hooks_class_performanceentry">#</a></span></h2><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<h3>performanceEntry.duration<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceentry_duration" id="perf_hooks_performanceentry_duration">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The total number of milliseconds elapsed for this entry. This value will not
be meaningful for all Performance Entry types.</p>
<h3>performanceEntry.name<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceentry_name" id="perf_hooks_performanceentry_name">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>The name of the performance entry.</p>
<h3>performanceEntry.startTime<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceentry_starttime" id="perf_hooks_performanceentry_starttime">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The high resolution millisecond timestamp marking the starting time of the
Performance Entry.</p>
<h3>performanceEntry.entryType<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceentry_entrytype" id="perf_hooks_performanceentry_entrytype">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>The type of the performance entry. Currently it may be one of: <code>&apos;node&apos;</code>,
<code>&apos;mark&apos;</code>, <code>&apos;measure&apos;</code>, <code>&apos;gc&apos;</code>, <code>&apos;function&apos;</code>, or <code>&apos;http2&apos;</code>.</p>
<h3>performanceEntry.kind<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceentry_kind" id="perf_hooks_performanceentry_kind">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>When <code>performanceEntry.entryType</code> is equal to <code>&apos;gc&apos;</code>, the <code>performance.kind</code>
property identifies the type of garbage collection operation that occurred.
The value may be one of:</p>
<ul>
<li><code>perf_hooks.constants.NODE_PERFORMANCE_GC_MAJOR</code></li>
<li><code>perf_hooks.constants.NODE_PERFORMANCE_GC_MINOR</code></li>
<li><code>perf_hooks.constants.NODE_PERFORMANCE_GC_INCREMENTAL</code></li>
<li><code>perf_hooks.constants.NODE_PERFORMANCE_GC_WEAKCB</code></li>
</ul>
<h2>PerformanceNodeTiming &#x7C7B;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_class_performancenodetiming_extends_performanceentry" id="perf_hooks_class_performancenodetiming_extends_performanceentry">#</a></span></h2><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<p>Provides timing details for Node.js itself.</p>
<h3>performanceNodeTiming.bootstrapComplete<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performancenodetiming_bootstrapcomplete" id="perf_hooks_performancenodetiming_bootstrapcomplete">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The high resolution millisecond timestamp at which the Node.js process
completed bootstrapping. If bootstrapping has not yet finished, the property
has the value of -1.</p>
<h3>performanceNodeTiming.loopExit<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performancenodetiming_loopexit" id="perf_hooks_performancenodetiming_loopexit">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The high resolution millisecond timestamp at which the Node.js event loop
exited. If the event loop has not yet exited, the property has the value of -1.
It can only have a value of not -1 in a handler of the <a href="/s/YpyNLc"><code>&apos;exit&apos;</code></a> event.</p>
<h3>performanceNodeTiming.loopStart<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performancenodetiming_loopstart" id="perf_hooks_performancenodetiming_loopstart">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The high resolution millisecond timestamp at which the Node.js event loop
started. If the event loop has not yet started (e.g., in the first tick of the
main script), the property has the value of -1.</p>
<h3>performanceNodeTiming.nodeStart<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performancenodetiming_nodestart" id="perf_hooks_performancenodetiming_nodestart">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The high resolution millisecond timestamp at which the Node.js process was
initialized.</p>
<h3>performanceNodeTiming.v8Start<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performancenodetiming_v8start" id="perf_hooks_performancenodetiming_v8start">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>The high resolution millisecond timestamp at which the V8 platform was
initialized.</p>
<h2>PerformanceObserver &#x7C7B;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_class_performanceobserver" id="perf_hooks_class_performanceobserver">#</a></span></h2>
<h3>new PerformanceObserver(callback)<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_new_performanceobserver_callback" id="perf_hooks_new_performanceobserver_callback">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li>
<p><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></p>
<ul>
<li><code>list</code> <a href="_api_perf_hooks.html#perf_hooks_class_performanceobserverentrylist" class="type">&lt;PerformanceObserverEntryList&gt;</a></li>
<li><code>observer</code> <a href="_api_perf_hooks.html#perf_hooks_class_performanceobserver" class="type">&lt;PerformanceObserver&gt;</a></li>
</ul>
</li>
</ul>
<p><code>PerformanceObserver</code> objects provide notifications when new
<code>PerformanceEntry</code> instances have been added to the Performance Timeline.</p>
<pre><code class="language-js">const {
  performance,
  PerformanceObserver
} = require(&apos;perf_hooks&apos;);

const obs = new PerformanceObserver((list, observer) =&gt; {
  console.log(list.getEntries());
  observer.disconnect();
});
obs.observe({ entryTypes: [&apos;mark&apos;], buffered: true });

performance.mark(&apos;test&apos;);
</code></pre>
<p>Because <code>PerformanceObserver</code> instances introduce their own additional
performance overhead, instances should not be left subscribed to notifications
indefinitely. Users should disconnect observers as soon as they are no
longer needed.</p>
<p>The <code>callback</code> is invoked when a <code>PerformanceObserver</code> is
notified about new <code>PerformanceEntry</code> instances. The callback receives a
<code>PerformanceObserverEntryList</code> instance and a reference to the
<code>PerformanceObserver</code>.</p>
<h3>performanceObserver.disconnect()<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceobserver_disconnect" id="perf_hooks_performanceobserver_disconnect">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<p>Disconnects the <code>PerformanceObserver</code> instance from all notifications.</p>
<h3>performanceObserver.observe(options)<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceobserver_observe_options" id="perf_hooks_performanceobserver_observe_options">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li>
<p><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>entryTypes</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string[]&gt;</a> An array of strings identifying the types of
<code>PerformanceEntry</code> instances the observer is interested in. If not
provided an error will be thrown.</li>
<li><code>buffered</code> <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> If true, the notification callback will be
called using <code>setImmediate()</code> and multiple <code>PerformanceEntry</code> instance
notifications will be buffered internally. If <code>false</code>, notifications will
be immediate and synchronous. <strong>Default:</strong> <code>false</code>.</li>
</ul>
</li>
</ul>
<p>Subscribes the <code>PerformanceObserver</code> instance to notifications of new
<code>PerformanceEntry</code> instances identified by <code>options.entryTypes</code>.</p>
<p>When <code>options.buffered</code> is <code>false</code>, the <code>callback</code> will be invoked once for
every <code>PerformanceEntry</code> instance:</p>
<pre><code class="language-js">const {
  performance,
  PerformanceObserver
} = require(&apos;perf_hooks&apos;);

const obs = new PerformanceObserver((list, observer) =&gt; {
  // called three times synchronously. list contains one item
});
obs.observe({ entryTypes: [&apos;mark&apos;] });

for (let n = 0; n &lt; 3; n++)
  performance.mark(`test${n}`);
</code></pre>
<pre><code class="language-js">const {
  performance,
  PerformanceObserver
} = require(&apos;perf_hooks&apos;);

const obs = new PerformanceObserver((list, observer) =&gt; {
  // called once. list contains three items
});
obs.observe({ entryTypes: [&apos;mark&apos;], buffered: true });

for (let n = 0; n &lt; 3; n++)
  performance.mark(`test${n}`);
</code></pre>
<h2>PerformanceObserverEntryList &#x7C7B;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_class_performanceobserverentrylist" id="perf_hooks_class_performanceobserverentrylist">#</a></span></h2><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<p>The <code>PerformanceObserverEntryList</code> class is used to provide access to the
<code>PerformanceEntry</code> instances passed to a <code>PerformanceObserver</code>.</p>
<h3>performanceObserverEntryList.getEntries()<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceobserverentrylist_getentries" id="perf_hooks_performanceobserverentrylist_getentries">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li>Returns: <a href="_api_perf_hooks.html#perf_hooks_class_performanceentry" class="type">&lt;PerformanceEntry[]&gt;</a></li>
</ul>
<p>Returns a list of <code>PerformanceEntry</code> objects in chronological order
with respect to <code>performanceEntry.startTime</code>.</p>
<h3>performanceObserverEntryList.getEntriesByName(name[, type])<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceobserverentrylist_getentriesbyname_name_type" id="perf_hooks_performanceobserverentrylist_getentriesbyname_name_type">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>type</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li>Returns: <a href="_api_perf_hooks.html#perf_hooks_class_performanceentry" class="type">&lt;PerformanceEntry[]&gt;</a></li>
</ul>
<p>Returns a list of <code>PerformanceEntry</code> objects in chronological order
with respect to <code>performanceEntry.startTime</code> whose <code>performanceEntry.name</code> is
equal to <code>name</code>, and optionally, whose <code>performanceEntry.entryType</code> is equal to
<code>type</code>.</p>
<h3>performanceObserverEntryList.getEntriesByType(type)<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_performanceobserverentrylist_getentriesbytype_type" id="perf_hooks_performanceobserverentrylist_getentriesbytype_type">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.5.0</span>
</div>
<ul>
<li><code>type</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li>Returns: <a href="_api_perf_hooks.html#perf_hooks_class_performanceentry" class="type">&lt;PerformanceEntry[]&gt;</a></li>
</ul>
<p>Returns a list of <code>PerformanceEntry</code> objects in chronological order
with respect to <code>performanceEntry.startTime</code> whose <code>performanceEntry.entryType</code>
is equal to <code>type</code>.</p>
<h2>&#x793A;&#x4F8B;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_examples" id="perf_hooks_examples">#</a></span></h2>
<h3>&#x6D4B;&#x91CF;&#x5F02;&#x6B65;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x957F;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_measuring_the_duration_of_async_operations" id="perf_hooks_measuring_the_duration_of_async_operations">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<p>The following example uses the <a href="/s/bgknEa">Async Hooks</a> and Performance APIs to measure
the actual duration of a Timeout operation (including the amount of time it
to execute the callback).</p>
<pre><code class="language-js">&apos;use strict&apos;;
const async_hooks = require(&apos;async_hooks&apos;);
const {
  performance,
  PerformanceObserver
} = require(&apos;perf_hooks&apos;);

const set = new Set();
const hook = async_hooks.createHook({
  init(id, type) {
    if (type === &apos;Timeout&apos;) {
      performance.mark(`Timeout-${id}-Init`);
      set.add(id);
    }
  },
  destroy(id) {
    if (set.has(id)) {
      set.delete(id);
      performance.mark(`Timeout-${id}-Destroy`);
      performance.measure(`Timeout-${id}`,
                          `Timeout-${id}-Init`,
                          `Timeout-${id}-Destroy`);
    }
  }
});
hook.enable();

const obs = new PerformanceObserver((list, observer) =&gt; {
  console.log(list.getEntries()[0]);
  performance.clearMarks();
  observer.disconnect();
});
obs.observe({ entryTypes: [&apos;measure&apos;], buffered: true });

setTimeout(() =&gt; {}, 1000);
</code></pre>
<h3>&#x6D4B;&#x91CF;&#x52A0;&#x8F7D;&#x4F9D;&#x8D56;&#x7684;&#x8017;&#x65F6;<span><a class="mark" href="_api_perf_hooks.html#perf_hooks_measuring_how_long_it_takes_to_load_dependencies" id="perf_hooks_measuring_how_long_it_takes_to_load_dependencies">#</a></span></h3><p class="tip_wrap"><span class="tip_depre">&#x672C;&#x6BB5;&#x843D;&#x6682;&#x4E0D;&#x63D0;&#x4F9B;&#x7FFB;&#x8BD1;</span></p>
<p>The following example measures the duration of <code>require()</code> operations to load
dependencies:</p>
<!-- eslint-disable no-global-assign -->
<pre><code class="language-js">&apos;use strict&apos;;
const {
  performance,
  PerformanceObserver
} = require(&apos;perf_hooks&apos;);
const mod = require(&apos;module&apos;);

// Monkey patch the require function
mod.Module.prototype.require =
  performance.timerify(mod.Module.prototype.require);
require = performance.timerify(require);

// Activate the observer
const obs = new PerformanceObserver((list) =&gt; {
  const entries = list.getEntries();
  entries.forEach((entry) =&gt; {
    console.log(`require(&apos;${entry[0]}&apos;)`, entry.duration);
  });
  obs.disconnect();
});
obs.observe({ entryTypes: [&apos;function&apos;], buffered: true });

require(&apos;some-module&apos;);
</code></pre>
        </div>
      </div>
    </div>
  </div>
  <!-- 搜索弹窗 -->
  <!-- <div id="search_modal"></div> -->
  <!-- js -->
  <!--[if lt IE 10]><script src="/static/lib/placeholders.js?20170426"></script><![endif]-->
  
  <script>
    document.write('<script src="api.js?1540915632425"><\/script>');
  </script>

<script src="../lib/backtop.js"></script></body></html>