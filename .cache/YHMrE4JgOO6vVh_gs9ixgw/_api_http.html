<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>http | Node.js API &#x6587;&#x6863;</title>
  <link rel="icon" sizes="32x32" type="image/png" href="//static.nodejs.cn/_static/img/favicon.png">
  <script>
    document.write('<link href="api.css?1540915625473" rel="stylesheet">')
  </script>
  
</head>
<body class="alt apidoc" id="page_api">
  <div id="api-section-http">
    <div id="content" class="clearfix">
      <div id="column2" class="interior">
        <div id="intro" class="interior">
          <a href="/">
            Node.js &#x4E2D;&#x6587;&#x7F51;
          </a>
          <!-- <div>
            <input placeholder="API 快速搜索" id="modal_search_trigger">
          </div> -->
        </div>
        <div class="line"></div>
        <ul>
<li><a href="_api_assert.html" class="nav-assert">assert - &#x65AD;&#x8A00;</a></li>
<li><a href="_api_async_hooks.html" class="nav-async_hooks">async_hooks - &#x5F02;&#x6B65;&#x94A9;&#x5B50;</a></li>
<li><a href="_api_buffer.html" class="nav-buffer">Buffer - &#x7F13;&#x51B2;&#x5668;</a></li>
<li><a href="_api_child_process.html" class="nav-child_process">child_process - &#x5B50;&#x8FDB;&#x7A0B;</a></li>
<li><a href="_api_cluster.html" class="nav-cluster">cluster - &#x96C6;&#x7FA4;</a></li>
<li><a href="_api_console.html" class="nav-console">console - &#x63A7;&#x5236;&#x53F0;</a></li>
<li><a href="_api_crypto.html" class="nav-crypto">crypto - &#x52A0;&#x5BC6;</a></li>
<li><a href="_api_dgram.html" class="nav-dgram">dgram - &#x6570;&#x636E;&#x62A5;</a></li>
<li><a href="_api_dns.html" class="nav-dns">dns - &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;</a></li>
<li><a href="_api_domain.html" class="nav-domain">domain - &#x57DF;</a></li>
<li><a href="_api_errors.html" class="nav-errors">Error - &#x5F02;&#x5E38;</a></li>
<li><a href="_api_events.html" class="nav-events">events - &#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x5668;</a></li>
<li><a href="_api_fs.html" class="nav-fs">fs - &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</a></li>
<li><a href="_api_globals.html" class="nav-globals">global - &#x5168;&#x5C40;&#x53D8;&#x91CF;</a></li>
<li><a href="_api_http.html" class="nav-http active">http - HTTP</a></li>
<li><a href="_api_http2.html" class="nav-http2">http2 - HTTP/2</a></li>
<li><a href="_api_https.html" class="nav-https">https - HTTPS</a></li>
<li><a href="_api_inspector.html" class="nav-inspector">inspector - &#x8C03;&#x8BD5;&#x5668;</a></li>
<li><a href="_api_modules.html" class="nav-modules">module - &#x6A21;&#x5757;</a></li>
<li><a href="_api_net.html" class="nav-net">net - &#x7F51;&#x7EDC;</a></li>
<li><a href="_api_os.html" class="nav-os">os - &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</a></li>
<li><a href="_api_path.html" class="nav-path">path - &#x8DEF;&#x5F84;</a></li>
<li><a href="_api_perf_hooks.html" class="nav-perf_hooks">perf_hooks - &#x6027;&#x80FD;&#x94A9;&#x5B50;</a></li>
<li><a href="_api_process.html" class="nav-process">process - &#x8FDB;&#x7A0B;</a></li>
<li><a href="_api_punycode.html" class="nav-punycode">punycode - &#x57DF;&#x540D;&#x4EE3;&#x7801;</a></li>
<li><a href="_api_querystring.html" class="nav-querystring">querystring - &#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</a></li>
<li><a href="_api_readline.html" class="nav-readline">readline - &#x9010;&#x884C;&#x8BFB;&#x53D6;</a></li>
<li><a href="_api_repl.html" class="nav-repl">repl - &#x4EA4;&#x4E92;&#x5F0F;&#x89E3;&#x91CA;&#x5668;</a></li>
<li><a href="_api_stream.html" class="nav-stream">stream - &#x6D41;</a></li>
<li><a href="_api_string_decoder.html" class="nav-string_decoder">string_decoder - &#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x7801;&#x5668;</a></li>
<li><a href="_api_timers.html" class="nav-timers">timer - &#x5B9A;&#x65F6;&#x5668;</a></li>
<li><a href="_api_tls.html" class="nav-tls">tls - &#x5B89;&#x5168;&#x4F20;&#x8F93;&#x5C42;</a></li>
<li><a href="_api_tracing.html" class="nav-tracing">trace_events - &#x8DDF;&#x8E2A;&#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_tty.html" class="nav-tty">tty - &#x7EC8;&#x7AEF;</a></li>
<li><a href="_api_url.html" class="nav-url">url - &#x7F51;&#x5740;</a></li>
<li><a href="_api_util.html" class="nav-util">util - &#x5B9E;&#x7528;&#x5DE5;&#x5177;</a></li>
<li><a href="_api_v8.html" class="nav-v8">v8 - V8&#x5F15;&#x64CE;</a></li>
<li><a href="_api_vm.html" class="nav-vm">vm - &#x865A;&#x62DF;&#x673A;</a></li>
<li><a href="_api_worker_threads.html" class="nav-worker_threads">worker_threads - &#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;</a></li>
<li><a href="_api_zlib.html" class="nav-zlib">zlib - &#x538B;&#x7F29;</a></li>
</ul>
<div class="line"></div>
<ul>
<li><a href="_api_documentation.html" class="nav-documentation">&#x5173;&#x4E8E;&#x672C;&#x6587;&#x6863;</a></li>
<li><a href="_api_synopsis.html" class="nav-synopsis">&#x7528;&#x6CD5;&#x4E0E;&#x4F8B;&#x5B50;</a></li>
<li><a href="_api_addons.html" class="nav-addons">C++&#x63D2;&#x4EF6;</a></li>
<li><a href="_api_n-api.html" class="nav-n-api">N-API</a></li>
<li><a href="_api_cli.html" class="nav-cli">&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;</a></li>
<li><a href="_api_debugger.html" class="nav-debugger">debugger &#x8C03;&#x8BD5;&#x5668;</a></li>
<li><a href="_api_esm.html" class="nav-esm">ECMAScript &#x6A21;&#x5757;</a></li>
<li><a href="_api_intl.html" class="nav-intl">&#x56FD;&#x9645;&#x5316;&#x652F;&#x6301;</a></li>
<li><a href="_api_deprecations.html" class="nav-deprecations">&#x5E9F;&#x5F03;&#x7684; API</a></li>
</ul>
      </div>
  
      <div id="column1" data-id="http" class="interior">
        <header>
          <h1>Node.js v10.13.0 &#x6587;&#x6863;</h1>
          <div id="gtoc">
            <ul>
              <li>
                <a href="_api_.html" name="toc">&#x8FD4;&#x56DE;&#x6587;&#x6863;&#x9996;&#x9875;</a>
              </li>
              <li>
                <a href="/search" name="toc">&#x641C;&#x7D22;</a>
              </li>
            </ul>
          </div>
          <hr>
        </header>

        <div id="adWrap"></div>
  
        <div id="toc">
          <h2>&#x76EE;&#x5F55;</h2>
          <ul>
<li>
<p><span class="stability_2"><a href="_api_http.html#http_http">http</a></span></p>
<ul>
<li>
<p><a href="_api_http.html#http_class_http_agent">http.Agent &#x7C7B;</a></p>
<ul>
<li><a href="_api_http.html#http_new_agent_options">new Agent([options])</a></li>
<li><a href="_api_http.html#http_agent_createconnection_options_callback">agent.createConnection(options[, callback])</a></li>
<li><a href="_api_http.html#http_agent_keepsocketalive_socket">agent.keepSocketAlive(socket)</a></li>
<li><a href="_api_http.html#http_agent_reusesocket_socket_request">agent.reuseSocket(socket, request)</a></li>
<li><a href="_api_http.html#http_agent_destroy">agent.destroy()</a></li>
<li><a href="_api_http.html#http_agent_freesockets">agent.freeSockets</a></li>
<li><a href="_api_http.html#http_agent_getname_options">agent.getName(options)</a></li>
<li><a href="_api_http.html#http_agent_maxfreesockets">agent.maxFreeSockets</a></li>
<li><a href="_api_http.html#http_agent_maxsockets">agent.maxSockets</a></li>
<li><a href="_api_http.html#http_agent_requests">agent.requests</a></li>
<li><a href="_api_http.html#http_agent_sockets">agent.sockets</a></li>
</ul>
</li>
<li>
<p><a href="_api_http.html#http_class_http_clientrequest">http.ClientRequest &#x7C7B;</a></p>
<ul>
<li><a href="_api_http.html#http_event_abort">&apos;abort&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_connect">&apos;connect&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_continue">&apos;continue&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_information">Event: &apos;information&apos;</a></li>
<li><a href="_api_http.html#http_event_response">&apos;response&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_socket">&apos;socket&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_timeout">Event: &apos;timeout&apos;</a></li>
<li><a href="_api_http.html#http_event_upgrade">&apos;upgrade&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_request_abort">request.abort()</a></li>
<li><a href="_api_http.html#http_request_aborted">request.aborted</a></li>
<li><a href="_api_http.html#http_request_connection">request.connection</a></li>
<li><a href="_api_http.html#http_request_end_data_encoding_callback">request.end([data[, encoding]][, callback])</a></li>
<li><a href="_api_http.html#http_request_flushheaders">request.flushHeaders()</a></li>
<li><a href="_api_http.html#http_request_getheader_name">request.getHeader(name)</a></li>
<li><a href="_api_http.html#http_request_maxheaderscount">request.maxHeadersCount</a></li>
<li><a href="_api_http.html#http_request_removeheader_name">request.removeHeader(name)</a></li>
<li><a href="_api_http.html#http_request_setheader_name_value">request.setHeader(name, value)</a></li>
<li><a href="_api_http.html#http_request_setnodelay_nodelay">request.setNoDelay([noDelay])</a></li>
<li><a href="_api_http.html#http_request_setsocketkeepalive_enable_initialdelay">request.setSocketKeepAlive([enable][, initialDelay])</a></li>
<li><a href="_api_http.html#http_request_settimeout_timeout_callback">request.setTimeout(timeout[, callback])</a></li>
<li><a href="_api_http.html#http_request_socket">request.socket</a></li>
<li><a href="_api_http.html#http_request_write_chunk_encoding_callback">request.write(chunk[, encoding][, callback])</a></li>
</ul>
</li>
<li>
<p><a href="_api_http.html#http_class_http_server">http.Server &#x7C7B;</a></p>
<ul>
<li><a href="_api_http.html#http_event_checkcontinue">&apos;checkContinue&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_checkexpectation">&apos;checkExpectation&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_clienterror">&apos;clientError&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_close">&apos;close&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_connect_1">&apos;connect&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_connection">&apos;connection&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_request">&apos;request&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_upgrade_1">&apos;upgrade&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_server_close_callback">server.close([callback])</a></li>
<li><a href="_api_http.html#http_server_listen">server.listen()</a></li>
<li><a href="_api_http.html#http_server_listening">server.listening</a></li>
<li><a href="_api_http.html#http_server_maxheaderscount">server.maxHeadersCount</a></li>
<li><a href="_api_http.html#http_server_settimeout_msecs_callback">server.setTimeout([msecs][, callback])</a></li>
<li><a href="_api_http.html#http_server_timeout">server.timeout</a></li>
<li><a href="_api_http.html#http_server_keepalivetimeout">server.keepAliveTimeout</a></li>
</ul>
</li>
<li>
<p><a href="_api_http.html#http_class_http_serverresponse">http.ServerResponse &#x7C7B;</a></p>
<ul>
<li><a href="_api_http.html#http_event_close_1">&apos;close&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_finish">&apos;finish&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_response_addtrailers_headers">response.addTrailers(headers)</a></li>
<li><a href="_api_http.html#http_response_connection">response.connection</a></li>
<li><a href="_api_http.html#http_response_end_data_encoding_callback">response.end([data][, encoding][, callback])</a></li>
<li><a href="_api_http.html#http_response_finished">response.finished</a></li>
<li><a href="_api_http.html#http_response_getheader_name">response.getHeader(name)</a></li>
<li><a href="_api_http.html#http_response_getheadernames">response.getHeaderNames()</a></li>
<li><a href="_api_http.html#http_response_getheaders">response.getHeaders()</a></li>
<li><a href="_api_http.html#http_response_hasheader_name">response.hasHeader(name)</a></li>
<li><a href="_api_http.html#http_response_headerssent">response.headersSent</a></li>
<li><a href="_api_http.html#http_response_removeheader_name">response.removeHeader(name)</a></li>
<li><a href="_api_http.html#http_response_senddate">response.sendDate</a></li>
<li><a href="_api_http.html#http_response_setheader_name_value">response.setHeader(name, value)</a></li>
<li><a href="_api_http.html#http_response_settimeout_msecs_callback">response.setTimeout(msecs[, callback])</a></li>
<li><a href="_api_http.html#http_response_socket">response.socket</a></li>
<li><a href="_api_http.html#http_response_statuscode">response.statusCode</a></li>
<li><a href="_api_http.html#http_response_statusmessage">response.statusMessage</a></li>
<li><a href="_api_http.html#http_response_write_chunk_encoding_callback">response.write(chunk[, encoding][, callback])</a></li>
<li><a href="_api_http.html#http_response_writecontinue">response.writeContinue()</a></li>
<li><a href="_api_http.html#http_response_writehead_statuscode_statusmessage_headers">response.writeHead(statusCode[, statusMessage][, headers])</a></li>
<li><a href="_api_http.html#http_response_writeprocessing">response.writeProcessing()</a></li>
</ul>
</li>
<li>
<p><a href="_api_http.html#http_class_http_incomingmessage">http.IncomingMessage &#x7C7B;</a></p>
<ul>
<li><a href="_api_http.html#http_event_aborted">&apos;aborted&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_event_close_2">&apos;close&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="_api_http.html#http_message_aborted">message.aborted</a></li>
<li><a href="_api_http.html#http_message_destroy_error">message.destroy([error])</a></li>
<li><a href="_api_http.html#http_message_headers">message.headers</a></li>
<li><a href="_api_http.html#http_message_httpversion">message.httpVersion</a></li>
<li><a href="_api_http.html#http_message_method">message.method</a></li>
<li><a href="_api_http.html#http_message_rawheaders">message.rawHeaders</a></li>
<li><a href="_api_http.html#http_message_rawtrailers">message.rawTrailers</a></li>
<li><a href="_api_http.html#http_message_settimeout_msecs_callback">message.setTimeout(msecs, callback)</a></li>
<li><a href="_api_http.html#http_message_socket">message.socket</a></li>
<li><a href="_api_http.html#http_message_statuscode">message.statusCode</a></li>
<li><a href="_api_http.html#http_message_statusmessage">message.statusMessage</a></li>
<li><a href="_api_http.html#http_message_trailers">message.trailers</a></li>
<li><a href="_api_http.html#http_message_url">message.url</a></li>
</ul>
</li>
<li><a href="_api_http.html#http_http_methods">http.METHODS</a></li>
<li><a href="_api_http.html#http_http_status_codes">http.STATUS_CODES</a></li>
<li><a href="_api_http.html#http_http_createserver_options_requestlistener">http.createServer([options][, requestListener])</a></li>
<li><a href="_api_http.html#http_http_get_options_callback">http.get(options[, callback])</a></li>
<li><a href="_api_http.html#http_http_get_url_options_callback">http.get(url[, options][, callback])</a></li>
<li><a href="_api_http.html#http_http_globalagent">http.globalAgent</a></li>
<li><a href="_api_http.html#http_http_request_options_callback">http.request(options[, callback])</a></li>
<li><a href="_api_http.html#http_http_request_url_options_callback">http.request(url[, options][, callback])</a></li>
</ul>
</li>
</ul>
        </div>
  
        <div id="apicontent">
          <h1>http<span><a class="mark" href="_api_http.html#http_http" id="http_http">#</a></span></h1><p class="tip_wrap"><a href="_api_en_http.html#http_http" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<!--introduced_in=v0.10.0-->
<p></p><div class="api_stability api_stability_2"><a href="_api_documentation.html#documentation_stability_index">&#x7A33;&#x5B9A;&#x6027;: 2</a> - &#x7A33;&#x5B9A;&#x7684;</div><p></p>
<p>&#x8981;&#x4F7F;&#x7528; HTTP &#x670D;&#x52A1;&#x5668;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x9700;&#x8981; <code>require(&apos;http&apos;)</code>&#x3002;</p>
<p>Node.js &#x4E2D;&#x7684; HTTP &#x63A5;&#x53E3;&#x88AB;&#x8BBE;&#x8BA1;&#x6210;&#x652F;&#x6301;&#x534F;&#x8BAE;&#x7684;&#x8BB8;&#x591A;&#x7279;&#x6027;&#x3002;
&#x6BD4;&#x5982;&#xFF0C;&#x5927;&#x5757;&#x7F16;&#x7801;&#x7684;&#x6D88;&#x606F;&#x3002;
&#x8FD9;&#x4E9B;&#x63A5;&#x53E3;&#x4E0D;&#x7F13;&#x51B2;&#x5B8C;&#x6574;&#x7684;&#x8BF7;&#x6C42;&#x6216;&#x54CD;&#x5E94;&#xFF0C;&#x7528;&#x6237;&#x80FD;&#x591F;&#x4EE5;&#x6D41;&#x7684;&#x5F62;&#x5F0F;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;</p>
<p>HTTP &#x6D88;&#x606F;&#x5934;&#x7531;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x8868;&#x793A;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<!-- eslint-skip -->
<pre><code class="language-js">{ &apos;content-length&apos;: &apos;123&apos;,
  &apos;content-type&apos;: &apos;text/plain&apos;,
  &apos;connection&apos;: &apos;keep-alive&apos;,
  &apos;host&apos;: &apos;mysite.com&apos;,
  &apos;accept&apos;: &apos;*/*&apos; }
</code></pre>
<p>&#x952E;&#x540D;&#x662F;&#x5C0F;&#x5199;&#x7684;&#xFF0C;&#x952E;&#x503C;&#x4E0D;&#x80FD;&#x4FEE;&#x6539;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x652F;&#x6301;&#x5404;&#x79CD;&#x53EF;&#x80FD;&#x7684; HTTP &#x5E94;&#x7528;&#xFF0C;Node.js &#x7684; HTTP API &#x662F;&#x975E;&#x5E38;&#x5E95;&#x5C42;&#x7684;&#x3002;
&#x5B83;&#x53EA;&#x6D89;&#x53CA;&#x6D41;&#x5904;&#x7406;&#x4E0E;&#x6D88;&#x606F;&#x89E3;&#x6790;&#x3002;
&#x5B83;&#x628A;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x89E3;&#x6790;&#x6210;&#x6D88;&#x606F;&#x5934;&#x548C;&#x6D88;&#x606F;&#x4E3B;&#x4F53;&#xFF0C;&#x4F46;&#x4E0D;&#x89E3;&#x6790;&#x5177;&#x4F53;&#x7684;&#x6D88;&#x606F;&#x5934;&#x6216;&#x6D88;&#x606F;&#x4E3B;&#x4F53;&#x3002;</p>
<p>&#x67E5;&#x770B; <a href="/s/9aiRnT"><code>message.headers</code></a> &#x4E86;&#x89E3;&#x5982;&#x4F55;&#x5904;&#x7406;&#x91CD;&#x590D;&#x7684;&#x6D88;&#x606F;&#x5934;&#x3002;</p>
<p>&#x63A5;&#x6536;&#x5230;&#x7684;&#x539F;&#x59CB;&#x6D88;&#x606F;&#x5934;&#x4FDD;&#x5B58;&#x5728; <code>rawHeaders</code> &#x5C5E;&#x6027;&#x4E2D;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A; <code>[key, value, key2, value2, ...]</code> &#x6570;&#x7EC4;&#x3002;
&#x4F8B;&#x5982;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x6D88;&#x606F;&#x5934;&#x5BF9;&#x8C61;&#x6709;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4EE5;&#x4E0B;&#x7684; <code>rawHeaders</code> &#x5217;&#x8868;&#xFF1A;</p>
<!-- eslint-disable semi -->
<pre><code class="language-js">[ &apos;ConTent-Length&apos;, &apos;123456&apos;,
  &apos;content-LENGTH&apos;, &apos;123&apos;,
  &apos;content-type&apos;, &apos;text/plain&apos;,
  &apos;CONNECTION&apos;, &apos;keep-alive&apos;,
  &apos;Host&apos;, &apos;mysite.com&apos;,
  &apos;accepT&apos;, &apos;*/*&apos; ]
</code></pre>
<h2>http.Agent &#x7C7B;<span><a class="mark" href="_api_http.html#http_class_http_agent" id="http_class_http_agent">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_class_http_agent" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/class_http_agent.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.4</span>
</div>
<p><code>Agent</code> &#x8D1F;&#x8D23;&#x4E3A; HTTP &#x5BA2;&#x6237;&#x7AEF;&#x7BA1;&#x7406;&#x8FDE;&#x63A5;&#x7684;&#x6301;&#x7EED;&#x4E0E;&#x590D;&#x7528;&#x3002;
&#x5B83;&#x4E3A;&#x4E00;&#x4E2A;&#x7ED9;&#x5B9A;&#x7684;&#x4E3B;&#x673A;&#x4E0E;&#x7AEF;&#x53E3;&#x7EF4;&#x62A4;&#x7740;&#x4E00;&#x4E2A;&#x7B49;&#x5F85;&#x8BF7;&#x6C42;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x4E14;&#x4E3A;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x91CD;&#x590D;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684; socket &#x8FDE;&#x63A5;&#x76F4;&#x5230;&#x961F;&#x5217;&#x4E3A;&#x7A7A;&#xFF0C;&#x6B64;&#x65F6; socket &#x4F1A;&#x88AB;&#x9500;&#x6BC1;&#x6216;&#x88AB;&#x653E;&#x5165;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#xFF0C;&#x5728;&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7B49;&#x5F85;&#x88AB;&#x6709;&#x7740;&#x76F8;&#x540C;&#x4E3B;&#x673A;&#x4E0E;&#x7AEF;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x518D;&#x6B21;&#x4F7F;&#x7528;&#x3002;
&#x662F;&#x5426;&#x88AB;&#x9500;&#x6BC1;&#x6216;&#x88AB;&#x653E;&#x5165;&#x8FDE;&#x63A5;&#x6C60;&#x53D6;&#x51B3;&#x4E8E; <a href="/s/Sf21tj"><code>keepAlive</code> &#x9009;&#x9879;</a>&#x3002;</p>
<p>&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7684;&#x8FDE;&#x63A5;&#x7684; TCP Keep-Alive &#x662F;&#x5F00;&#x542F;&#x7684;&#xFF0C;&#x4F46;&#x670D;&#x52A1;&#x5668;&#x4ECD;&#x7136;&#x53EF;&#x80FD;&#x5173;&#x95ED;&#x95F2;&#x7F6E;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x4E9B;&#x8FDE;&#x63A5;&#x4F1A;&#x88AB;&#x79FB;&#x51FA;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x4E14;&#x5F53;&#x4E00;&#x4E2A;&#x65B0;&#x7684; HTTP &#x8BF7;&#x6C42;&#x88AB;&#x521B;&#x5EFA;&#x65F6;&#x518D;&#x4E3A;&#x6307;&#x5B9A;&#x7684;&#x4E3B;&#x673A;&#x4E0E;&#x7AEF;&#x53E3;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x3002;
&#x670D;&#x52A1;&#x5668;&#x4E5F;&#x53EF;&#x80FD;&#x62D2;&#x7EDD;&#x5141;&#x8BB8;&#x540C;&#x4E00;&#x8FDE;&#x63A5;&#x4E0A;&#x6709;&#x591A;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FDE;&#x63A5;&#x4F1A;&#x4E3A;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#xFF0C;&#x4E14;&#x4E0D;&#x80FD;&#x88AB;&#x653E;&#x5165;&#x8FDE;&#x63A5;&#x6C60;&#x3002;
<code>Agent</code> &#x4ECD;&#x7136;&#x4F1A;&#x521B;&#x5EFA;&#x8BF7;&#x6C42;&#x5230;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F46;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x4F46;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x88AB;&#x5BA2;&#x6237;&#x7AEF;&#x6216;&#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x79FB;&#x51FA;&#x8FDE;&#x63A5;&#x6C60;&#x3002;
&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x4EFB;&#x4F55;&#x672A;&#x88AB;&#x4F7F;&#x7528;&#x7684; socket &#x4F1A;&#x88AB;&#x91CA;&#x653E;&#xFF0C;&#x4ECE;&#x800C;&#x4F7F; Node.js &#x8FDB;&#x7A0B;&#x5728;&#x6CA1;&#x6709;&#x8BF7;&#x6C42;&#x65F6;&#x4E0D;&#x7528;&#x4FDD;&#x6301;&#x8FD0;&#x884C;&#x3002;
&#xFF08;&#x67E5;&#x770B; [socket.unref()]&#xFF09;&#x3002;</p>
<p>&#x5F53; <code>Agent</code> &#x5B9E;&#x4F8B;&#x4E0D;&#x518D;&#x88AB;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x5EFA;&#x8BAE; <a href="/s/qZQu4q"><code>destroy()</code></a> &#x5B83;&#xFF0C;&#x56E0;&#x4E3A;&#x672A;&#x88AB;&#x4F7F;&#x7528;&#x7684; socket &#x4E5F;&#x4F1A;&#x6D88;&#x8017;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x3002;</p>
<p>&#x5F53; socket &#x89E6;&#x53D1; <code>&apos;close&apos;</code> &#x4E8B;&#x4EF6;&#x6216; <code>&apos;agentRemove&apos;</code> &#x4E8B;&#x4EF6;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x79FB;&#x51FA;&#x4EE3;&#x7406;&#x3002;
&#x5F53;&#x6253;&#x7B97;&#x957F;&#x65F6;&#x95F4;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x4E00;&#x4E2A; HTTP &#x8BF7;&#x6C42;&#x4E14;&#x4E0D;&#x60F3;&#x5B83;&#x7559;&#x5728;&#x4EE3;&#x7406;&#x4E2D;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5982;&#x4E0B;&#x5904;&#x7406;&#xFF1A;</p>
<pre><code class="language-js">http.get(options, (res) =&gt; {
  // &#x5904;&#x7406;&#x4E8B;&#x60C5;
}).on(&apos;socket&apos;, (socket) =&gt; {
  socket.emit(&apos;agentRemove&apos;);
});
</code></pre>
<p>&#x4EE3;&#x7406;&#x4E5F;&#x53EF;&#x88AB;&#x7528;&#x4E8E;&#x5355;&#x72EC;&#x7684;&#x8BF7;&#x6C42;&#x3002;
&#x4F7F;&#x7528; <code>{agent: false}</code> &#x4F5C;&#x4E3A; <code>http.get()</code> &#x51FD;&#x6570;&#x6216; <code>http.request()</code> &#x51FD;&#x6570;&#x7684;&#x9009;&#x9879;&#xFF0C;&#x5219;&#x4F1A;&#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x7684;&#x4E00;&#x6B21;&#x6027;&#x4F7F;&#x7528;&#x7684; <code>Agent</code>&#x3002;</p>
<p><code>agent:false</code>:</p>
<pre><code class="language-js">http.get({
  hostname: &apos;localhost&apos;,
  port: 80,
  path: &apos;/&apos;,
  agent: false  // &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x53EA;&#x7528;&#x4E8E;&#x672C;&#x6B21;&#x8BF7;&#x6C42;
}, (res) =&gt; {
  // &#x5BF9;&#x54CD;&#x5E94;&#x8FDB;&#x884C;&#x5904;&#x7406;
});
</code></pre>
<h3>new Agent([options])<span><a class="mark" href="_api_http.html#http_new_agent_options" id="http_new_agent_options">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_new_agent_options" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/new_agent_options.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.4</span>
</div>
<ul>
<li>
<p><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x4EE3;&#x7406;&#x7684;&#x914D;&#x7F6E;&#x9009;&#x9879;&#x3002;&#x6709;&#x4EE5;&#x4E0B;&#x5B57;&#x6BB5;</p>
<ul>
<li><code>keepAlive</code> <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> &#x4FDD;&#x6301; socket &#x53EF;&#x7528;&#x5373;&#x4F7F;&#x6CA1;&#x6709;&#x8BF7;&#x6C42;&#xFF0C;&#x4EE5;&#x4FBF;&#x5B83;&#x4EEC;&#x53EF;&#x88AB;&#x5C06;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x4F7F;&#x7528;&#x800C;&#x65E0;&#x9700;&#x91CD;&#x65B0;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A; TCP &#x8FDE;&#x63A5;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>false</code>&#x3002;</li>
<li><code>keepAliveMsecs</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x5F53;&#x4F7F;&#x7528;&#x4E86; <code>keepAlive</code> &#x9009;&#x9879;&#x65F6;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x6307;&#x5B9A; TCP <code>Keep-Alive</code> &#x6570;&#x636E;&#x5305;&#x7684; <a href="/s/qqbgUD">&#x521D;&#x59CB;&#x5EF6;&#x8FDF;</a>&#x3002;
&#x5F53; <code>keepAlive</code> &#x9009;&#x9879;&#x4E3A; <code>false</code> &#x6216; <code>undefined</code> &#x65F6;&#xFF0C;&#x8BE5;&#x9009;&#x9879;&#x65E0;&#x6548;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>1000</code>&#x3002;</li>
<li><code>maxSockets</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x6BCF;&#x4E2A;&#x4E3B;&#x673A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927; socket &#x6570;&#x91CF;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>Infinity</code>&#x3002;</li>
<li><code>maxFreeSockets</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x5728;&#x7A7A;&#x95F2;&#x72B6;&#x6001;&#x4E0B;&#x5141;&#x8BB8;&#x6253;&#x5F00;&#x7684;&#x6700;&#x5927; socket &#x6570;&#x91CF;&#x3002;
&#x4EC5;&#x5F53; <code>keepAlive</code> &#x4E3A; <code>true</code> &#x65F6;&#x624D;&#x6709;&#x6548;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>256</code>&#x3002;</li>
<li><code>timeout</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> socket &#x8D85;&#x65F6;&#x6BEB;&#x79D2;&#x6570;&#xFF0C;socket&#x8FDE;&#x63A5;&#x5EFA;&#x7ACB;&#x4E4B;&#x540E;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#x6307;&#x5BA2;&#x6237;&#x7AEF;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF09;&#xFF0C;&#x8FD9;&#x5C06;&#x5728;&#x5957;&#x63A5;&#x5B57;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x540E;&#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x3002;</li>
</ul>
</li>
</ul>
<p><a href="/s/d1myoL"><code>http.request()</code></a> &#x4F7F;&#x7528;&#x7684;&#x9ED8;&#x8BA4; <a href="/s/g7BhW2"><code>http.globalAgent</code></a> &#x7684;&#x9009;&#x9879;&#x5747;&#x4E3A;&#x5404;&#x81EA;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</p>
<p>&#x82E5;&#x8981;&#x914D;&#x7F6E;&#x5176;&#x4E2D;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684; <a href="/s/HRCnER"><code>http.Agent</code></a> &#x5B9E;&#x4F8B;&#x3002;</p>
<pre><code class="language-js">const http = require(&apos;http&apos;);
const keepAliveAgent = new http.Agent({ keepAlive: true });
options.agent = keepAliveAgent;
http.request(options, onResponseCallback);
</code></pre>
<h3>agent.createConnection(options[, callback])<span><a class="mark" href="_api_http.html#http_agent_createconnection_options_callback" id="http_agent_createconnection_options_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_createconnection_options_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_createconnection_options_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.4</span>
</div>
<ul>
<li><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x5305;&#x542B;&#x8FDE;&#x63A5;&#x8BE6;&#x60C5;&#x7684;&#x9009;&#x9879;&#x3002;&#x67E5;&#x770B; <a href="/s/xu7F69"><code>net.createConnection()</code></a> &#x4E86;&#x89E3;&#x9009;&#x9879;&#x7684;&#x683C;&#x5F0F;&#x3002;</li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> &#x63A5;&#x6536;&#x88AB;&#x521B;&#x5EFA;&#x7684; socket &#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</li>
<li>&#x8FD4;&#x56DE;: <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E; HTTP &#x8BF7;&#x6C42;&#x7684; socket &#x6216;&#x6D41;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x7C7B;&#x4F3C;&#x4E8E; <a href="/s/xu7F69"><code>net.createConnection()</code></a>&#x3002;
&#x4F46;&#x662F;&#x5982;&#x679C;&#x671F;&#x671B;&#x66F4;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x4EE3;&#x7406;&#x53EF;&#x4EE5;&#x91CD;&#x5199;&#x8BE5;&#x65B9;&#x6CD5;&#x3002;</p>
<p>socket &#x6216;&#x6D41;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x83B7;&#x53D6;&#xFF1A;&#x4ECE;&#x8BE5;&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#xFF0C;&#x6216;&#x4F20;&#x5165; <code>callback</code>&#x3002;</p>
<p><code>callback</code> &#x6709; <code>(err, stream)</code> &#x53C2;&#x6570;&#x3002;</p>
<h3>agent.keepSocketAlive(socket)<span><a class="mark" href="_api_http.html#http_agent_keepsocketalive_socket" id="http_agent_keepsocketalive_socket">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_keepsocketalive_socket" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_keepsocketalive_socket.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.1.0</span>
</div>
<ul>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x5728; <code>socket</code> &#x88AB;&#x8BF7;&#x6C42;&#x5206;&#x79BB;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;, &#x53EF;&#x80FD;&#x88AB;&#x4EE3;&#x7406;&#x6301;&#x7EED;&#x4F7F;&#x7528;. &#x9ED8;&#x8BA4;&#x884C;&#x4E3A;:</p>
<pre><code class="language-js">socket.setKeepAlive(true, this.keepAliveMsecs);
socket.unref();
return true;
</code></pre>
<p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x88AB;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684; <code>Agent</code> &#x5B50;&#x7C7B;&#x91CD;&#x5199;. &#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x5047;&#x503C;, socket &#x4F1A;&#x88AB;&#x9500;&#x6BC1;&#x800C;&#x4E0D;&#x662F;
&#x5728;&#x4E0B;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x65F6;&#x6301;&#x7EED;&#x4F7F;&#x7528;.</p>
<h3>agent.reuseSocket(socket, request)<span><a class="mark" href="_api_http.html#http_agent_reusesocket_socket_request" id="http_agent_reusesocket_socket_request">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_reusesocket_socket_request" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_reusesocket_socket_request.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.1.0</span>
</div>
<ul>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
<li><code>request</code> <a href="_api_http.html#http_class_http_clientrequest" class="type">&lt;http.ClientRequest&gt;</a></li>
</ul>
<p>&#x7531;&#x4E8E; keep-alive &#x9009;&#x9879;&#x88AB;&#x4FDD;&#x6301;&#x6301;&#x4E45;&#x5316;, &#x5728; <code>socket</code> &#x9644;&#x52A0;&#x5230; <code>request</code> &#x65F6;&#x8C03;&#x7528;. &#x9ED8;&#x8BA4;&#x884C;&#x4E3A;&#x662F;:</p>
<pre><code class="language-js">socket.ref();
</code></pre>
<p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x88AB;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684; <code>Agent</code> &#x5B50;&#x7C7B;&#x91CD;&#x5199;.</p>
<h3>agent.destroy()<span><a class="mark" href="_api_http.html#http_agent_destroy" id="http_agent_destroy">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_destroy" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_destroy.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.4</span>
</div>
<p>&#x9500;&#x6BC1;&#x5F53;&#x524D;&#x6B63;&#x88AB;&#x4EE3;&#x7406;&#x4F7F;&#x7528;&#x7684;&#x4EFB;&#x4F55; socket&#x3002;</p>
<p>&#x901A;&#x5E38;&#x4E0D;&#x9700;&#x8981;&#x8FD9;&#x4E48;&#x505A;&#x3002;
&#x4F46;&#x662F;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x7684;&#x4EE3;&#x7406;&#x542F;&#x7528;&#x4E86; <code>keepAlive</code>&#xFF0C;&#x5219;&#x5F53;&#x786E;&#x5B9A;&#x5B83;&#x4E0D;&#x518D;&#x88AB;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x6700;&#x597D;&#x663E;&#x5F0F;&#x5730;&#x5173;&#x95ED;&#x4EE3;&#x7406;&#x3002;
&#x5426;&#x5219;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7EC8;&#x6B62;&#x5B83;&#x4EEC;&#x4E4B;&#x524D;&#xFF0C;socket &#x53EF;&#x80FD;&#x8FD8;&#x4F1A;&#x957F;&#x65F6;&#x95F4;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x3002;</p>
<h3>agent.freeSockets<span><a class="mark" href="_api_http.html#http_agent_freesockets" id="http_agent_freesockets">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_freesockets" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_freesockets.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.4</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x542B;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x88AB;&#x542F;&#x7528;&#x4E86; <code>keepAlive</code> &#x7684;&#x4EE3;&#x7406;&#x4F7F;&#x7528;&#x7684; socket &#x6570;&#x7EC4;&#x3002;
&#x4E0D;&#x8981;&#x4FEE;&#x6539;&#x8BE5;&#x5C5E;&#x6027;&#x3002;</p>
<h3>agent.getName(options)<span><a class="mark" href="_api_http.html#http_agent_getname_options" id="http_agent_getname_options">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_getname_options" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_getname_options.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.4</span>
</div>
<ul>
<li>
<p><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x4E3A;&#x540D;&#x79F0;&#x751F;&#x6210;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x4FE1;&#x606F;&#x7684;&#x9009;&#x9879;&#x3002;</p>
<ul>
<li><code>host</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x81F3;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x57DF;&#x540D;&#x6216; IP &#x5730;&#x5740;&#x3002;</li>
<li><code>port</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x3002;</li>
<li><code>localAddress</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5F53;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x4E3A;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7ED1;&#x5B9A;&#x7684;&#x672C;&#x5730;&#x63A5;&#x53E3;&#x3002;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x4E3A;&#x8BF7;&#x6C42;&#x9009;&#x9879;&#x7684;&#x96C6;&#x5408;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x7528;&#x6765;&#x5224;&#x65AD;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x88AB;&#x590D;&#x7528;&#x3002;
&#x5BF9;&#x4E8E; HTTP &#x4EE3;&#x7406;&#xFF0C;&#x8FD4;&#x56DE; <code>host:port:localAddress</code> &#x6216; <code>host:port:localAddress:family</code>&#x3002;
&#x5BF9;&#x4E8E; HTTPS &#x4EE3;&#x7406;&#xFF0C;&#x540D;&#x79F0;&#x4F1A;&#x5305;&#x542B; CA&#x3001;&#x8BC1;&#x4E66;&#x3001;&#x5BC6;&#x7801;&#x3001;&#x4EE5;&#x53CA;&#x5176;&#x4ED6; HTTPS/TLS &#x7279;&#x6709;&#x7684;&#x7528;&#x4E8E;&#x5224;&#x65AD; socket &#x590D;&#x7528;&#x6027;&#x7684;&#x9009;&#x9879;&#x3002;</p>
<h3>agent.maxFreeSockets<span><a class="mark" href="_api_http.html#http_agent_maxfreesockets" id="http_agent_maxfreesockets">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_maxfreesockets" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_maxfreesockets.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.7</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>&#x9ED8;&#x8BA4;&#x4E3A; 256&#x3002;
&#x5BF9;&#x4E8E;&#x5DF2;&#x542F;&#x7528; <code>keepAlive</code> &#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x53EF;&#x8BBE;&#x7F6E;&#x8981;&#x4FDD;&#x7559;&#x7684;&#x7A7A;&#x95F2; socket &#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;&#x3002;</p>
<h3>agent.maxSockets<span><a class="mark" href="_api_http.html#http_agent_maxsockets" id="http_agent_maxsockets">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_maxsockets" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_maxsockets.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.6</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>&#x9ED8;&#x8BA4;&#x4E3A;&#x4E0D;&#x9650;&#x5236;&#x3002;
&#x8BE5;&#x5C5E;&#x6027;&#x53EF;&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;&#x4E3A;&#x6BCF;&#x4E2A;&#x6765;&#x6E90;&#x6253;&#x5F00;&#x7684;&#x5E76;&#x53D1; socket &#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;&#x3002;
&#x6765;&#x6E90;&#x662F; <a href="/s/F2jZJb"><code>agent.getName()</code></a> &#x7684;&#x8FD4;&#x56DE;&#x503C;&#x3002;</p>
<h3>agent.requests<span><a class="mark" href="_api_http.html#http_agent_requests" id="http_agent_requests">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_requests" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_requests.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x542B;&#x8FD8;&#x672A;&#x88AB;&#x5206;&#x914D;&#x5230; socket &#x7684;&#x8BF7;&#x6C42;&#x961F;&#x5217;&#x3002;
&#x4E0D;&#x8981;&#x4FEE;&#x6539;&#x3002;</p>
<h3>agent.sockets<span><a class="mark" href="_api_http.html#http_agent_sockets" id="http_agent_sockets">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_agent_sockets" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/agent_sockets.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.6</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5305;&#x542B;&#x5F53;&#x524D;&#x6B63;&#x88AB;&#x4EE3;&#x7406;&#x4F7F;&#x7528;&#x7684; socket &#x6570;&#x7EC4;&#x3002;
&#x4E0D;&#x8981;&#x4FEE;&#x6539;&#x3002;</p>
<h2>http.ClientRequest &#x7C7B;<span><a class="mark" href="_api_http.html#http_class_http_clientrequest" id="http_class_http_clientrequest">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_class_http_clientrequest" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/class_http_clientrequest.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.17</span>
</div>
<p>&#x8BE5;&#x5BF9;&#x8C61;&#x5728; <a href="/s/d1myoL"><code>http.request()</code></a> &#x5185;&#x90E8;&#x88AB;&#x521B;&#x5EFA;&#x5E76;&#x8FD4;&#x56DE;&#x3002;
&#x5B83;&#x8868;&#x793A;&#x7740;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x5904;&#x7406;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5176;&#x8BF7;&#x6C42;&#x5934;&#x5DF2;&#x8FDB;&#x5165;&#x961F;&#x5217;&#x3002;
&#x8BF7;&#x6C42;&#x5934;&#x4ECD;&#x53EF;&#x4F7F;&#x7528; <a href="/s/ZBShBB"><code>setHeader(name, value)</code></a>&#x3001;<a href="/s/noVJNv"><code>getHeader(name)</code></a> &#x548C; <a href="/s/vzuErq"><code>removeHeader(name)</code></a> API &#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002;
&#x5B9E;&#x9645;&#x7684;&#x8BF7;&#x6C42;&#x5934;&#x4F1A;&#x4E0E;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5757;&#x4E00;&#x8D77;&#x53D1;&#x9001;&#x6216;&#x5F53;&#x8C03;&#x7528; <a href="/s/GAdV2u"><code>request.end()</code></a> &#x65F6;&#x53D1;&#x9001;&#x3002;</p>
<p>&#x8981;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#xFF0C;&#x9700;&#x4E3A; <a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x76D1;&#x542C;&#x5668;&#x5230;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x4E0A;&#x3002;
&#x5F53;&#x54CD;&#x5E94;&#x5934;&#x88AB;&#x63A5;&#x6536;&#x5230;&#x65F6;&#xFF0C;<a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x4F1A;&#x4ECE;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x4E0A;&#x88AB;&#x89E6;&#x53D1; &#x3002;
<a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x88AB;&#x6267;&#x884C;&#x65F6;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A; <a href="/s/2RqpEw"><code>http.IncomingMessage</code></a> &#x5B9E;&#x4F8B;&#x3002;</p>
<p>&#x5728; <a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x671F;&#x95F4;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x76D1;&#x542C;&#x5668;&#x5230;&#x54CD;&#x5E94;&#x5BF9;&#x8C61;&#x4E0A;&#xFF0C;&#x6BD4;&#x5982;&#x76D1;&#x542C; <code>&apos;data&apos;</code> &#x4E8B;&#x4EF6;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6DFB;&#x52A0; <a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5219;&#x54CD;&#x5E94;&#x4F1A;&#x88AB;&#x6574;&#x4E2A;&#x4E22;&#x5F03;&#x3002;
&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x4E86; <a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x6D88;&#x8017;&#x5B8C;&#x54CD;&#x5E94;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;&#x8C03;&#x7528; <code>response.read()</code>&#x3001;&#x6216;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; <code>&apos;data&apos;</code> &#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3001;&#x6216;&#x8C03;&#x7528; <code>.resume()</code> &#x65B9;&#x6CD5;&#x3002;
&#x6570;&#x636E;&#x88AB;&#x6D88;&#x8017;&#x5B8C;&#x65F6;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;end&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x5728;&#x6570;&#x636E;&#x88AB;&#x8BFB;&#x53D6;&#x5B8C;&#x4E4B;&#x524D;&#x4F1A;&#x6D88;&#x8017;&#x5185;&#x5B58;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210; <code>&apos;process out of memory&apos;</code> &#x9519;&#x8BEF;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;Node.js &#x4E0D;&#x4F1A;&#x68C0;&#x67E5; <code>Content-Length</code> &#x4E0E;&#x5DF2;&#x4F20;&#x8F93;&#x7684;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x7684;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x76F8;&#x7B49;&#x3002;</p>
<p>&#x8BE5;&#x8BF7;&#x6C42;&#x5B9E;&#x73B0;&#x4E86; <a href="/s/9JUnJ8">&#x53EF;&#x5199;&#x6D41;</a> &#x63A5;&#x53E3;&#x3002;
&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x4E8B;&#x4EF6;&#x7684; [<code>EventEmitter</code>]&#xFF1A;</p>
<h3>&apos;abort&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_abort" id="http_event_abort">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_abort" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_abort.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v1.4.1</span>
</div>
<p>&#x5F53;&#x8BF7;&#x6C42;&#x5DF2;&#x88AB;&#x5BA2;&#x6237;&#x7AEF;&#x7EC8;&#x6B62;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x8BE5;&#x4E8B;&#x4EF6;&#x4EC5;&#x5728;&#x9996;&#x6B21;&#x8C03;&#x7528; <code>abort()</code> &#x65F6;&#x89E6;&#x53D1;&#x3002;</p>
<h3>&apos;connect&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_connect" id="http_event_connect">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_connect" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_connect.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.0</span>
</div>
<ul>
<li><code>response</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a></li>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
<li><code>head</code> <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
</ul>
<p>&#x6BCF;&#x5F53;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94; <code>CONNECT</code> &#x8BF7;&#x6C42;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x4E8B;&#x4EF6;&#x672A;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x5219;&#x63A5;&#x6536;&#x5230; <code>CONNECT</code> &#x65B9;&#x6CD5;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF0C;&#x7528;&#x4E00;&#x5BF9;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x6765;&#x6F14;&#x793A;&#x5982;&#x4F55;&#x76D1;&#x542C; <code>&apos;connect&apos;</code> &#x4E8B;&#x4EF6;&#xFF1A;</p>
<pre><code class="language-js">const http = require(&apos;http&apos;);
const net = require(&apos;net&apos;);
const url = require(&apos;url&apos;);

// &#x521B;&#x5EFA;&#x4E00;&#x4E2A; HTTP &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;
const proxy = http.createServer((req, res) =&gt; {
  res.writeHead(200, { &apos;Content-Type&apos;: &apos;text/plain&apos; });
  res.end(&apos;okay&apos;);
});
proxy.on(&apos;connect&apos;, (req, cltSocket, head) =&gt; {
  // &#x8FDE;&#x63A5;&#x5230;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;
  const srvUrl = url.parse(`http://${req.url}`);
  const srvSocket = net.connect(srvUrl.port, srvUrl.hostname, () =&gt; {
    cltSocket.write(&apos;HTTP/1.1 200 Connection Established\r\n&apos; +
                    &apos;Proxy-agent: Node.js-Proxy\r\n&apos; +
                    &apos;\r\n&apos;);
    srvSocket.write(head);
    srvSocket.pipe(cltSocket);
    cltSocket.pipe(srvSocket);
  });
});

// &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FD0;&#x884C;
proxy.listen(1337, &apos;127.0.0.1&apos;, () =&gt; {

  // &#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5230;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;
  const options = {
    port: 1337,
    hostname: &apos;127.0.0.1&apos;,
    method: &apos;CONNECT&apos;,
    path: &apos;www.google.com:80&apos;
  };

  const req = http.request(options);
  req.end();

  req.on(&apos;connect&apos;, (res, socket, head) =&gt; {
    console.log(&apos;&#x5DF2;&#x8FDE;&#x63A5;&#xFF01;&apos;);

    // &#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;
    socket.write(&apos;GET / HTTP/1.1\r\n&apos; +
                 &apos;Host: www.google.com:80\r\n&apos; +
                 &apos;Connection: close\r\n&apos; +
                 &apos;\r\n&apos;);
    socket.on(&apos;data&apos;, (chunk) =&gt; {
      console.log(chunk.toString());
    });
    socket.on(&apos;end&apos;, () =&gt; {
      proxy.close();
    });
  });
});
</code></pre>
<h3>&apos;continue&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_continue" id="http_event_continue">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_continue" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_continue.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.2</span>
</div>
<p>&#x5F53;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x4E86;&#x4E00;&#x4E2A; <code>100 Continue</code> &#x7684; HTTP &#x54CD;&#x5E94;&#x65F6;&#x89E6;&#x53D1;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x56E0;&#x4E3A;&#x8BF7;&#x6C42;&#x5305;&#x542B; <code>Expect: 100-continue</code>&#x3002;
&#x8FD9;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x5C06;&#x8981;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x7684;&#x6307;&#x4EE4;&#x3002;</p>
<h3>Event: &apos;information&apos;<span><a class="mark" href="_api_http.html#http_event_information" id="http_event_information">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_information" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_information.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v10.0.0</span>
</div>
<p>&#x5728;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001; 1xx &#x4EE3;&#x53F7;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x89E6;&#x53D1;&#xFF08;101 Upgrade &#x54CD;&#x5E94;&#x9664;&#x5916;&#xFF09;&#x3002;&#x8BE5;&#x4E8B;&#x4EF6;&#x4F1A;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5176;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x4E2A;&#x5B58;&#x6709;&#x72B6;&#x6001;&#x7801;&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<pre><code class="language-js">const http = require(&apos;http&apos;);

const options = {
  hostname: &apos;127.0.0.1&apos;,
  port: 8080,
  path: &apos;/length_request&apos;
};

// &#x53D1;&#x9001;&#x8BF7;&#x6C42;
const req = http.request(options);
req.end();

req.on(&apos;information&apos;, (res) =&gt; {
  console.log(`&#x5728;&#x4E3B;&#x54CD;&#x5E94;&#x4E4B;&#x524D;&#x83B7;&#x5F97;&#x4FE1;&#x606F;: ${res.statusCode}`);
});
</code></pre>
<p>101 Upgrade &#x72B6;&#x6001;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x8BE5;&#x4E8B;&#x4EF6;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x4F1A;&#x65AD;&#x5F00;&#x4F20;&#x7EDF;&#x7684;HTTP&#x7684;&#x8BF7;&#x6C42;/&#x54CD;&#x5E94;&#x94FE;&#xFF0C;&#x4F8B;&#x5982;&#x6539;&#x7528;Web Socket&#x3001;&#x73B0;&#x573A;TLS&#x5347;&#x7EA7;&#x3001;&#x91C7;&#x7528;HTTP 2.0&#x3002;&#x82E5;&#x8981;&#x83B7;&#x77E5;101 Upgrade&#x901A;&#x77E5;&#xFF0C;&#x8BF7;&#x76D1;&#x542C;<a href="/s/xjUtig"><code>&apos;upgrade&apos;</code></a>&#x4E8B;&#x4EF6;&#x3002;</p>
<h3>&apos;response&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_response" id="http_event_response">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_response" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_response.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.0</span>
</div>
<ul>
<li><code>response</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a></li>
</ul>
<p>&#x5F53;&#x8BF7;&#x6C42;&#x7684;&#x54CD;&#x5E94;&#x88AB;&#x63A5;&#x6536;&#x5230;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x8BE5;&#x4E8B;&#x4EF6;&#x53EA;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#x3002;</p>
<h3>&apos;socket&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_socket" id="http_event_socket">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_socket" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_socket.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.3</span>
</div>
<ul>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x5F53; socket &#x88AB;&#x5206;&#x914D;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#x89E6;&#x53D1;&#x3002;</p>
<h3>Event: &apos;timeout&apos;<span><a class="mark" href="_api_http.html#http_event_timeout" id="http_event_timeout">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_timeout" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_timeout.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.8</span>
</div>
<p>&#x5F53;&#x5E95;&#x5C42; socket &#x8D85;&#x65F6;&#x7684;&#x65F6;&#x5019;&#x89E6;&#x53D1;&#x3002;&#x8BE5;&#x65B9;&#x6CD5;&#x53EA;&#x4F1A;&#x901A;&#x77E5;&#x7A7A;&#x95F2;&#x7684; socket&#x3002;&#x8BF7;&#x6C42;&#x5FC5;&#x987B;&#x624B;&#x52A8;&#x505C;&#x6B62;&#x3002;</p>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x67E5;&#x770B; <a href="/s/qX7N7E"><code>request.setTimeout()</code></a>&#x3002;</p>
<h3>&apos;upgrade&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_upgrade" id="http_event_upgrade">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_upgrade" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_upgrade.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.94</span>
</div>
<ul>
<li><code>response</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a></li>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
<li><code>head</code> <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
</ul>
<p>&#x6BCF;&#x5F53;&#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94; <code>upgrade</code> &#x8BF7;&#x6C42;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x4E8B;&#x4EF6;&#x672A;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x5219;&#x63A5;&#x6536;&#x5230; <code>upgrade</code> &#x8BF7;&#x6C42;&#x5934;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF0C;&#x7528;&#x4E00;&#x5BF9;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x6765;&#x6F14;&#x793A;&#x5982;&#x4F55;&#x76D1;&#x542C; <code>&apos;upgrade&apos;</code> &#x4E8B;&#x4EF6;&#xFF1A;</p>
<pre><code class="language-js">const http = require(&apos;http&apos;);

// &#x521B;&#x5EFA;&#x4E00;&#x4E2A; HTTP &#x670D;&#x52A1;&#x5668;
const srv = http.createServer( (req, res) =&gt; {
  res.writeHead(200, { &apos;Content-Type&apos;: &apos;text/plain&apos; });
  res.end(&apos;okay&apos;);
});
srv.on(&apos;upgrade&apos;, (req, socket, head) =&gt; {
  socket.write(&apos;HTTP/1.1 101 Web Socket Protocol Handshake\r\n&apos; +
               &apos;Upgrade: WebSocket\r\n&apos; +
               &apos;Connection: Upgrade\r\n&apos; +
               &apos;\r\n&apos;);

  socket.pipe(socket);
});

// &#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x8FD0;&#x884C;
srv.listen(1337, &apos;127.0.0.1&apos;, () =&gt; {

  // &#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;
  const options = {
    port: 1337,
    hostname: &apos;127.0.0.1&apos;,
    headers: {
      &apos;Connection&apos;: &apos;Upgrade&apos;,
      &apos;Upgrade&apos;: &apos;websocket&apos;
    }
  };

  const req = http.request(options);
  req.end();

  req.on(&apos;upgrade&apos;, (res, socket, upgradeHead) =&gt; {
    console.log(&apos;got upgraded!&apos;);
    socket.end();
    process.exit(0);
  });
});
</code></pre>
<h3>request.abort()<span><a class="mark" href="_api_http.html#http_request_abort" id="http_request_abort">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_abort" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_abort.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.8</span>
</div>
<p>&#x6807;&#x8BB0;&#x8BF7;&#x6C42;&#x4E3A;&#x7EC8;&#x6B62;&#x3002;
&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x5C06;&#x4F7F;&#x54CD;&#x5E94;&#x4E2D;&#x5269;&#x4F59;&#x7684;&#x6570;&#x636E;&#x88AB;&#x4E22;&#x5F03;&#x4E14; socket &#x88AB;&#x9500;&#x6BC1;&#x3002;</p>
<h3>request.aborted<span><a class="mark" href="_api_http.html#http_request_aborted" id="http_request_aborted">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_aborted" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_aborted.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.14</span>
</div>
<p>&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x5DF2;&#x88AB;&#x7EC8;&#x6B62;&#xFF0C;&#x5219;&#x8BE5;&#x5C5E;&#x6027;&#x7684;&#x503C;&#x4E3A;&#x8BF7;&#x6C42;&#x88AB;&#x7EC8;&#x6B62;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x4ECE; <code>1 January 1970 00:00:00 UTC</code> &#x5230;&#x73B0;&#x5728;&#x7684;&#x6BEB;&#x79D2;&#x6570;&#x3002;</p>
<h3>request.connection<span><a class="mark" href="_api_http.html#http_request_connection" id="http_request_connection">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_connection" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_connection.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>See <a href="/s/FUP815"><code>request.socket</code></a>.</p>
<h3>request.end([data[, encoding]][, callback])<span><a class="mark" href="_api_http.html#http_request_end_data_encoding_callback" id="http_request_end_data_encoding_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_end_data_encoding_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_end_data_encoding_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><code>data</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
<li><code>encoding</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>&#x7ED3;&#x675F;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002;
&#x5982;&#x679C;&#x90E8;&#x5206;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x8FD8;&#x672A;&#x88AB;&#x53D1;&#x9001;&#xFF0C;&#x5219;&#x4F1A;&#x5237;&#x65B0;&#x5B83;&#x4EEC;&#x5230;&#x6D41;&#x4E2D;&#x3002;
&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x662F;&#x5206;&#x5757;&#x7684;&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x9001;&#x7EC8;&#x6B62;&#x5B57;&#x7B26; <code>&apos;0\r\n\r\n&apos;</code>&#x3002;</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>data</code>&#xFF0C;&#x5219;&#x76F8;&#x5F53;&#x4E8E;&#x8C03;&#x7528; <a href="/s/6ATcHB"><code>request.write(data, encoding)</code></a> &#x4E4B;&#x540E;&#x518D;&#x8C03;&#x7528; <code>request.end(callback)</code>&#x3002;</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>callback</code>&#xFF0C;&#x5219;&#x5F53;&#x8BF7;&#x6C42;&#x6D41;&#x7ED3;&#x675F;&#x65F6;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<h3>request.flushHeaders()<span><a class="mark" href="_api_http.html#http_request_flushheaders" id="http_request_flushheaders">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_flushheaders" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_flushheaders.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v1.6.0</span>
</div>
<p>&#x5237;&#x65B0;&#x8BF7;&#x6C42;&#x5934;&#x3002;</p>
<p>&#x51FA;&#x4E8E;&#x6548;&#x7387;&#x7684;&#x8003;&#x8651;&#xFF0C;Node.js &#x901A;&#x5E38;&#x4F1A;&#x7F13;&#x5B58;&#x8BF7;&#x6C42;&#x5934;&#x76F4;&#x5230; <code>request.end()</code> &#x88AB;&#x8C03;&#x7528;&#x6216;&#x7B2C;&#x4E00;&#x5757;&#x8BF7;&#x6C42;&#x6570;&#x636E;&#x88AB;&#x5199;&#x5165;&#x3002;
&#x7136;&#x540E; Node.js &#x4F1A;&#x5C06;&#x8BF7;&#x6C42;&#x5934;&#x548C;&#x6570;&#x636E;&#x6253;&#x5305;&#x6210;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684; TCP &#x6570;&#x636E;&#x5305;&#x3002;</p>
<p>&#x901A;&#x5E38;&#x90A3;&#x662F;&#x671F;&#x671B;&#x7684;&#xFF08;&#x56E0;&#x4E3A;&#x5B83;&#x8282;&#x7701;&#x4E86; TCP &#x5F80;&#x8FD4;&#xFF09;&#xFF0C;&#x9664;&#x975E;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5757;&#x5F88;&#x957F;&#x65F6;&#x95F4;&#x4E4B;&#x540E;&#x624D;&#x88AB;&#x53D1;&#x9001;&#x3002;
<code>request.flushHeaders()</code> &#x53EF;&#x4EE5;&#x7ED5;&#x8FC7;&#x6700;&#x4F18;&#x9009;&#x62E9;&#x5E76;&#x63D0;&#x524D;&#x5F00;&#x59CB;&#x8BF7;&#x6C42;&#x3002;</p>
<h3>request.getHeader(name)<span><a class="mark" href="_api_http.html#http_request_getheader_name" id="http_request_getheader_name">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_getheader_name" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_getheader_name.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v1.6.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li>Returns: <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x8BFB;&#x51FA;&#x8BF7;&#x6C42;&#x5934;&#xFF0C;&#x6CE8;&#x610F;:&#x53C2;&#x6570;name&#x662F;&#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x7684;</p>
<p>Example:</p>
<pre><code class="language-js">const contentType = request.getHeader(&apos;Content-Type&apos;);
</code></pre>
<h3>request.maxHeadersCount<span><a class="mark" href="_api_http.html#http_request_maxheaderscount" id="http_request_maxheaderscount">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_maxheaderscount" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_maxheaderscount.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> <strong>Default:</strong> <code>2000</code></li>
</ul>
<p>Limits maximum response headers count. If set to 0, no limit will be applied.</p>
<h3>request.removeHeader(name)<span><a class="mark" href="_api_http.html#http_request_removeheader_name" id="http_request_removeheader_name">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_removeheader_name" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_removeheader_name.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v1.6.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x79FB;&#x9664;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x5728; headers &#x5BF9;&#x8C61;&#x91CC;&#x9762;&#x7684; header&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="language-js">request.removeHeader(&apos;Content-Type&apos;);
</code></pre>
<h3>request.setHeader(name, value)<span><a class="mark" href="_api_http.html#http_request_setheader_name_value" id="http_request_setheader_name_value">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_setheader_name_value" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_setheader_name_value.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v1.6.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>value</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x4E3A; headers &#x5BF9;&#x8C61;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684; header &#x503C;&#x3002;&#x5982;&#x679C;&#x8BE5; header &#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E86;&#xFF0C;&#x5219;&#x5C06;&#x4F1A;&#x88AB;&#x66FF;&#x6362;&#x3002;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x6765;&#x8BBE;&#x7F6E;&#x6709;&#x76F8;&#x540C;&#x540D;&#x79F0;&#x7684;&#x591A;&#x4E2A; headers&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="language-js">request.setHeader(&apos;Content-Type&apos;, &apos;application/json&apos;);
</code></pre>
<p>&#x6216;</p>
<pre><code class="language-js">request.setHeader(&apos;Set-Cookie&apos;, [&apos;type=ninja&apos;, &apos;language=javascript&apos;]);
</code></pre>
<h3>request.setNoDelay([noDelay])<span><a class="mark" href="_api_http.html#http_request_setnodelay_nodelay" id="http_request_setnodelay_nodelay">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_setnodelay_nodelay" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_setnodelay_nodelay.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div>
<ul>
<li><code>noDelay</code> <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x4E00;&#x65E6; socket &#x88AB;&#x5206;&#x914D;&#x7ED9;&#x8BF7;&#x6C42;&#x4E14;&#x5DF2;&#x8FDE;&#x63A5;&#xFF0C;<a href="/s/q9UswY"><code>socket.setNoDelay()</code></a> &#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<h3>request.setSocketKeepAlive([enable][, initialDelay])<span><a class="mark" href="_api_http.html#http_request_setsocketkeepalive_enable_initialdelay" id="http_request_setsocketkeepalive_enable_initialdelay">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_setsocketkeepalive_enable_initialdelay" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_setsocketkeepalive_enable_initialdelay.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div>
<ul>
<li><code>enable</code> <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
<li><code>initialDelay</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>&#x4E00;&#x65E6; socket &#x88AB;&#x5206;&#x914D;&#x7ED9;&#x8BF7;&#x6C42;&#x4E14;&#x5DF2;&#x8FDE;&#x63A5;&#xFF0C;<a href="/s/qqbgUD"><code>socket.setKeepAlive()</code></a> &#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<h3>request.setTimeout(timeout[, callback])<span><a class="mark" href="_api_http.html#http_request_settimeout_timeout_callback" id="http_request_settimeout_timeout_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_settimeout_timeout_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_settimeout_timeout_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div>
<ul>
<li><code>timeout</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x7684;&#x6BEB;&#x79D2;&#x6570;&#x3002;</li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> &#x53EF;&#x9009;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5F53;&#x8D85;&#x65F6;&#x53D1;&#x751F;&#x65F6;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x7B49;&#x540C;&#x4E8E;&#x7ED1;&#x5B9A;&#x5230; <code>timeout</code> &#x4E8B;&#x4EF6;&#x3002;</li>
</ul>
<p>&#x4E00;&#x65E6; socket &#x88AB;&#x5206;&#x914D;&#x7ED9;&#x8BF7;&#x6C42;&#x4E14;&#x5DF2;&#x8FDE;&#x63A5;&#xFF0C;<a href="/s/XC4Yyj"><code>socket.setTimeout()</code></a> &#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x8FD4;&#x56DE; <code>request</code>&#x3002;</p>
<h3>request.socket<span><a class="mark" href="_api_http.html#http_request_socket" id="http_request_socket">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_socket" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_socket.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x5F15;&#x7528;&#x5E95;&#x5C42;socket&#x3002; &#x901A;&#x5E38;&#x7528;&#x6237;&#x4E0D;&#x60F3;&#x8BBF;&#x95EE;&#x6B64;&#x5C5E;&#x6027;&#x3002; &#x7279;&#x522B;&#x5730;&#xFF0C;&#x7531;&#x4E8E;&#x534F;&#x8BAE;&#x89E3;&#x6790;&#x5668;&#x8FDE;&#x63A5;&#x5230;socket&#x7684;&#x65B9;&#x5F0F;&#xFF0C;socket&#x5C06;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;<code>&apos;readable&apos;</code>&#x4E8B;&#x4EF6;&#x3002; &#x5728;<code>response.end()</code>&#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x4E3A;null&#x3002; &#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>request.connection</code>&#x6765;&#x8BBF;&#x95EE;<code>socket</code>&#x3002;</p>
<p>&#x4F8B;&#x5982;:</p>
<pre><code class="language-js">const http = require(&apos;http&apos;);
const options = {
  host: &apos;nodejs.cn&apos;,
};
const req = http.get(options);
req.end();
req.once(&apos;response&apos;, (res) =&gt; {
  const ip = req.socket.localAddress;
  const port = req.socket.localPort;
  console.log(`&#x4F60;&#x7684;IP&#x5730;&#x5740;&#x662F; ${ip}&#xFF0C;&#x4F60;&#x7684;&#x6E90;&#x7AEF;&#x53E3;&#x662F; ${port}&#x3002;`);
  // consume response object
});
</code></pre>
<h3>request.write(chunk[, encoding][, callback])<span><a class="mark" href="_api_http.html#http_request_write_chunk_encoding_callback" id="http_request_write_chunk_encoding_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_request_write_chunk_encoding_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/request_write_chunk_encoding_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.29</span>
</div>
<ul>
<li><code>chunk</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
<li><code>encoding</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5757;&#x3002;
&#x901A;&#x8FC7;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x53EF;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x521B;&#x5EFA;&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; <code>[&apos;Transfer-Encoding&apos;, &apos;chunked&apos;]</code> &#x8BF7;&#x6C42;&#x5934;&#x3002;</p>
<p><code>encoding</code> &#x53C2;&#x6570;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x4EC5;&#x5F53; <code>chunk</code> &#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x65F6;&#x624D;&#x6709;&#x6548;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;utf8&apos;</code>&#x3002;</p>
<p><code>callback</code> &#x53C2;&#x6570;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x5F53;&#x6570;&#x636E;&#x5757;&#x88AB;&#x5237;&#x65B0;&#x65F6;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x8FD4;&#x56DE; <code>request</code>&#x3002;</p>
<h2>http.Server &#x7C7B;<span><a class="mark" href="_api_http.html#http_class_http_server" id="http_class_http_server">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_class_http_server" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/class_http_server.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.17</span>
</div>
<p>&#x8BE5;&#x7C7B;&#x7EE7;&#x627F;&#x81EA; <a href="/s/gBYjux"><code>net.Server</code></a>&#xFF0C;&#x4E14;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x989D;&#x5916;&#x7684;&#x4E8B;&#x4EF6;&#xFF1A;</p>
<h3>&apos;checkContinue&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_checkcontinue" id="http_event_checkcontinue">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_checkcontinue" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_checkcontinue.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><code>request</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a></li>
<li><code>response</code> <a href="_api_http.html#http_class_http_serverresponse" class="type">&lt;http.ServerResponse&gt;</a></li>
</ul>
<p>&#x6BCF;&#x5F53;&#x63A5;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x5E26;&#x6709; HTTP <code>Expect: 100-continue</code> &#x8BF7;&#x6C42;&#x5934;&#x7684;&#x8BF7;&#x6C42;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x4E8B;&#x4EF6;&#x672A;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x81EA;&#x52A8;&#x54CD;&#x5E94; <code>100 Continue</code>&#x3002;</p>
<p>&#x5904;&#x7406;&#x8BE5;&#x4E8B;&#x4EF6;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x8BE5;&#x7EE7;&#x7EED;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#xFF0C;&#x5219;&#x8C03;&#x7528; <a href="/s/vzUamu"><code>response.writeContinue()</code></a>&#xFF0C;&#x5426;&#x5219;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x9002;&#x5F53;&#x7684; HTTP &#x54CD;&#x5E94;&#xFF08;&#x4F8B;&#x5982; 400 &#x9519;&#x8BEF;&#x8BF7;&#x6C42;&#xFF09;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5F53;&#x8BE5;&#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#x4E14;&#x5904;&#x7406;&#x540E;&#xFF0C;<a href="/s/2qCn57"><code>&apos;request&apos;</code></a> &#x4E8B;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB;&#x89E6;&#x53D1;&#x3002;</p>
<h3>&apos;checkExpectation&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_checkexpectation" id="http_event_checkexpectation">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_checkexpectation" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_checkexpectation.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v5.5.0</span>
</div>
<ul>
<li><code>request</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a></li>
<li><code>response</code> <a href="_api_http.html#http_class_http_serverresponse" class="type">&lt;http.ServerResponse&gt;</a></li>
</ul>
<p>&#x6BCF;&#x5F53;&#x63A5;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x5E26;&#x6709; HTTP <code>Expect</code> &#x8BF7;&#x6C42;&#x5934;&#xFF08;&#x503C;&#x4E0D;&#x4E3A; <code>100-continue</code>&#xFF09;&#x7684;&#x8BF7;&#x6C42;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x4E8B;&#x4EF6;&#x672A;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x5219;&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x81EA;&#x52A8;&#x54CD;&#x5E94; <code>417 Expectation Failed</code>&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5F53;&#x8BE5;&#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#x4E14;&#x5904;&#x7406;&#x540E;&#xFF0C;<a href="/s/2qCn57"><code>&apos;request&apos;</code></a> &#x4E8B;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB;&#x89E6;&#x53D1;&#x3002;</p>
<h3>&apos;clientError&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_clienterror" id="http_event_clienterror">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_clienterror" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_clienterror.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.10.0</td>
<td><p>The rawPacket is the current buffer that just parsed. Adding this buffer to the error object of clientError event is to make it possible that developers can log the broken packet.</p></td></tr>
<tr><td>v6.0.0</td>
<td><p>The default action of calling <code>.destroy()</code> on the <code>socket</code> will no longer take place if there are listeners attached for <code>clientError</code>.</p></td></tr>
<tr><td>v0.1.94</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.94</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>exception</code> <a href="/s/_moz/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a></li>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x89E6;&#x53D1;&#x4E86;&#x4E00;&#x4E2A; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x5219;&#x5B83;&#x4F1A;&#x88AB;&#x4F20;&#x9012;&#x5230;&#x8FD9;&#x91CC;&#x3002;
&#x8BE5;&#x4E8B;&#x4EF6;&#x7684;&#x76D1;&#x542C;&#x5668;&#x8D1F;&#x8D23;&#x5173;&#x95ED;&#x6216;&#x9500;&#x6BC1;&#x5E95;&#x5C42;&#x7684; socket&#x3002;
&#x4F8B;&#x5982;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x80FD;&#x5E0C;&#x671B;&#x66F4;&#x6E29;&#x548C;&#x5730;&#x7528; HTTP <code>&apos;400 Bad Request&apos;</code> &#x54CD;&#x5E94;&#x5173;&#x95ED; socket&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7A81;&#x7136;&#x5730;&#x5207;&#x65AD;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8BF7;&#x6C42;&#x5F02;&#x5E38;&#x65F6;&#x4F1A;&#x7ACB;&#x5373;&#x9500;&#x6BC1; socket&#x3002;</p>
<p><code>socket</code> &#x53C2;&#x6570;&#x662F;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684; <a href="/s/wsJ1o1"><code>net.Socket</code></a> &#x5BF9;&#x8C61;&#x3002;</p>
<pre><code class="language-js">const http = require(&apos;http&apos;);

const server = http.createServer((req, res) =&gt; {
  res.end();
});
server.on(&apos;clientError&apos;, (err, socket) =&gt; {
  socket.end(&apos;HTTP/1.1 400 Bad Request\r\n\r\n&apos;);
});
server.listen(8000);
</code></pre>
<p>&#x5F53; <code>&apos;clientError&apos;</code> &#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#xFF0C;&#x4E0D;&#x4F1A;&#x6709; <code>request</code> &#x6216; <code>response</code> &#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5;&#x53D1;&#x9001;&#x7684;&#x4EFB;&#x4F55; HTTP &#x54CD;&#x5E94;&#xFF0C;&#x5305;&#x62EC;&#x54CD;&#x5E94;&#x5934;&#x548C;&#x5185;&#x5BB9;&#xFF0C;&#x5FC5;&#x987B;&#x88AB;&#x76F4;&#x63A5;&#x5199;&#x5165;&#x5230; <code>socket</code> &#x5BF9;&#x8C61;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x786E;&#x4FDD;&#x54CD;&#x5E94;&#x662F;&#x4E00;&#x4E2A;&#x88AB;&#x6B63;&#x786E;&#x683C;&#x5F0F;&#x5316;&#x7684; HTTP &#x54CD;&#x5E94;&#x6D88;&#x606F;&#x3002;</p>
<p><code>err</code> is an instance of <code>Error</code> with two extra columns:</p>
<ul>
<li><code>bytesParsed</code>: the bytes count of request packet that Node.js may have parsed
correctly;</li>
<li><code>rawPacket</code>: the raw packet of current request.</li>
</ul>
<h3>&apos;close&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_close" id="http_event_close">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_close" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_close.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.4</span>
</div>
<p>&#x5F53;&#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED;&#x65F6;&#x89E6;&#x53D1;&#x3002;</p>
<h3>&apos;connect&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_connect_1" id="http_event_connect_1">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_connect_1" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_connect_1.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.0</span>
</div>
<ul>
<li><code>request</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a> HTTP &#x8BF7;&#x6C42;&#xFF0C;&#x540C; <a href="/s/2qCn57"><code>&apos;request&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;</li>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a> &#x670D;&#x52A1;&#x5668;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x4E4B;&#x95F4;&#x7684;&#x7F51;&#x7EDC; socket&#x3002;</li>
<li><code>head</code> <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> &#x6D41;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x53EF;&#x80FD;&#x4E3A;&#x7A7A;&#x3002;</li>
</ul>
<p>&#x6BCF;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001; HTTP <code>CONNECT</code> &#x8BF7;&#x6C42;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x4E8B;&#x4EF6;&#x672A;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x5219;&#x53D1;&#x9001; <code>CONNECT</code> &#x8BF7;&#x6C42;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x5F53;&#x8BE5;&#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#x540E;&#xFF0C;&#x8BF7;&#x6C42;&#x7684; socket &#x4E0A;&#x6CA1;&#x6709; <code>&apos;data&apos;</code> &#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x9700;&#x8981;&#x7ED1;&#x5B9A; <code>&apos;data&apos;</code> &#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x5904;&#x7406; socket &#x4E0A;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<h3>&apos;connection&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_connection" id="http_event_connection">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_connection" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_connection.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.0</span>
</div>
<ul>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x5F53;&#x65B0;&#x7684; TCP &#x6D41;&#x88AB;&#x5EFA;&#x7ACB;&#x65F6;&#x89E6;&#x53D1;&#x3002;
<code>socket</code> &#x662F;&#x4E00;&#x4E2A; <a href="/s/wsJ1o1"><code>net.Socket</code></a> &#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x3002;
&#x901A;&#x5E38;&#x7528;&#x6237;&#x65E0;&#x9700;&#x8BBF;&#x95EE;&#x8BE5;&#x4E8B;&#x4EF6;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x56E0;&#x4E3A;&#x534F;&#x8BAE;&#x89E3;&#x6790;&#x5668;&#x7ED1;&#x5B9A;&#x5230; socket &#x7684;&#x65B9;&#x5F0F;&#xFF0C;socket &#x4E0D;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;readable&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
<code>socket</code> &#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>request.connection</code> &#x8BBF;&#x95EE;&#x3002;</p>
<p><em>Note</em>: This event can also be explicitly emitted by users to inject connections
into the HTTP server. In that case, any <a href="/s/2iRabr"><code>Duplex</code></a> stream can be passed.</p>
<h3>&apos;request&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_request" id="http_event_request">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_request" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_request.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.0</span>
</div>
<ul>
<li><code>request</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a></li>
<li><code>response</code> <a href="_api_http.html#http_class_http_serverresponse" class="type">&lt;http.ServerResponse&gt;</a></li>
</ul>
<p>&#x6BCF;&#x6B21;&#x63A5;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x53EF;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#x8BF7;&#x6C42;&#xFF08;&#x5728; HTTP <code>keep-alive</code> &#x8FDE;&#x63A5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF09;&#x3002;</p>
<h3>&apos;upgrade&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_upgrade_1" id="http_event_upgrade_1">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_upgrade_1" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_upgrade_1.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.94</span>
</div>
<ul>
<li><code>request</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a> HTTP &#x8BF7;&#x6C42;&#xFF0C;&#x540C; <a href="/s/2qCn57"><code>&apos;request&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;</li>
<li><code>socket</code> <a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a> &#x670D;&#x52A1;&#x5668;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#x4E4B;&#x95F4;&#x7684;&#x7F51;&#x7EDC; socket&#x3002;</li>
<li><code>head</code> <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> &#x6D41;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5305;&#xFF0C;&#x53EF;&#x80FD;&#x4E3A;&#x7A7A;&#x3002;</li>
</ul>
<p>&#x6BCF;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001; HTTP <code>upgrade</code> &#x8BF7;&#x6C42;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x4E8B;&#x4EF6;&#x672A;&#x88AB;&#x76D1;&#x542C;&#xFF0C;&#x5219;&#x53D1;&#x9001; <code>upgrade</code> &#x8BF7;&#x6C42;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#x3002;</p>
<p>&#x5F53;&#x8BE5;&#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#x540E;&#xFF0C;&#x8BF7;&#x6C42;&#x7684; socket &#x4E0A;&#x6CA1;&#x6709; <code>&apos;data&apos;</code> &#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x9700;&#x8981;&#x7ED1;&#x5B9A; <code>&apos;data&apos;</code> &#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x7528;&#x6765;&#x5904;&#x7406; socket &#x4E0A;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<h3>server.close([callback])<span><a class="mark" href="_api_http.html#http_server_close_callback" id="http_server_close_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_server_close_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/server_close_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>&#x505C;&#x6B62;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x6536;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x3002;&#x8BE6;&#x89C1; <a href="/s/zZ874N"><code>net.Server.close()</code></a>&#x3002;</p>
<h3>server.listen()<span><a class="mark" href="_api_http.html#http_server_listen" id="http_server_listen">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_server_listen" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/server_listen.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<p>&#x5F00;&#x542F;HTTP&#x670D;&#x52A1;&#x5668;&#x76D1;&#x542C;&#x8FDE;&#x63A5;&#x3002;&#x65B9;&#x6CD5;&#x4E0E;<a href="/s/gBYjux"><code>net.Server</code></a>&#x7684;<a href="/s/xGksiu"><code>server.listen()</code></a>&#x76F8;&#x540C;&#x3002;</p>
<h3>server.listening<span><a class="mark" href="_api_http.html#http_server_listening" id="http_server_listening">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_server_listening" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/server_listening.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v5.7.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x670D;&#x52A1;&#x5668;&#x662F;&#x5426;&#x6B63;&#x5728;&#x76D1;&#x542C;&#x8FDE;&#x63A5;&#x3002;</p>
<h3>server.maxHeadersCount<span><a class="mark" href="_api_http.html#http_server_maxheaderscount" id="http_server_maxheaderscount">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_server_maxheaderscount" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/server_maxheaderscount.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; 2000&#x3002;</li>
</ul>
<p>&#x9650;&#x5236;&#x8BF7;&#x6C42;&#x5934;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; 2000&#x3002;
&#x5982;&#x679C;&#x8BBE;&#x4E3A; 0&#xFF0C;&#x5219;&#x6CA1;&#x6709;&#x9650;&#x5236;&#x3002;</p>
<h3>server.setTimeout([msecs][, callback])<span><a class="mark" href="_api_http.html#http_server_settimeout_msecs_callback" id="http_server_settimeout_msecs_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_server_settimeout_msecs_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/server_settimeout_msecs_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.9.12</span>
</div>
<ul>
<li><code>msecs</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; 120000 (2 &#x5206;&#x949F;)&#x3002;</li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>&#x8BBE;&#x7F6E; socket &#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x3002;
&#x5982;&#x679C;&#x53D1;&#x751F;&#x8D85;&#x65F6;&#xFF0C;&#x5219;&#x89E6;&#x53D1;&#x670D;&#x52A1;&#x5668;&#x5BF9;&#x8C61;&#x7684; <code>&apos;timeout&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x4F20;&#x5165; socket &#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x662F; 2 &#x5206;&#x949F;&#xFF0C;&#x4E14;&#x8D85;&#x65F6;&#x540E;&#x7684; socket &#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x9500;&#x6BC1;&#x3002;
&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x7684; <code>&apos;timeout&apos;</code> &#x4E8B;&#x4EF6;&#x5206;&#x914D;&#x4E86;&#x4E00;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5219;&#x8D85;&#x65F6;&#x5FC5;&#x987B;&#x88AB;&#x663E;&#x5F0F;&#x5730;&#x5904;&#x7406;&#x3002;</p>
<p>&#x8FD4;&#x56DE; <code>server</code>&#x3002;</p>
<h3>server.timeout<span><a class="mark" href="_api_http.html#http_server_timeout" id="http_server_timeout">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_server_timeout" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/server_timeout.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.9.12</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; 120000 (2 &#x5206;&#x949F;)&#x3002;</li>
</ul>
<p>socket &#x88AB;&#x8BA4;&#x5B9A;&#x4E3A;&#x8D85;&#x65F6;&#x7684;&#x7A7A;&#x95F2;&#x6BEB;&#x79D2;&#x6570;&#x3002;</p>
<p>&#x503C;&#x8BBE;&#x4E3A; <code>0</code> &#x53EF;&#x7981;&#x7528;&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#x7684;&#x8D85;&#x65F6;&#x884C;&#x4E3A;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;socket &#x7684;&#x8D85;&#x65F6;&#x903B;&#x8F91;&#x662F;&#x5728;&#x8FDE;&#x63A5;&#x4E0A;&#x8BBE;&#x5B9A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x503C;&#x53EA;&#x5F71;&#x54CD;&#x670D;&#x52A1;&#x5668;&#x65B0;&#x5EFA;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x4EFB;&#x4F55;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x8FDE;&#x63A5;&#x3002;</p>
<h3>server.keepAliveTimeout<span><a class="mark" href="_api_http.html#http_server_keepalivetimeout" id="http_server_keepalivetimeout">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_server_keepalivetimeout" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/server_keepalivetimeout.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v8.0.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8D85;&#x65F6;&#x6BEB;&#x79D2;. &#x9ED8;&#x8BA4;&#x4E3A; 5000 (5&#x79D2;).</li>
</ul>
<p>&#x670D;&#x52A1;&#x5668;&#x5B8C;&#x6210;&#x6700;&#x540E;&#x7684;&#x54CD;&#x5E94;&#x4E4B;&#x540E;&#x9700;&#x8981;&#x7B49;&#x5F85;&#x7684;&#x989D;&#x5916;&#x7684;&#x4F20;&#x5165;&#x6570;&#x636E;&#x7684;&#x6D3B;&#x8DC3;&#x6BEB;&#x79D2;&#x6570;, socket &#x624D;&#x80FD;&#x88AB;&#x9500;&#x6BC1;. &#xA0;
&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x5728; keep-alive &#x8BA1;&#x65F6;&#x5DF2;&#x6FC0;&#x6D3B;&#x65F6;&#x63A5;&#x6536;&#x5230;&#x65B0;&#x7684;&#x6570;&#x636E;, &#x4ED6;&#x4F1A;&#x91CD;&#x7F6E;&#x5E38;&#x89C4;&#x7684;&#x975E;&#x6D3B;&#x52A8;&#x8BA1;&#x65F6;, &#x5373;<a href="/s/yJbd7V"><code>server.timeout</code></a>. </p>
<p>&#x503C;&#x4E3A; <code>0</code> &#x65F6;&#x7981;&#x7528;&#x4F20;&#x5165;&#x8FDE;&#x63A5; keep-alive &#x7684;&#x8D85;&#x65F6;&#x884C;&#x4E3A;&#x3002;
A value of <code>0</code> makes the http server behave similarly to Node.js versions prior to 8.0.0,
which did not have a keep-alive timeout.</p>
<p><em>&#x6CE8;&#x610F;</em>: scoket &#x7684;&#x8D85;&#x65F6;&#x903B;&#x8F91;&#x4E0A;&#x53D6;&#x51B3;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;, &#x6240;&#x4EE5;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x503C;&#x53EA;&#x5F71;&#x54CD;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65B0;&#x8FDE;&#x63A5;, &#x4E0D;&#x5F71;&#x54CD;&#x4EFB;&#x4F55;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x8FDE;&#x63A5;.</p>
<h2>http.ServerResponse &#x7C7B;<span><a class="mark" href="_api_http.html#http_class_http_serverresponse" id="http_class_http_serverresponse">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_class_http_serverresponse" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/class_http_serverresponse.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.17</span>
</div>
<p>&#x8BE5;&#x5BF9;&#x8C61;&#x5728; HTTP &#x670D;&#x52A1;&#x5668;&#x5185;&#x90E8;&#x88AB;&#x521B;&#x5EFA;&#x3002;
&#x5B83;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x88AB;&#x4F20;&#x5165; <a href="/s/2qCn57"><code>&apos;request&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x7C7B;&#x5B9E;&#x73B0;&#x4E86;&#xFF08;&#x800C;&#x4E0D;&#x662F;&#x7EE7;&#x627F;&#x81EA;&#xFF09;<a href="/s/9JUnJ8">&#x53EF;&#x5199;&#x6D41;</a> &#x63A5;&#x53E3;&#x3002;
&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x6709;&#x4EE5;&#x4E0B;&#x4E8B;&#x4EF6;&#x7684; [<code>EventEmitter</code>]&#xFF1A;</p>
<h3>&apos;close&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_close_1" id="http_event_close_1">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_close_1" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_close_1.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.6.7</span>
</div>
<p>&#x5F53;&#x5E95;&#x5C42;&#x8FDE;&#x63A5;&#x5728; <a href="/s/sqAtet"><code>response.end()</code></a> &#x88AB;&#x8C03;&#x7528;&#x6216;&#x80FD;&#x591F;&#x5237;&#x65B0;&#x4E4B;&#x524D;&#x88AB;&#x7EC8;&#x6B62;&#x65F6;&#x89E6;&#x53D1;&#x3002;</p>
<h3>&apos;finish&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_finish" id="http_event_finish">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_finish" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_finish.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.6</span>
</div>
<p>&#x5F53;&#x54CD;&#x5E94;&#x5DF2;&#x88AB;&#x53D1;&#x9001;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x66F4;&#x5177;&#x4F53;&#x5730;&#x8BF4;&#xFF0C;&#x5F53;&#x54CD;&#x5E94;&#x5934;&#x548C;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x7684;&#x6700;&#x540E;&#x4E00;&#x90E8;&#x5206;&#x5DF2;&#x88AB;&#x4EA4;&#x7ED9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8FDB;&#x884C;&#x4F20;&#x8F93;&#x65F6;&#xFF0C;&#x89E6;&#x53D1;&#x8BE5;&#x4E8B;&#x4EF6;&#x3002;
&#x8FD9;&#x5E76;&#x4E0D;&#x610F;&#x5473;&#x7740;&#x5BA2;&#x6237;&#x7AEF;&#x5DF2;&#x63A5;&#x6536;&#x5230;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#x3002;</p>
<p>&#x8BE5;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x540E;&#xFF0C;&#x54CD;&#x5E94;&#x5BF9;&#x8C61;&#x4E0A;&#x4E0D;&#x518D;&#x89E6;&#x53D1;&#x5176;&#x4ED6;&#x4E8B;&#x4EF6;&#x3002;</p>
<h3>response.addTrailers(headers)<span><a class="mark" href="_api_http.html#http_response_addtrailers_headers" id="http_response_addtrailers_headers">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_addtrailers_headers" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_addtrailers_headers.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><code>headers</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x6DFB;&#x52A0; HTTP &#x5C3E;&#x90E8;&#x54CD;&#x5E94;&#x5934;&#xFF08;&#x4E00;&#x79CD;&#x5728;&#x6D88;&#x606F;&#x5C3E;&#x90E8;&#x7684;&#x54CD;&#x5E94;&#x5934;&#xFF09;&#x5230;&#x54CD;&#x5E94;&#x3002;</p>
<p>&#x4EC5;&#x5F53;&#x54CD;&#x5E94;&#x4F7F;&#x7528;&#x5206;&#x5757;&#x7F16;&#x7801;&#x65F6;&#xFF0C;&#x5C3E;&#x90E8;&#x54CD;&#x5E94;&#x5934;&#x624D;&#x4F1A;&#x88AB;&#x53D1;&#x9001;&#xFF1B;&#x5426;&#x5219;&#xFF08;&#x6BD4;&#x5982;&#x8BF7;&#x6C42;&#x4E3A; HTTP/1.0&#xFF09;&#xFF0C;&#x5C3E;&#x90E8;&#x54CD;&#x5E94;&#x5934;&#x4F1A;&#x88AB;&#x4E22;&#x5F03;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x53D1;&#x9001;&#x5C3E;&#x90E8;&#x54CD;&#x5E94;&#x5934;&#x4E4B;&#x524D;&#xFF0C;&#x9700;&#x5148;&#x53D1;&#x9001; <code>Trailer</code> &#x54CD;&#x5E94;&#x5934;&#xFF0C;&#x5E76;&#x5728;&#x503C;&#x91CC;&#x5E26;&#x4E0A;&#x5C3E;&#x90E8;&#x54CD;&#x5E94;&#x5934;&#x5B57;&#x6BB5;&#x7684;&#x5217;&#x8868;&#x3002;
&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="language-js">response.writeHead(200, { &apos;Content-Type&apos;: &apos;text/plain&apos;,
                          &apos;Trailer&apos;: &apos;Content-MD5&apos; });
response.write(fileData);
response.addTrailers({ &apos;Content-MD5&apos;: &apos;7895bf4b8828b55ceaf47747b4bca667&apos; });
response.end();
</code></pre>
<p>&#x5982;&#x679C;&#x5C3E;&#x90E8;&#x54CD;&#x5E94;&#x5934;&#x5B57;&#x6BB5;&#x7684;&#x540D;&#x79F0;&#x6216;&#x503C;&#x5305;&#x542B;&#x65E0;&#x6548;&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x629B;&#x51FA; <a href="/s/Z7Lqyj"><code>TypeError</code></a> &#x9519;&#x8BEF;&#x3002;</p>
<h3>response.connection<span><a class="mark" href="_api_http.html#http_response_connection" id="http_response_connection">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_connection" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_connection.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>See <a href="/s/oiu4ph"><code>response.socket</code></a>.</p>
<h3>response.end([data][, encoding][, callback])<span><a class="mark" href="_api_http.html#http_response_end_data_encoding_callback" id="http_response_end_data_encoding_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_end_data_encoding_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_end_data_encoding_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><code>data</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
<li><code>encoding</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x901A;&#x77E5;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6240;&#x6709;&#x54CD;&#x5E94;&#x5934;&#x548C;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x90FD;&#x5DF2;&#x88AB;&#x53D1;&#x9001;&#xFF0C;&#x5373;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x5176;&#x89C6;&#x4E3A;&#x5DF2;&#x5B8C;&#x6210;&#x3002;
&#x6BCF;&#x6B21;&#x54CD;&#x5E94;&#x90FD;&#x5FC5;&#x987B;&#x8C03;&#x7528; <code>response.end()</code> &#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>data</code>&#xFF0C;&#x5219;&#x76F8;&#x5F53;&#x4E8E;&#x8C03;&#x7528; <a href="/s/gvWo3m"><code>response.write(data, encoding)</code></a> &#x4E4B;&#x540E;&#x518D;&#x8C03;&#x7528; <code>response.end(callback)</code>&#x3002;</p>
<p>&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>callback</code>&#xFF0C;&#x5219;&#x5F53;&#x54CD;&#x5E94;&#x6D41;&#x7ED3;&#x675F;&#x65F6;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<h3>response.finished<span><a class="mark" href="_api_http.html#http_response_finished" id="http_response_finished">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_finished" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_finished.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.0.2</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5E03;&#x5C14;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x54CD;&#x5E94;&#x662F;&#x5426;&#x5DF2;&#x5B8C;&#x6210;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>false</code>&#x3002;
&#x6267;&#x884C; <a href="/s/sqAtet"><code>response.end()</code></a> &#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x503C;&#x4F1A;&#x53D8;&#x4E3A; <code>true</code>&#x3002;</p>
<h3>response.getHeader(name)<span><a class="mark" href="_api_http.html#http_response_getheader_name" id="http_response_getheader_name">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_getheader_name" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_getheader_name.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.4.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li>&#x8FD4;&#x56DE;: <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x8BFB;&#x53D6;&#x4E00;&#x4E2A;&#x5DF2;&#x5165;&#x961F;&#x5217;&#x4F46;&#x5C1A;&#x672A;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x540D;&#x79F0;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">const contentType = response.getHeader(&apos;content-type&apos;);
</code></pre>
<h3>response.getHeaderNames()<span><a class="mark" href="_api_http.html#http_response_getheadernames" id="http_response_getheadernames">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_getheadernames" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_getheadernames.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v7.7.0</span>
</div>
<ul>
<li>Returns: <a href="/s/_moz/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x5F53;&#x524D;&#x54CD;&#x5E94;&#x552F;&#x4E00;&#x540D;&#x79F0;&#x7684; http &#x5934;&#x4FE1;&#x606F;&#x540D;&#x79F0;&#x6570;&#x7EC4;. &#x540D;&#x79F0;&#x5747;&#x4E3A;&#x5C0F;&#x5199;.</p>
<p>&#x793A;&#x4F8B;:</p>
<pre><code class="language-js">response.setHeader(&apos;Foo&apos;, &apos;bar&apos;);
response.setHeader(&apos;Set-Cookie&apos;, [&apos;foo=bar&apos;, &apos;bar=baz&apos;]);

const headerNames = response.getHeaderNames();
// headerNames === [&apos;foo&apos;, &apos;set-cookie&apos;]
</code></pre>
<h3>response.getHeaders()<span><a class="mark" href="_api_http.html#http_response_getheaders" id="http_response_getheaders">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_getheaders" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_getheaders.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v7.7.0</span>
</div>
<ul>
<li>Returns: <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x54CD;&#x5E94;&#x5934;&#x6587;&#x4EF6;&#x7684;&#x6D45;&#x62F7;&#x8D1D;&#x3002; &#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x4E86;&#x6D45;&#x62F7;&#x8D1D;&#xFF0C;&#x56E0;&#x6B64;&#x6570;&#x7EC4;&#x503C;&#x53EF;&#x80FD;&#x4F1A;&#x6539;&#x53D8;&#xFF0C;&#x65E0;&#x9700;&#x5BF9;&#x5404;&#x79CD;&#x4E0E;&#x54CD;&#x5E94;&#x5934;&#x76F8;&#x5173;&#x7684;http&#x6A21;&#x5757;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x989D;&#x5916;&#x8C03;&#x7528;&#x3002;
&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x7684;&#x952E;&#x662F;&#x54CD;&#x5E94;&#x5934;&#x540D;&#x79F0;&#xFF0C;&#x503C;&#x662F;&#x5404;&#x81EA;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x503C;&#x3002; &#x6240;&#x6709;&#x54CD;&#x5E94;&#x5934;&#x540D;&#x79F0;&#x90FD;&#x662F;&#x5C0F;&#x5199;&#x7684;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;<code>response.getHeaders()</code> &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x4F1A;&#x539F;&#x578B;&#x7EE7;&#x627F; JavaScript <code>Object</code>&#x3002; &#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x6CA1;&#x6709;&#x5B9A;&#x4E49;&#x5178;&#x578B;&#x7684;Object&#x65B9;&#x6CD5;&#xFF0C;&#x5982;<code>obj.toString()</code>&#xFF0C;<code>obj.hasOwnProperty()</code> &#x548C;&#x5176;&#x4ED6;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x8D77;&#x4F5C;&#x7528;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">response.setHeader(&apos;Foo&apos;, &apos;bar&apos;);
response.setHeader(&apos;Set-Cookie&apos;, [&apos;foo=bar&apos;, &apos;bar=baz&apos;]);

const headers = response.getHeaders();
// headers === { foo: &apos;bar&apos;, &apos;set-cookie&apos;: [&apos;foo=bar&apos;, &apos;bar=baz&apos;] }
</code></pre>
<h3>response.hasHeader(name)<span><a class="mark" href="_api_http.html#http_response_hasheader_name" id="http_response_hasheader_name">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_hasheader_name" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_hasheader_name.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v7.7.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li>Returns: <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x5982;&#x679C;&#x54CD;&#x5E94;&#x5934;&#x5F53;&#x524D;&#x6709;&#x8BBE;&#x7F6E; <code>name</code> &#x5934;&#x90E8;&#xFF0C;&#x8FD4;&#x56DE; <code>true</code>&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x540D;&#x79F0;&#x5339;&#x914D;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">const hasContentType = response.hasHeader(&apos;content-type&apos;);
</code></pre>
<h3>response.headersSent<span><a class="mark" href="_api_http.html#http_response_headerssent" id="http_response_headerssent">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_headerssent" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_headerssent.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.9.3</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5E03;&#x5C14;&#x503C;&#xFF08;&#x53EA;&#x8BFB;&#xFF09;&#x3002;
&#x5982;&#x679C;&#x54CD;&#x5E94;&#x5934;&#x5DF2;&#x88AB;&#x53D1;&#x9001;&#x5219;&#x4E3A; <code>true</code>&#xFF0C;&#x5426;&#x5219;&#x4E3A; <code>false</code>&#x3002;</p>
<h3>response.removeHeader(name)<span><a class="mark" href="_api_http.html#http_response_removeheader_name" id="http_response_removeheader_name">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_removeheader_name" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_removeheader_name.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.4.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x4ECE;&#x9690;&#x5F0F;&#x53D1;&#x9001;&#x7684;&#x961F;&#x5217;&#x4E2D;&#x79FB;&#x9664;&#x4E00;&#x4E2A;&#x54CD;&#x5E94;&#x5934;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">response.removeHeader(&apos;Content-Encoding&apos;);
</code></pre>
<h3>response.sendDate<span><a class="mark" href="_api_http.html#http_response_senddate" id="http_response_senddate">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_senddate" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_senddate.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.5</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x5F53;&#x4E3A; <code>true</code> &#x65F6;&#xFF0C;&#x5982;&#x679C;&#x54CD;&#x5E94;&#x5934;&#x91CC;&#x6CA1;&#x6709;&#x65E5;&#x671F;&#x54CD;&#x5E94;&#x5934;&#xFF0C;&#x5219;&#x65E5;&#x671F;&#x54CD;&#x5E94;&#x5934;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5E76;&#x53D1;&#x9001;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>true</code>&#x3002;</p>
<p>&#x8BE5;&#x5C5E;&#x6027;&#x53EA;&#x53EF;&#x5728;&#x6D4B;&#x8BD5;&#x65F6;&#x88AB;&#x7981;&#x7528;&#xFF0C;&#x56E0;&#x4E3A; HTTP &#x54CD;&#x5E94;&#x9700;&#x8981;&#x5305;&#x542B;&#x65E5;&#x671F;&#x54CD;&#x5E94;&#x5934;&#x3002;</p>
<h3>response.setHeader(name, value)<span><a class="mark" href="_api_http.html#http_response_setheader_name_value" id="http_response_setheader_name_value">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_setheader_name_value" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_setheader_name_value.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.4.0</span>
</div>
<ul>
<li><code>name</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>value</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string[]&gt;</a></li>
</ul>
<p>&#x4E3A;&#x4E00;&#x4E2A;&#x9690;&#x5F0F;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x8BBE;&#x7F6E;&#x503C;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x54CD;&#x5E94;&#x5934;&#x5DF2;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x503C;&#x4F1A;&#x88AB;&#x8986;&#x76D6;&#x3002;
&#x5982;&#x679C;&#x8981;&#x53D1;&#x9001;&#x591A;&#x4E2A;&#x540D;&#x79F0;&#x76F8;&#x540C;&#x7684;&#x54CD;&#x5E94;&#x5934;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x6570;&#x7EC4;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">response.setHeader(&apos;Content-Type&apos;, &apos;text/html&apos;);
</code></pre>
<p>&#x6216;</p>
<pre><code class="language-js">response.setHeader(&apos;Set-Cookie&apos;, [&apos;type=ninja&apos;, &apos;language=javascript&apos;]);
</code></pre>
<p>&#x5982;&#x679C;&#x54CD;&#x5E94;&#x5934;&#x5B57;&#x6BB5;&#x7684;&#x540D;&#x79F0;&#x6216;&#x503C;&#x5305;&#x542B;&#x65E0;&#x6548;&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x629B;&#x51FA; <a href="/s/Z7Lqyj"><code>TypeError</code></a> &#x9519;&#x8BEF;&#x3002;</p>
<p><a href="/s/rqeM3J"><code>response.setHeader()</code></a> &#x8BBE;&#x7F6E;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x4F1A;&#x4E0E; <a href="/s/fnj9oM"><code>response.writeHead()</code></a> &#x8BBE;&#x7F6E;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x5408;&#x5E76;&#xFF0C;&#x4E14; <a href="/s/fnj9oM"><code>response.writeHead()</code></a> &#x7684;&#x4F18;&#x5148;&#x3002;</p>
<pre><code class="language-js">// &#x8FD4;&#x56DE; content-type = text/plain
const server = http.createServer((req, res) =&gt; {
  res.setHeader(&apos;Content-Type&apos;, &apos;text/html&apos;);
  res.setHeader(&apos;X-Foo&apos;, &apos;bar&apos;);
  res.writeHead(200, { &apos;Content-Type&apos;: &apos;text/plain&apos; });
  res.end(&apos;ok&apos;);
});
</code></pre>
<h3>response.setTimeout(msecs[, callback])<span><a class="mark" href="_api_http.html#http_response_settimeout_msecs_callback" id="http_response_settimeout_msecs_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_settimeout_msecs_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_settimeout_msecs_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.9.12</span>
</div>
<ul>
<li><code>msecs</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>&#x8BBE;&#x7F6E; socket &#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x4E3A; <code>msecs</code>&#x3002;
&#x5982;&#x679C;&#x63D0;&#x4F9B;&#x4E86;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5219;&#x5B83;&#x4F1A;&#x4F5C;&#x4E3A;&#x76D1;&#x542C;&#x5668;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x54CD;&#x5E94;&#x5BF9;&#x8C61;&#x7684; <code>&apos;timeout&apos;</code> &#x4E8B;&#x4EF6;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709; <code>&apos;timeout&apos;</code> &#x76D1;&#x542C;&#x5668;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x8BF7;&#x6C42;&#x3001;&#x54CD;&#x5E94;&#x6216;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5219; socket &#x4F1A;&#x5728;&#x8D85;&#x65F6;&#x540E;&#x88AB;&#x9500;&#x6BC1;&#x3002;
&#x5982;&#x679C;&#x5728;&#x8BF7;&#x6C42;&#x3001;&#x54CD;&#x5E94;&#x6216;&#x670D;&#x52A1;&#x5668;&#x7684; <code>&apos;timeout&apos;</code> &#x4E8B;&#x4EF6;&#x4E0A;&#x5206;&#x914D;&#x4E86;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5219;&#x8D85;&#x65F6;&#x7684; socket &#x5FC5;&#x987B;&#x88AB;&#x663E;&#x5F0F;&#x5730;&#x5904;&#x7406;&#x3002;</p>
<p>&#x8FD4;&#x56DE; <code>response</code>&#x3002;</p>
<h3>response.socket<span><a class="mark" href="_api_http.html#http_response_socket" id="http_response_socket">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_socket" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_socket.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x5F15;&#x7528;&#x5E95;&#x5C42;socket&#x3002; &#x901A;&#x5E38;&#x7528;&#x6237;&#x4E0D;&#x60F3;&#x8BBF;&#x95EE;&#x6B64;&#x5C5E;&#x6027;&#x3002; &#x7279;&#x522B;&#x5730;&#xFF0C;&#x7531;&#x4E8E;&#x534F;&#x8BAE;&#x89E3;&#x6790;&#x5668;&#x8FDE;&#x63A5;&#x5230;socket&#x7684;&#x65B9;&#x5F0F;&#xFF0C;socket&#x5C06;&#x4E0D;&#x4F1A;&#x53D1;&#x51FA;<code>&apos;readable&apos;</code>&#x4E8B;&#x4EF6;&#x3002; &#x5728;<code>response.end()</code>&#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x4E3A;null&#x3002; &#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<code>response.connection</code>&#x6765;&#x8BBF;&#x95EE;<code>socket</code>&#x3002;</p>
<p>&#x4F8B;&#x5982;:</p>
<pre><code class="language-js">const http = require(&apos;http&apos;);
const server = http.createServer((req, res) =&gt; {
  const ip = res.socket.remoteAddress;
  const port = res.socket.remotePort;
  res.end(`&#x4F60;&#x7684;IP&#x5730;&#x5740;&#x662F; ${ip}&#xFF0C;&#x4F60;&#x7684;&#x6E90;&#x7AEF;&#x53E3;&#x662F; ${port}&#x3002;`);
}).listen(3000);
</code></pre>
<h3>response.statusCode<span><a class="mark" href="_api_http.html#http_response_statuscode" id="http_response_statuscode">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_statuscode" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_statuscode.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.4.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p>&#x5F53;&#x4F7F;&#x7528;&#x9690;&#x5F0F;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x65F6;&#xFF08;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x5730;&#x8C03;&#x7528; <a href="/s/fnj9oM"><code>response.writeHead()</code></a>&#xFF09;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x63A7;&#x5236;&#x54CD;&#x5E94;&#x5934;&#x5237;&#x65B0;&#x65F6;&#x5C06;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x72B6;&#x6001;&#x7801;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">response.statusCode = 404;
</code></pre>
<p>&#x54CD;&#x5E94;&#x5934;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x540E;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x8868;&#x793A;&#x88AB;&#x53D1;&#x51FA;&#x7684;&#x72B6;&#x6001;&#x7801;&#x3002;</p>
<h3>response.statusMessage<span><a class="mark" href="_api_http.html#http_response_statusmessage" id="http_response_statusmessage">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_statusmessage" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_statusmessage.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.8</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x5F53;&#x4F7F;&#x7528;&#x9690;&#x5F0F;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x65F6;&#xFF08;&#x6CA1;&#x6709;&#x663E;&#x5F0F;&#x5730;&#x8C03;&#x7528; <a href="/s/fnj9oM"><code>response.writeHead()</code></a>&#xFF09;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x63A7;&#x5236;&#x54CD;&#x5E94;&#x5934;&#x5237;&#x65B0;&#x65F6;&#x5C06;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x3002;
&#x5982;&#x679C;&#x8BE5;&#x503C;&#x4E3A; <code>undefined</code>&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x7801;&#x7684;&#x6807;&#x51C6;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">response.statusMessage = &apos;Not found&apos;;
</code></pre>
<p>&#x54CD;&#x5E94;&#x5934;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x540E;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x8868;&#x793A;&#x88AB;&#x53D1;&#x51FA;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#x3002;</p>
<h3>response.write(chunk[, encoding][, callback])<span><a class="mark" href="_api_http.html#http_response_write_chunk_encoding_callback" id="http_response_write_chunk_encoding_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_write_chunk_encoding_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_write_chunk_encoding_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.29</span>
</div>
<ul>
<li><code>chunk</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
<li><code>encoding</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li>&#x8FD4;&#x56DE;: <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x5982;&#x679C;&#x8BE5;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x4E14; <a href="/s/fnj9oM"><code>response.writeHead()</code></a> &#x6CA1;&#x6709;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x5219;&#x5B83;&#x4F1A;&#x5207;&#x6362;&#x5230;&#x9690;&#x5F0F;&#x54CD;&#x5E94;&#x5934;&#x6A21;&#x5F0F;&#x5E76;&#x5237;&#x65B0;&#x9690;&#x5F0F;&#x54CD;&#x5E94;&#x5934;&#x3002;</p>
<p>&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x53D1;&#x9001;&#x4E00;&#x5757;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x3002;
&#x5B83;&#x53EF;&#x88AB;&#x591A;&#x6B21;&#x8C03;&#x7528;&#xFF0C;&#x4EE5;&#x4FBF;&#x63D0;&#x4F9B;&#x8FDE;&#x7EED;&#x7684;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x7247;&#x6BB5;&#x3002;</p>
<p>&#x8BF7;&#x6CE8;&#x610F;&#x5728;<code>http</code>&#x6A21;&#x5757;&#x4E2D;&#xFF0C;&#x5F53;&#x8BF7;&#x6C42;&#x662F;HEAD&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x88AB;&#x7701;&#x7565;&#x3002; &#x7C7B;&#x4F3C;&#x5730;&#xFF0C;<code>204</code>&#x548C;<code>304</code>&#x54CD;&#x5E94; <em>&#x4E0D;&#x80FD;</em> &#x5305;&#x62EC;&#x6D88;&#x606F;&#x4F53;&#x3002;</p>
<p><code>chunk</code> &#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x4E00;&#x4E2A; buffer&#x3002;
&#x5982;&#x679C; <code>chunk</code> &#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5219;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x6307;&#x5B9A;&#x5982;&#x4F55;&#x5C06;&#x5B83;&#x7F16;&#x7801;&#x6210;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x6D41;&#x3002;
<code>encoding</code> &#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;utf8&apos;</code>&#x3002;
&#x5F53;&#x6570;&#x636E;&#x5757;&#x88AB;&#x5237;&#x65B0;&#x65F6;&#xFF0C;<code>callback</code> &#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x662F;&#x539F;&#x59CB;&#x7684; HTTP &#x4E3B;&#x4F53;&#xFF0C;&#x4E14;&#x4E0E;&#x53EF;&#x80FD;&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x9AD8;&#x7EA7;&#x4E3B;&#x4F53;&#x7F16;&#x7801;&#x65E0;&#x5173;&#x3002;</p>
<p><a href="/s/gvWo3m"><code>response.write()</code></a> &#x9996;&#x6B21;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#xFF0C;&#x4F1A;&#x53D1;&#x9001;&#x7F13;&#x51B2;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x4FE1;&#x606F;&#x548C;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x7684;&#x7B2C;&#x4E00;&#x5757;&#x6570;&#x636E;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x3002;
<a href="/s/gvWo3m"><code>response.write()</code></a> &#x7B2C;&#x4E8C;&#x6B21;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#xFF0C;Node.js &#x80FD;&#x591F;&#x786E;&#x5B9A;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x63A5;&#x6536;&#xFF0C;&#x4E8E;&#x662F;&#x5F00;&#x59CB;&#x4F20;&#x8F93;&#x65B0;&#x6570;&#x636E;&#x3002;
&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x54CD;&#x5E94;&#x7684;&#x5B8C;&#x6210;&#x53D6;&#x51B3;&#x4E8E;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x7684;&#x7B2C;&#x4E00;&#x5757;&#x6570;&#x636E;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5168;&#x90E8;&#x6570;&#x636E;&#x88AB;&#x6210;&#x529F;&#x5237;&#x65B0;&#x5230;&#x5185;&#x6838;&#x7F13;&#x51B2;&#x533A;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <code>true</code>&#x3002;
&#x5982;&#x679C;&#x5168;&#x90E8;&#x6216;&#x90E8;&#x5206;&#x6570;&#x636E;&#x8FD8;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x6392;&#x961F;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <code>false</code>&#x3002;
&#x5F53;&#x7F13;&#x51B2;&#x533A;&#x518D;&#x6B21;&#x7A7A;&#x95F2;&#x65F6;&#xFF0C;&#x5219;&#x89E6;&#x53D1; <code>&apos;drain&apos;</code> &#x4E8B;&#x4EF6;&#x3002;</p>
<h3>response.writeContinue()<span><a class="mark" href="_api_http.html#http_response_writecontinue" id="http_response_writecontinue">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_writecontinue" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_writecontinue.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<p>&#x53D1;&#x9001;&#x4E00;&#x4E2A; <code>HTTP/1.1 100 Continue</code> &#x6D88;&#x606F;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x3002;
&#x53C2;&#x9605; <code>Server</code> &#x7684; <a href="/s/ixa4zt"><code>&apos;checkContinue&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;</p>
<h3>response.writeHead(statusCode[, statusMessage][, headers])<span><a class="mark" href="_api_http.html#http_response_writehead_statuscode_statusmessage_headers" id="http_response_writehead_statuscode_statusmessage_headers">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_writehead_statuscode_statusmessage_headers" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_writehead_statuscode_statusmessage_headers.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v5.11.0, v4.4.5</td>
<td><p>A <code>RangeError</code> is thrown if <code>statusCode</code> is not a number in the range <code>[100, 999]</code>.</p></td></tr>
<tr><td>v0.1.30</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.30</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>statusCode</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
<li><code>statusMessage</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
<li><code>headers</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x54CD;&#x5E94;&#x5934;&#x7ED9;&#x8BF7;&#x6C42;&#x3002;
&#x72B6;&#x6001;&#x7801;&#x662F;&#x4E00;&#x4E2A;&#x4E09;&#x4F4D;&#x6570;&#x7684; HTTP &#x72B6;&#x6001;&#x7801;&#xFF0C;&#x5982; <code>404</code>&#x3002;
&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x53C2;&#x6570; <code>headers</code> &#x662F;&#x54CD;&#x5E94;&#x5934;&#x3002;
&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570; <code>statusMessage</code> &#x662F;&#x53EF;&#x9009;&#x7684;&#x72B6;&#x6001;&#x63CF;&#x8FF0;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">const body = &apos;hello world&apos;;
response.writeHead(200, {
  &apos;Content-Length&apos;: Buffer.byteLength(body),
  &apos;Content-Type&apos;: &apos;text/plain&apos; });
</code></pre>
<p>&#x8BE5;&#x65B9;&#x6CD5;&#x5728;&#x6D88;&#x606F;&#x4E2D;&#x53EA;&#x80FD;&#x88AB;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#xFF0C;&#x4E14;&#x5FC5;&#x987B;&#x5728; <a href="/s/sqAtet"><code>response.end()</code></a> &#x88AB;&#x8C03;&#x7528;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5728;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x8C03;&#x7528; <a href="/s/gvWo3m"><code>response.write()</code></a> &#x6216; <a href="/s/sqAtet"><code>response.end()</code></a>&#xFF0C;&#x5219;&#x9690;&#x5F0F;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x4F1A;&#x88AB;&#x5904;&#x7406;&#x5E76;&#x8C03;&#x7528;&#x8BE5;&#x51FD;&#x6570;&#x3002;</p>
<p><a href="/s/rqeM3J"><code>response.setHeader()</code></a> &#x8BBE;&#x7F6E;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x4F1A;&#x4E0E; <a href="/s/fnj9oM"><code>response.writeHead()</code></a> &#x8BBE;&#x7F6E;&#x7684;&#x54CD;&#x5E94;&#x5934;&#x5408;&#x5E76;&#xFF0C;&#x4E14; <a href="/s/fnj9oM"><code>response.writeHead()</code></a> &#x7684;&#x4F18;&#x5148;&#x3002;</p>
<pre><code class="language-js">// &#x8FD4;&#x56DE; content-type = text/plain
const server = http.createServer((req, res) =&gt; {
  res.setHeader(&apos;Content-Type&apos;, &apos;text/html&apos;);
  res.setHeader(&apos;X-Foo&apos;, &apos;bar&apos;);
  res.writeHead(200, { &apos;Content-Type&apos;: &apos;text/plain&apos; });
  res.end(&apos;ok&apos;);
});
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF0C;<code>Content-Length</code> &#x662F;&#x4EE5;&#x5B57;&#x8282;&#xFF08;&#x800C;&#x4E0D;&#x662F;&#x5B57;&#x7B26;&#xFF09;&#x4E3A;&#x5355;&#x4F4D;&#x7684;&#x3002;
&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x884C;&#x5F97;&#x901A;&#x662F;&#x56E0;&#x4E3A;&#x5B57;&#x7B26;&#x4E32; <code>&apos;hello world&apos;</code> &#x53EA;&#x5305;&#x542B;&#x5355;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#x3002;
&#x5982;&#x679C;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x5305;&#x542B;&#x9AD8;&#x7EA7;&#x7F16;&#x7801;&#x7684;&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x5E94;&#x4F7F;&#x7528; <code>Buffer.byteLength()</code> &#x6765;&#x786E;&#x5B9A;&#x5728;&#x7ED9;&#x5B9A;&#x7F16;&#x7801;&#x4E2D;&#x7684;&#x5B57;&#x8282;&#x6570;&#x3002;
Node.js &#x4E0D;&#x4F1A;&#x68C0;&#x67E5; <code>Content-Length</code> &#x4E0E;&#x5DF2;&#x53D1;&#x9001;&#x7684;&#x54CD;&#x5E94;&#x4E3B;&#x4F53;&#x7684;&#x957F;&#x5EA6;&#x662F;&#x5426;&#x76F8;&#x540C;&#x3002;</p>
<p>&#x5982;&#x679C;&#x54CD;&#x5E94;&#x5934;&#x5B57;&#x6BB5;&#x7684;&#x540D;&#x79F0;&#x6216;&#x503C;&#x5305;&#x542B;&#x65E0;&#x6548;&#x5B57;&#x7B26;&#xFF0C;&#x5219;&#x629B;&#x51FA; <a href="/s/Z7Lqyj"><code>TypeError</code></a> &#x9519;&#x8BEF;&#x3002;</p>
<h3>response.writeProcessing()<span><a class="mark" href="_api_http.html#http_response_writeprocessing" id="http_response_writeprocessing">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_response_writeprocessing" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/response_writeprocessing.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v10.0.0</span>
</div>
<p>Sends a HTTP/1.1 102 Processing message to the client, indicating that
the request body should be sent.</p>
<h2>http.IncomingMessage &#x7C7B;<span><a class="mark" href="_api_http.html#http_class_http_incomingmessage" id="http_class_http_incomingmessage">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_class_http_incomingmessage" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/class_http_incomingmessage.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.17</span>
</div>
<p><code>IncomingMessage</code> &#x5BF9;&#x8C61;&#x7531; <a href="/s/jLiRTh"><code>http.Server</code></a> &#x6216; <a href="/s/2F5RHd"><code>http.ClientRequest</code></a> &#x521B;&#x5EFA;&#xFF0C;&#x5E76;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x5206;&#x522B;&#x9012;&#x7ED9; <a href="/s/2qCn57"><code>&apos;request&apos;</code></a> &#x548C; <a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;
&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8BBF;&#x95EE;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x3001;&#x6D88;&#x606F;&#x5934;&#x3001;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x3002;</p>
<p>&#x5B83;&#x5B9E;&#x73B0;&#x4E86; <a href="/s/YuDKX1">&#x53EF;&#x8BFB;&#x6D41;</a> &#x63A5;&#x53E3;&#xFF0C;&#x8FD8;&#x6709;&#x4EE5;&#x4E0B;&#x989D;&#x5916;&#x7684;&#x4E8B;&#x4EF6;&#x3001;&#x65B9;&#x6CD5;&#x3001;&#x4EE5;&#x53CA;&#x5C5E;&#x6027;&#x3002;</p>
<h3>&apos;aborted&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_aborted" id="http_event_aborted">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_aborted" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_aborted.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.8</span>
</div>
<p>&#x5F53;&#x8BF7;&#x6C42;&#x5DF2;&#x88AB;&#x7EC8;&#x6B62;&#x4E14;&#x7F51;&#x7EDC; socket &#x5DF2;&#x5173;&#x95ED;&#x65F6;&#x89E6;&#x53D1;&#x3002;</p>
<h3>&apos;close&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="_api_http.html#http_event_close_2" id="http_event_close_2">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_event_close_2" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/event_close_2.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.4.2</span>
</div>
<p>&#x5F53;&#x5E95;&#x5C42;&#x8FDE;&#x63A5;&#x88AB;&#x5173;&#x95ED;&#x65F6;&#x89E6;&#x53D1;&#x3002;
&#x540C; <code>&apos;end&apos;</code> &#x4E8B;&#x4EF6;&#x4E00;&#x6837;&#xFF0C;&#x8BE5;&#x4E8B;&#x4EF6;&#x6BCF;&#x4E2A;&#x54CD;&#x5E94;&#x53EA;&#x89E6;&#x53D1;&#x4E00;&#x6B21;&#x3002;</p>
<h3>message.aborted<span><a class="mark" href="_api_http.html#http_message_aborted" id="http_message_aborted">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_aborted" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_aborted.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v10.1.0</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>The <code>message.aborted</code> property will be <code>true</code> if the request has
been aborted.</p>
<h3>message.destroy([error])<span><a class="mark" href="_api_http.html#http_message_destroy_error" id="http_message_destroy_error">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_destroy_error" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_destroy_error.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><code>error</code> <a href="/s/_moz/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a></li>
</ul>
<p>&#x8C03;&#x7528;&#x63A5;&#x6536;&#x5230; <code>IncomingMessage</code> &#x7684; socket &#x4E0A;&#x7684; <code>destroy()</code> &#x65B9;&#x6CD5;&#x3002;
&#x5982;&#x679C;&#x63D0;&#x4F9B;&#x4E86; <code>error</code>&#xFF0C;&#x5219;&#x89E6;&#x53D1; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x4E14;&#x628A; <code>error</code> &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x4E8B;&#x4EF6;&#x7684;&#x76D1;&#x542C;&#x5668;&#x3002;</p>
<h3>message.headers<span><a class="mark" href="_api_http.html#http_message_headers" id="http_message_headers">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_headers" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_headers.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.5</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8BF7;&#x6C42;&#x5934;&#x6216;&#x54CD;&#x5E94;&#x5934;&#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x5934;&#x4FE1;&#x606F;&#x7684;&#x540D;&#x79F0;&#x4E0E;&#x503C;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;
&#x5934;&#x4FE1;&#x606F;&#x7684;&#x540D;&#x79F0;&#x4E3A;&#x5C0F;&#x5199;&#x3002;
&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="language-js">// &#x8F93;&#x51FA;&#x7C7B;&#x4F3C;&#x4EE5;&#x4E0B;&#x7684;&#x4E1C;&#x897F;&#xFF1A;
//
// { &apos;user-agent&apos;: &apos;curl/7.22.0&apos;,
//   host: &apos;127.0.0.1:8000&apos;,
//   accept: &apos;*/*&apos; }
console.log(request.headers);
</code></pre>
<p>&#x539F;&#x59CB;&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#x7684;&#x91CD;&#x590D;&#x6570;&#x636E;&#x4F1A;&#x6309;&#x4EE5;&#x4E0B;&#x65B9;&#x5F0F;&#x6839;&#x636E;&#x5934;&#x4FE1;&#x606F;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF1A;</p>
<ul>
<li>&#x91CD;&#x590D;&#x7684; <code>age</code> &#x3001; <code>authorization</code> &#x3001; <code>content-length</code> &#x3001; <code>content-type</code> &#x3001;
<code>etag</code> &#x3001; <code>expires</code> &#x3001; <code>from</code> &#x3001; <code>host</code> &#x3001; <code>if-modified-since</code> &#x3001; <code>if-unmodified-since</code> &#x3001;
<code>last-modified</code> &#x3001; <code>location</code> &#x3001; <code>max-forwards</code> &#x3001; <code>proxy-authorization</code> &#x3001; <code>referer</code> &#x3001;
<code>retry-after</code> &#x3001;&#x6216; <code>user-agent</code> &#x4F1A;&#x88AB;&#x4E22;&#x5F03;&#x3002;</li>
<li><code>set-cookie</code> &#x59CB;&#x7EC8;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x3002;&#x91CD;&#x590D;&#x7684;&#x4F1A;&#x88AB;&#x6DFB;&#x52A0;&#x5230;&#x6570;&#x7EC4;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x5176;&#x4ED6;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x503C;&#x4F7F;&#x7528; <code>,</code> &#x62FC;&#x63A5;&#x3002;</li>
</ul>
<h3>message.httpVersion<span><a class="mark" href="_api_http.html#http_message_httpversion" id="http_message_httpversion">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_httpversion" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_httpversion.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.1</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p>&#x5728;&#x670D;&#x52A1;&#x5668;&#x8BF7;&#x6C42;&#x4E2D;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x8FD4;&#x56DE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x7684; HTTP &#x7248;&#x672C;&#x3002;
&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94;&#x4E2D;&#xFF0C;&#x8BE5;&#x5C5E;&#x6027;&#x8FD4;&#x56DE;&#x8FDE;&#x63A5;&#x5230;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684; HTTP &#x7248;&#x672C;&#x3002;
&#x53EF;&#x80FD;&#x7684;&#x503C;&#x6709; <code>&apos;1.1&apos;</code> &#x6216; <code>&apos;1.0&apos;</code>&#x3002;</p>
<p><code>message.httpVersionMajor</code> &#x8FD4;&#x56DE; HTTP &#x7248;&#x672C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#x503C;&#xFF0C;<code>message.httpVersionMinor</code> &#x8FD4;&#x56DE; HTTP &#x7248;&#x672C;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x6574;&#x6570;&#x503C;&#x3002;</p>
<h3>message.method<span><a class="mark" href="_api_http.html#http_message_method" id="http_message_method">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_method" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_method.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.1</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p><strong>&#x4EC5;&#x5728; <a href="/s/jLiRTh"><code>http.Server</code></a> &#x8FD4;&#x56DE;&#x7684;&#x8BF7;&#x6C42;&#x4E2D;&#x6709;&#x6548;&#x3002;</strong></p>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8868;&#x793A;&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x6CD5;&#x3002;
&#x8BE5;&#x5C5E;&#x6027;&#x53EA;&#x8BFB;&#x3002;
&#x4F8B;&#x5982;&#xFF1A;<code>&apos;GET&apos;</code>&#x3001;<code>&apos;DELETE&apos;</code>&#x3002;</p>
<h3>message.rawHeaders<span><a class="mark" href="_api_http.html#http_message_rawheaders" id="http_message_rawheaders">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_rawheaders" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_rawheaders.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.6</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a></li>
</ul>
<p>&#x63A5;&#x6536;&#x5230;&#x7684;&#x539F;&#x59CB;&#x7684;&#x8BF7;&#x6C42;&#x5934;&#x6216;&#x54CD;&#x5E94;&#x5934;&#x5217;&#x8868;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x952E;&#x548C;&#x503C;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x4E2D;&#x3002;
&#x5076;&#x6570;&#x4F4D;&#x7684;&#x662F;&#x952E;&#xFF0C;&#x5947;&#x6570;&#x4F4D;&#x7684;&#x662F;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002;</p>
<p>&#x5934;&#x4FE1;&#x606F;&#x7684;&#x540D;&#x79F0;&#x4E0D;&#x4F1A;&#x88AB;&#x8F6C;&#x6362;&#x4E3A;&#x5C0F;&#x5199;&#xFF0C;&#x91CD;&#x590D;&#x7684;&#x4E5F;&#x4E0D;&#x4F1A;&#x88AB;&#x5408;&#x5E76;&#x3002;</p>
<pre><code class="language-js">// &#x8F93;&#x51FA;&#x7C7B;&#x4F3C;&#x4EE5;&#x4E0B;&#x7684;&#x4E1C;&#x897F;&#xFF1A;
//
// [ &apos;user-agent&apos;,
//   &apos;this is invalid because there can be only one&apos;,
//   &apos;User-Agent&apos;,
//   &apos;curl/7.22.0&apos;,
//   &apos;Host&apos;,
//   &apos;127.0.0.1:8000&apos;,
//   &apos;ACCEPT&apos;,
//   &apos;*/*&apos; ]
console.log(request.rawHeaders);
</code></pre>
<h3>message.rawTrailers<span><a class="mark" href="_api_http.html#http_message_rawtrailers" id="http_message_rawtrailers">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_rawtrailers" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_rawtrailers.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.6</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a></li>
</ul>
<p>&#x63A5;&#x6536;&#x5230;&#x7684;&#x539F;&#x59CB;&#x7684; <code>Trailer</code> &#x8BF7;&#x6C42;&#x5934;&#x6216;&#x54CD;&#x5E94;&#x5934;&#x7684;&#x7684;&#x952E;&#x548C;&#x503C;&#x3002;
&#x53EA;&#x5728; <code>&apos;end&apos;</code> &#x4E8B;&#x4EF6;&#x65F6;&#x88AB;&#x8D4B;&#x503C;&#x3002;</p>
<h3>message.setTimeout(msecs, callback)<span><a class="mark" href="_api_http.html#http_message_settimeout_msecs_callback" id="http_message_settimeout_msecs_callback">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_settimeout_msecs_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_settimeout_msecs_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div>
<ul>
<li><code>msecs</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<p>&#x8C03;&#x7528; <code>message.connection.setTimeout(msecs, callback)</code>&#x3002;</p>
<p>&#x8FD4;&#x56DE; <code>message</code>&#x3002;</p>
<h3>message.socket<span><a class="mark" href="_api_http.html#http_message_socket" id="http_message_socket">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_socket" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_socket.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><a href="_api_net.html#net_class_net_socket" class="type">&lt;net.Socket&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E0E;&#x8FDE;&#x63A5;&#x5173;&#x8054;&#x7684; <a href="/s/wsJ1o1"><code>net.Socket</code></a> &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x901A;&#x8FC7; HTTPS &#x7684;&#x652F;&#x6301;&#xFF0C;&#x4F7F;&#x7528; <a href="/s/zQ1LhW"><code>request.socket.getPeerCertificate()</code></a> &#x83B7;&#x53D6;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BA4;&#x8BC1;&#x4FE1;&#x606F;&#x3002;</p>
<h3>message.statusCode<span><a class="mark" href="_api_http.html#http_message_statuscode" id="http_message_statuscode">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_statuscode" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_statuscode.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.1</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a></li>
</ul>
<p><strong>&#x4EC5;&#x5728; <a href="/s/2F5RHd"><code>http.ClientRequest</code></a> &#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x4E2D;&#x6709;&#x6548;&#x3002;</strong></p>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4E09;&#x4F4D;&#x6570;&#x7684; HTTP &#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x3002;
&#x5982; <code>404</code>&#x3002;</p>
<h3>message.statusMessage<span><a class="mark" href="_api_http.html#http_message_statusmessage" id="http_message_statusmessage">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_statusmessage" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_statusmessage.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.10</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p><strong>&#x4EC5;&#x5728; <a href="/s/2F5RHd"><code>http.ClientRequest</code></a> &#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x4E2D;&#x6709;&#x6548;&#x3002;</strong></p>
<p>&#x8FD4;&#x56DE; HTTP &#x54CD;&#x5E94;&#x72B6;&#x6001;&#x6D88;&#x606F;&#xFF08;&#x539F;&#x56E0;&#x63CF;&#x8FF0;&#xFF09;&#x3002;
&#x5982; <code>OK</code> &#x6216; <code>Internal Server Error</code>&#x3002;</p>
<h3>message.trailers<span><a class="mark" href="_api_http.html#http_message_trailers" id="http_message_trailers">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_trailers" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_trailers.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.3.0</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE; <code>Trailer</code> &#x8BF7;&#x6C42;&#x5934;&#x6216;&#x54CD;&#x5E94;&#x5934;&#x5BF9;&#x8C61;&#x3002;
&#x53EA;&#x5728; <code>&apos;end&apos;</code> &#x4E8B;&#x4EF6;&#x65F6;&#x88AB;&#x8D4B;&#x503C;&#x3002;</p>
<h3>message.url<span><a class="mark" href="_api_http.html#http_message_url" id="http_message_url">#</a></span></h3><p class="tip_wrap"><a href="_api_en_http.html#http_message_url" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/message_url.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p><strong>&#x4EC5;&#x5728; <a href="/s/jLiRTh"><code>http.Server</code></a> &#x8FD4;&#x56DE;&#x7684;&#x8BF7;&#x6C42;&#x4E2D;&#x6709;&#x6548;&#x3002;</strong></p>
<p>&#x8FD4;&#x56DE;&#x8BF7;&#x6C42;&#x7684; URL &#x5B57;&#x7B26;&#x4E32;&#x3002;
&#x4EC5;&#x5305;&#x542B;&#x5B9E;&#x9645; HTTP &#x8BF7;&#x6C42;&#x4E2D;&#x7684; URL&#x3002;
&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x662F;&#xFF1A;</p>
<pre><code class="language-txt">GET /status?name=ryan HTTP/1.1\r\n
Accept: text/plain\r\n
\r\n
</code></pre>
<p>&#x5219; <code>request.url</code> &#x4F1A;&#x662F;&#xFF1A;</p>
<!-- eslint-disable semi -->
<pre><code class="language-js">&apos;/status?name=ryan&apos;
</code></pre>
<p>&#x5982;&#x679C;&#x60F3;&#x5C06; url &#x89E3;&#x6790;&#x6210;&#x5404;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>require(&apos;url&apos;).parse(request.url)</code>&#x3002;
&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-txt">$ node
&gt; require(&apos;url&apos;).parse(&apos;/status?name=ryan&apos;)
Url {
  protocol: null,
  slashes: null,
  auth: null,
  host: null,
  port: null,
  hostname: null,
  hash: null,
  search: &apos;?name=ryan&apos;,
  query: &apos;name=ryan&apos;,
  pathname: &apos;/status&apos;,
  path: &apos;/status?name=ryan&apos;,
  href: &apos;/status?name=ryan&apos; }
</code></pre>
<p>&#x5982;&#x679C;&#x60F3;&#x4ECE;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x63D0;&#x53D6;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>require(&apos;querystring&apos;).parse</code> &#x51FD;&#x6570;&#x3001;&#x6216;&#x4E3A; <code>require(&apos;url&apos;).parse</code> &#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x5165; <code>true</code>&#x3002;
&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-txt">$ node
&gt; require(&apos;url&apos;).parse(&apos;/status?name=ryan&apos;, true)
Url {
  protocol: null,
  slashes: null,
  auth: null,
  host: null,
  port: null,
  hostname: null,
  hash: null,
  search: &apos;?name=ryan&apos;,
  query: { name: &apos;ryan&apos; },
  pathname: &apos;/status&apos;,
  path: &apos;/status?name=ryan&apos;,
  href: &apos;/status?name=ryan&apos; }
</code></pre>
<h2>http.METHODS<span><a class="mark" href="_api_http.html#http_http_methods" id="http_http_methods">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_methods" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_methods.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.11.8</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x89E3;&#x6790;&#x5668;&#x652F;&#x6301;&#x7684; HTTP &#x65B9;&#x6CD5;&#x7684;&#x5217;&#x8868;&#x3002;</p>
<h2>http.STATUS_CODES<span><a class="mark" href="_api_http.html#http_http_status_codes" id="http_http_status_codes">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_status_codes" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_status_codes.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.22</span>
</div>
<ul>
<li><a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x6807;&#x51C6;&#x7684; HTTP &#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x4EE5;&#x53CA;&#x5404;&#x81EA;&#x7684;&#x7B80;&#x77ED;&#x63CF;&#x8FF0;&#x3002;
&#x4F8B;&#x5982;&#xFF0C;<code>http.STATUS_CODES[404] === &apos;Not Found&apos;</code>&#x3002;</p>
<h2>http.createServer([options][, requestListener])<span><a class="mark" href="_api_http.html#http_http_createserver_options_requestlistener" id="http_http_createserver_options_requestlistener">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_createserver_options_requestlistener" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_createserver_options_requestlistener.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v9.6.0</td>
<td><p>The <code>options</code> argument is supported now.</p></td></tr>
<tr><td>v0.1.13</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.13</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li>
<p><a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>IncomingMessage</code> <a href="_api_http.html#http_class_http_incomingmessage" class="type">&lt;http.IncomingMessage&gt;</a> &#x6307;&#x5B9A;&#x8981;&#x4F7F;&#x7528;&#x7684; <code>IncomingMessage</code>
&#x7C7B;&#xFF0C;&#x7528;&#x4E8E;&#x62D3;&#x5C55;&#x539F;&#x59CB;&#x7684;<code>IncomingMessage</code>&#x7C7B;.
<strong>&#x7F3A;&#x7701;:</strong> <code>IncomingMessage</code>.</li>
<li><code>ServerResponse</code> <a href="_api_http.html#http_class_http_serverresponse" class="type">&lt;http.ServerResponse&gt;</a> &#x6307;&#x5B9A;&#x8981;&#x4F7F;&#x7528;&#x7684; <code>ServerResponse</code>&#x7C7B;&#xFF0C;
&#x7528;&#x4E8E;&#x62D3;&#x5C55;&#x539F;&#x59CB;&#x7684;<code>ServerResponse</code>&#x7C7B;. <strong>&#x7F3A;&#x7701;:</strong>
<code>ServerResponse</code>.</li>
</ul>
</li>
</ul>
<ul>
<li><code>requestListener</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
</ul>
<ul>
<li>&#x8FD4;&#x56DE;: <a href="_api_http.html#http_class_http_server" class="type">&lt;http.Server&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684; <a href="/s/jLiRTh"><code>http.Server</code></a>&#x5B9E;&#x4F8B;&#x3002;</p>
<p> <code>requestListener</code>&#x662F;&#x4E00;&#x4E2A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x5230;<a href="/s/2qCn57"><code>&apos;request&apos;</code></a>&#x4E8B;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<h2>http.get(options[, callback])<span><a class="mark" href="_api_http.html#http_http_get_options_callback" id="http_http_get_options_callback">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_get_options_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_get_options_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v7.5.0</td>
<td><p>The <code>options</code> parameter can be a WHATWG <code>URL</code> object.</p></td></tr>
<tr><td>v0.3.6</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.3.6</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> | <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_url.html#url_the_whatwg_url_api" class="type">&lt;URL&gt;</a> &#x63A5;&#x6536;&#x4E0E;<a href="/s/d1myoL"><code>http.request()</code></a>&#x76F8;&#x540C;&#x7684;&#x8BBE;&#x7F6E;&#x3002;
<code>method</code>&#x4E00;&#x76F4;&#x8BBE;&#x7F6E;&#x4E3A;<code>GET</code>&#xFF0C;&#x5FFD;&#x7565;&#x7EE7;&#x627F;&#x81EA;&#x539F;&#x578B;&#x7684;&#x5C5E;&#x6027;</li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li>&#x8FD4;&#x56DE;: <a href="_api_http.html#http_class_http_clientrequest" class="type">&lt;http.ClientRequest&gt;</a></li>
</ul>
<p>&#x56E0;&#x4E3A;&#x5927;&#x591A;&#x6570;&#x8BF7;&#x6C42;&#x90FD;&#x662F; GET &#x8BF7;&#x6C42;&#x4E14;&#x4E0D;&#x5E26;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#xFF0C;&#x6240;&#x4EE5; Node.js &#x63D0;&#x4F9B;&#x4E86;&#x8BE5;&#x4FBF;&#x6377;&#x65B9;&#x6CD5;&#x3002;
&#x8BE5;&#x65B9;&#x6CD5;&#x4E0E; <a href="/s/d1myoL"><code>http.request()</code></a> &#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x662F;&#x5B83;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET &#x4E14;&#x81EA;&#x52A8;&#x8C03;&#x7528; <code>req.end()</code>&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x52A1;&#x5FC5;&#x6D88;&#x8017;&#x6389;&#x54CD;&#x5E94;&#x6570;&#x636E;&#xFF0C;&#x539F;&#x56E0;&#x8BE6;&#x89C1; <a href="/s/2F5RHd"><code>http.ClientRequest</code></a> &#x7AE0;&#x8282;&#x3002;</p>
<p><code>callback</code> &#x88AB;&#x8C03;&#x7528;&#x65F6;&#x53EA;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x8BE5;&#x53C2;&#x6570;&#x662F; <a href="/s/2RqpEw"><code>http.IncomingMessage</code></a> &#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x3002;</p>
<p>&#x4E00;&#x4E2A;&#x83B7;&#x53D6; JSON &#x7684;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">http.get(&apos;http://nodejs.org/dist/index.json&apos;, (res) =&gt; {
  const { statusCode } = res;
  const contentType = res.headers[&apos;content-type&apos;];

  let error;
  if (statusCode !== 200) {
    error = new Error(&apos;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x3002;\n&apos; +
                      `&#x72B6;&#x6001;&#x7801;: ${statusCode}`);
  } else if (!/^application\/json/.test(contentType)) {
    error = new Error(&apos;&#x65E0;&#x6548;&#x7684; content-type.\n&apos; +
                      `&#x671F;&#x671B; application/json &#x4F46;&#x83B7;&#x53D6;&#x7684;&#x662F; ${contentType}`);
  }
  if (error) {
    console.error(error.message);
    // &#x6D88;&#x8017;&#x54CD;&#x5E94;&#x6570;&#x636E;&#x4EE5;&#x91CA;&#x653E;&#x5185;&#x5B58;
    res.resume();
    return;
  }

  res.setEncoding(&apos;utf8&apos;);
  let rawData = &apos;&apos;;
  res.on(&apos;data&apos;, (chunk) =&gt; { rawData += chunk; });
  res.on(&apos;end&apos;, () =&gt; {
    try {
      const parsedData = JSON.parse(rawData);
      console.log(parsedData);
    } catch (e) {
      console.error(e.message);
    }
  });
}).on(&apos;error&apos;, (e) =&gt; {
  console.error(`&#x9519;&#x8BEF;: ${e.message}`);
});
</code></pre>
<h2>http.get(url[, options][, callback])<span><a class="mark" href="_api_http.html#http_http_get_url_options_callback" id="http_http_get_url_options_callback">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_get_url_options_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_get_url_options_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v10.9.0</td>
<td><p>The <code>url</code> parameter can now be passed along with a separate <code>options</code> object.</p></td></tr>
<tr><td>v7.5.0</td>
<td><p>The <code>options</code> parameter can be a WHATWG <code>URL</code> object.</p></td></tr>
<tr><td>v0.3.6</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.3.6</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>url</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_url.html#url_the_whatwg_url_api" class="type">&lt;URL&gt;</a></li>
<li><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> Accepts the same <code>options</code> as
<a href="/s/d1myoL"><code>http.request()</code></a>, with the <code>method</code> always set to <code>GET</code>.
Properties that are inherited from the prototype are ignored.</li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li>Returns: <a href="_api_http.html#http_class_http_clientrequest" class="type">&lt;http.ClientRequest&gt;</a></li>
</ul>
<p>Since most requests are GET requests without bodies, Node.js provides this
convenience method. The only difference between this method and
<a href="/s/d1myoL"><code>http.request()</code></a> is that it sets the method to GET and calls <code>req.end()</code>
automatically. Note that the callback must take care to consume the response
data for reasons stated in <a href="/s/2F5RHd"><code>http.ClientRequest</code></a> section.</p>
<p>The <code>callback</code> is invoked with a single argument that is an instance of
<a href="/s/2RqpEw"><code>http.IncomingMessage</code></a>.</p>
<p>JSON fetching example:</p>
<pre><code class="language-js">http.get(&apos;http://nodejs.org/dist/index.json&apos;, (res) =&gt; {
  const { statusCode } = res;
  const contentType = res.headers[&apos;content-type&apos;];

  let error;
  if (statusCode !== 200) {
    error = new Error(&apos;Request Failed.\n&apos; +
                      `Status Code: ${statusCode}`);
  } else if (!/^application\/json/.test(contentType)) {
    error = new Error(&apos;Invalid content-type.\n&apos; +
                      `Expected application/json but received ${contentType}`);
  }
  if (error) {
    console.error(error.message);
    // consume response data to free up memory
    res.resume();
    return;
  }

  res.setEncoding(&apos;utf8&apos;);
  let rawData = &apos;&apos;;
  res.on(&apos;data&apos;, (chunk) =&gt; { rawData += chunk; });
  res.on(&apos;end&apos;, () =&gt; {
    try {
      const parsedData = JSON.parse(rawData);
      console.log(parsedData);
    } catch (e) {
      console.error(e.message);
    }
  });
}).on(&apos;error&apos;, (e) =&gt; {
  console.error(`Got error: ${e.message}`);
});
</code></pre>
<h2>http.globalAgent<span><a class="mark" href="_api_http.html#http_http_globalagent" id="http_http_globalagent">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_globalagent" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_globalagent.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div>
<ul>
<li><a href="_api_http.html#http_class_http_agent" class="type">&lt;http.Agent&gt;</a></li>
</ul>
<p><code>Agent</code> &#x7684;&#x5168;&#x5C40;&#x5B9E;&#x4F8B;&#xFF0C;&#x4F5C;&#x4E3A;&#x6240;&#x6709; HTTP &#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7684;&#x9ED8;&#x8BA4; <code>Agent</code>&#x3002;</p>
<h2>http.request(options[, callback])<span><a class="mark" href="_api_http.html#http_http_request_options_callback" id="http_http_request_options_callback">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_request_options_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_request_options_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v7.5.0</td>
<td><p>The <code>options</code> parameter can be a WHATWG <code>URL</code> object.</p></td></tr>
<tr><td>v0.3.6</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.3.6</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li>
<p><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> | <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_url.html#url_the_whatwg_url_api" class="type">&lt;URL&gt;</a></p>
<ul>
<li><code>protocol</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x4F7F;&#x7528;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>http:</code>&#x3002;</li>
<li><code>host</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x81F3;&#x7684;&#x670D;&#x52A1;&#x5668;&#x7684;&#x57DF;&#x540D;&#x6216; IP &#x5730;&#x5740;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>localhost</code>&#x3002;
&#xA0;* <code>hostname</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> <code>host</code> &#x7684;&#x522B;&#x540D;&#x3002;&#x4E3A;&#x4E86;&#x652F;&#x6301; <a href="/s/b28B2A"><code>url.parse()</code></a>&#xFF0C;<code>hostname</code> &#x4F18;&#x5148;&#x4E8E; <code>host</code>&#x3002;</li>
<li><code>family</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x5F53;&#x89E3;&#x6790; <code>host</code> &#x548C; <code>hostname</code> &#x65F6;&#x4F7F;&#x7528;&#x7684; IP &#x5730;&#x5740;&#x65CF;&#x3002;
&#x6709;&#x6548;&#x503C;&#x662F; <code>4</code> &#x6216; <code>6</code>&#x3002;&#x5F53;&#x672A;&#x6307;&#x5B9A;&#x65F6;&#xFF0C;&#x5219;&#x540C;&#x65F6;&#x4F7F;&#x7528; IP v4 &#x548C; v6&#x3002;</li>
<li><code>port</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7AEF;&#x53E3;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>80</code>&#x3002;</li>
<li><code>localAddress</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x4E3A;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x7ED1;&#x5B9A;&#x7684;&#x672C;&#x5730;&#x63A5;&#x53E3;&#x3002;</li>
<li><code>socketPath</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> Unix &#x57DF; Socket&#xFF08;&#x4F7F;&#x7528; host:port &#x6216; socketPath&#xFF09;&#x3002;</li>
<li><code>method</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x6307;&#x5B9A; HTTP &#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;GET&apos;</code>&#x3002;</li>
<li><code>path</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8BF7;&#x6C42;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;/&apos;</code>&#x3002;
&#x5E94;&#x5305;&#x62EC;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#xFF08;&#x5982;&#x6709;&#x7684;&#x8BDD;&#xFF09;&#x3002;&#x5982; <code>&apos;/index.html?page=12&apos;</code>&#x3002;
&#x5F53;&#x8BF7;&#x6C42;&#x7684;&#x8DEF;&#x5F84;&#x4E2D;&#x5305;&#x542B;&#x975E;&#x6CD5;&#x5B57;&#x7B26;&#x65F6;&#xFF0C;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;
&#x76EE;&#x524D;&#x53EA;&#x6709;&#x7A7A;&#x5B57;&#x7B26;&#x4F1A;&#x88AB;&#x62D2;&#x7EDD;&#xFF0C;&#x4F46;&#x672A;&#x6765;&#x53EF;&#x80FD;&#x4F1A;&#x53D8;&#x5316;&#x3002;</li>
<li><code>headers</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x5305;&#x542B;&#x8BF7;&#x6C42;&#x5934;&#x7684;&#x5BF9;&#x8C61;&#x3002;</li>
<li><code>auth</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x57FA;&#x672C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x5982; <code>&apos;user:password&apos;</code> &#x7528;&#x6765;&#x8BA1;&#x7B97; <code>Authorization</code> &#x8BF7;&#x6C42;&#x5934;&#x3002;</li>
<li>
<p><code>agent</code> <a href="_api_http.html#http_class_http_agent" class="type">&lt;http.Agent&gt;</a> | <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> &#x63A7;&#x5236; <a href="/s/HRCnER"><code>Agent</code></a> &#x7684;&#x884C;&#x4E3A;&#x3002;
&#x53EF;&#x80FD;&#x7684;&#x503C;&#x6709;&#xFF1A;</p>
<ul>
<li><code>undefined</code> (&#x9ED8;&#x8BA4;): &#x5BF9;&#x8BE5;&#x4E3B;&#x673A;&#x548C;&#x7AEF;&#x53E3;&#x4F7F;&#x7528; <a href="/s/g7BhW2"><code>http.globalAgent</code></a>&#x3002;</li>
<li><code>Agent</code> &#x5BF9;&#x8C61;&#xFF1A;&#x663E;&#x5F0F;&#x5730;&#x4F7F;&#x7528;&#x4F20;&#x5165;&#x7684; <code>Agent</code>&#x3002;</li>
<li><code>false</code>: &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#x7684; <code>Agent</code>&#x3002;</li>
</ul>
</li>
<li><code>createConnection</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> &#x5F53;&#x4E0D;&#x4F7F;&#x7528; <code>agent</code> &#x9009;&#x9879;&#x65F6;&#xFF0C;&#x4E3A;&#x8BF7;&#x6C42;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; socket &#x6216;&#x6D41;&#x3002;
&#x8FD9;&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x907F;&#x514D;&#x4EC5;&#x4EC5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x7684; <code>Agent</code> &#x7C7B;&#x6765;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x7684; <code>createConnection</code> &#x51FD;&#x6570;&#x3002;&#x8BE6;&#x89C1; <a href="/s/nH3X12"><code>agent.createConnection()</code></a>&#x3002;
Any <a href="/s/2iRabr"><code>Duplex</code></a> stream is a valid return value.</li>
<li><code>timeout</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a>: &#x6307;&#x5B9A; socket &#x8D85;&#x65F6;&#x7684;&#x6BEB;&#x79D2;&#x6570;&#x3002;
&#x5B83;&#x8BBE;&#x7F6E;&#x4E86; socket &#x7B49;&#x5F85;&#x8FDE;&#x63A5;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x3002;</li>
</ul>
</li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li>&#x8FD4;&#x56DE;: <a href="_api_http.html#http_class_http_clientrequest" class="type">&lt;http.ClientRequest&gt;</a></li>
</ul>
<p>Node.js &#x4E3A;&#x6BCF;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7EF4;&#x62A4;&#x591A;&#x4E2A;&#x8FDE;&#x63A5;&#x6765;&#x8FDB;&#x884C; HTTP &#x8BF7;&#x6C42;&#x3002;
&#x8BE5;&#x51FD;&#x6570;&#x5141;&#x8BB8;&#x663E;&#x5F0F;&#x5730;&#x53D1;&#x51FA;&#x8BF7;&#x6C42;&#x3002;</p>
<p><code>options</code> &#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3001;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6216; <a href="/s/5dwq7G"><code>URL</code></a> &#x5BF9;&#x8C61;&#x3002;
&#x5982;&#x679C; <code>options</code> &#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5B83;&#x4F1A;&#x88AB;&#x81EA;&#x52A8;&#x4F7F;&#x7528; <a href="/s/b28B2A"><code>url.parse()</code></a> &#x89E3;&#x6790;&#x3002;
&#x5982;&#x679C;&#x5B83;&#x662F;&#x4E00;&#x4E2A; <a href="/s/5dwq7G"><code>URL</code></a> &#x5BF9;&#x8C61;, &#x5B83;&#x4F1A;&#x88AB;&#x9ED8;&#x8BA4;&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A; <code>options</code> &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x53EF;&#x9009;&#x7684; <code>callback</code> &#x53C2;&#x6570;&#x4F1A;&#x4F5C;&#x4E3A;&#x5355;&#x6B21;&#x76D1;&#x542C;&#x5668;&#x88AB;&#x6DFB;&#x52A0;&#x5230; <a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;</p>
<p><code>http.request()</code> &#x8FD4;&#x56DE;&#x4E00;&#x4E2A; <a href="/s/2F5RHd"><code>http.ClientRequest</code></a> &#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x3002;
<code>ClientRequest</code> &#x5B9E;&#x4F8B;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x5199;&#x6D41;&#x3002;
&#x5982;&#x679C;&#x9700;&#x8981;&#x901A;&#x8FC7; POST &#x8BF7;&#x6C42;&#x4E0A;&#x4F20;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5219;&#x5199;&#x5165;&#x5230; <code>ClientRequest</code> &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="language-js">const postData = querystring.stringify({
  &apos;msg&apos; : &apos;Hello World!&apos;
});

const options = {
  hostname: &apos;www.google.com&apos;,
  port: 80,
  path: &apos;/upload&apos;,
  method: &apos;POST&apos;,
  headers: {
    &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;,
    &apos;Content-Length&apos;: Buffer.byteLength(postData)
  }
};

const req = http.request(options, (res) =&gt; {
  console.log(`&#x72B6;&#x6001;&#x7801;: ${res.statusCode}`);
  console.log(`&#x54CD;&#x5E94;&#x5934;: ${JSON.stringify(res.headers)}`);
  res.setEncoding(&apos;utf8&apos;);
  res.on(&apos;data&apos;, (chunk) =&gt; {
    console.log(`&#x54CD;&#x5E94;&#x4E3B;&#x4F53;: ${chunk}`);
  });
  res.on(&apos;end&apos;, () =&gt; {
    console.log(&apos;&#x54CD;&#x5E94;&#x4E2D;&#x5DF2;&#x65E0;&#x6570;&#x636E;&#x3002;&apos;);
  });
});

req.on(&apos;error&apos;, (e) =&gt; {
  console.error(`&#x8BF7;&#x6C42;&#x9047;&#x5230;&#x95EE;&#x9898;: ${e.message}`);
});

// &#x5199;&#x5165;&#x6570;&#x636E;&#x5230;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;
req.write(postData);
req.end();
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x4F8B;&#x5B50;&#x4E2D;&#x8C03;&#x7528;&#x4E86; <code>req.end()</code>&#x3002;
&#x4F7F;&#x7528; <code>http.request()</code> &#x5FC5;&#x987B;&#x603B;&#x662F;&#x8C03;&#x7528; <code>req.end()</code> &#x6765;&#x8868;&#x660E;&#x8BF7;&#x6C42;&#x7684;&#x7ED3;&#x675F;&#xFF0C;&#x5373;&#x4F7F;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x88AB;&#x5199;&#x5165;&#x8BF7;&#x6C42;&#x4E3B;&#x4F53;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x8FC7;&#x7A0B;&#x4E2D;&#x9047;&#x5230;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#xFF08;DNS &#x89E3;&#x6790;&#x9519;&#x8BEF;&#x3001;TCP &#x7EA7;&#x7684;&#x9519;&#x8BEF;&#x3001;&#x6216;&#x5B9E;&#x9645;&#x7684; HTTP &#x89E3;&#x6790;&#x9519;&#x8BEF;&#xFF09;&#xFF0C;&#x5219;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x4E2D;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x5BF9;&#x4E8E;&#x6240;&#x6709;&#x7684; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6CE8;&#x518C;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x5219;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x662F;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x51E0;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x8BF7;&#x6C42;&#x5934;&#x3002;</p>
<ul>
<li>
<p>&#x53D1;&#x9001; <code>&apos;Connection: keep-alive&apos;</code> &#x4F1A;&#x901A;&#x77E5; Node.js&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8FDE;&#x63A5;&#x5E94;&#x4E00;&#x76F4;&#x6301;&#x7EED;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x3002;</p>
</li>
<li>
<p>&#x53D1;&#x9001; <code>&apos;Content-Length&apos;</code> &#x8BF7;&#x6C42;&#x5934;&#x4F1A;&#x7981;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x5757;&#x7F16;&#x7801;&#x3002;</p>
</li>
<li>
<p>&#x53D1;&#x9001; <code>&apos;Expect&apos;</code> &#x8BF7;&#x6C42;&#x5934;&#x4F1A;&#x7ACB;&#x5373;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5934;&#x3002;
&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5F53;&#x53D1;&#x9001; <code>&apos;Expect: 100-continue&apos;</code> &#x65F6;&#xFF0C;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x4E0E; <code>continue</code> &#x4E8B;&#x4EF6;&#x7684;&#x76D1;&#x542C;&#x5668;&#x90FD;&#x9700;&#x8981;&#x88AB;&#x8BBE;&#x7F6E;&#x3002;
&#x8BE6;&#x89C1; RFC2616 &#x7AE0;&#x8282; 8.2.3&#x3002;</p>
</li>
<li>
<p>&#x53D1;&#x9001; <code>Authorization</code> &#x8BF7;&#x6C42;&#x5934;&#x4F1A;&#x66FF;&#x4EE3; <code>auth</code> &#x9009;&#x9879;&#x8BA1;&#x7B97;&#x57FA;&#x672C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x3002;</p>
</li>
</ul>
<p>Example using a <a href="/s/5dwq7G"><code>URL</code></a> as <code>options</code>:</p>
<pre><code class="language-js">const { URL } = require(&apos;url&apos;);

const options = new URL(&apos;http://abc:xyz@example.com&apos;);

const req = http.request(options, (res) =&gt; {
  // ...
});
</code></pre>
<h2>http.request(url[, options][, callback])<span><a class="mark" href="_api_http.html#http_http_request_url_options_callback" id="http_http_request_url_options_callback">#</a></span></h2><p class="tip_wrap"><a href="_api_en_http.html#http_http_request_url_options_callback" class="tip_en">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/http/http_request_url_options_callback.md" class="tip_trans">&#x53C2;&#x4E0E;&#x7FFB;&#x8BD1;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v10.9.0</td>
<td><p>The <code>url</code> parameter can now be passed along with a separate <code>options</code> object.</p></td></tr>
<tr><td>v7.5.0</td>
<td><p>The <code>options</code> parameter can be a WHATWG <code>URL</code> object.</p></td></tr>
<tr><td>v0.3.6</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.3.6</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>url</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> | <a href="_api_url.html#url_the_whatwg_url_api" class="type">&lt;URL&gt;</a></li>
<li>
<p><code>options</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>protocol</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> Protocol to use. <strong>Default:</strong> <code>&apos;http:&apos;</code>.</li>
<li><code>host</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> A domain name or IP address of the server to issue the
request to. <strong>Default:</strong> <code>&apos;localhost&apos;</code>.</li>
<li><code>hostname</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> Alias for <code>host</code>. To support <a href="/s/b28B2A"><code>url.parse()</code></a>,
<code>hostname</code> is preferred over <code>host</code>.</li>
<li><code>family</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> IP address family to use when resolving <code>host</code> and
<code>hostname</code>. Valid values are <code>4</code> or <code>6</code>. When unspecified, both IP v4 and
v6 will be used.</li>
<li><code>port</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a> Port of remote server. <strong>Default:</strong> <code>80</code>.</li>
<li><code>localAddress</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> Local interface to bind for network connections.</li>
<li><code>socketPath</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> Unix Domain Socket (use one of <code>host:port</code> or
<code>socketPath</code>).</li>
<li><code>method</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> A string specifying the HTTP request method. <strong>Default:</strong>
<code>&apos;GET&apos;</code>.</li>
<li><code>path</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> Request path. Should include query string if any.
E.G. <code>&apos;/index.html?page=12&apos;</code>. An exception is thrown when the request path
contains illegal characters. Currently, only spaces are rejected but that
may change in the future. <strong>Default:</strong> <code>&apos;/&apos;</code>.</li>
<li><code>headers</code> <a href="/s/_moz/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> An object containing request headers.</li>
<li><code>auth</code> <a href="/s/_moz/Data_structures#String_type" class="type">&lt;string&gt;</a> Basic authentication i.e. <code>&apos;user:password&apos;</code> to compute an
Authorization header.</li>
<li>
<p><code>agent</code> <a href="_api_http.html#http_class_http_agent" class="type">&lt;http.Agent&gt;</a> | <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Controls <a href="/s/HRCnER"><code>Agent</code></a> behavior. Possible
values:</p>
<ul>
<li><code>undefined</code> (default): use <a href="/s/g7BhW2"><code>http.globalAgent</code></a> for this host and port.</li>
<li><code>Agent</code> object: explicitly use the passed in <code>Agent</code>.</li>
<li><code>false</code>: causes a new <code>Agent</code> with default values to be used.</li>
</ul>
</li>
<li><code>createConnection</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> A function that produces a socket/stream to
use for the request when the <code>agent</code> option is not used. This can be used to
avoid creating a custom <code>Agent</code> class just to override the default
<code>createConnection</code> function. See <a href="/s/nH3X12"><code>agent.createConnection()</code></a> for more
details. Any <a href="/s/2iRabr"><code>Duplex</code></a> stream is a valid return value.</li>
<li><code>timeout</code> <a href="/s/_moz/Data_structures#Number_type" class="type">&lt;number&gt;</a>: A number specifying the socket timeout in milliseconds.
This will set the timeout before the socket is connected.</li>
<li><code>setHost</code> <a href="/s/_moz/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a>: Specifies whether or not to automatically add the
<code>Host</code> header. Defaults to <code>true</code>.</li>
</ul>
</li>
<li><code>callback</code> <a href="/s/_moz/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li>Returns: <a href="_api_http.html#http_class_http_clientrequest" class="type">&lt;http.ClientRequest&gt;</a></li>
</ul>
<p>Node.js maintains several connections per server to make HTTP requests.
This function allows one to transparently issue requests.</p>
<p><code>url</code> can be a string or a <a href="/s/5dwq7G"><code>URL</code></a> object. If <code>url</code> is a
string, it is automatically parsed with <a href="/s/b28B2A"><code>url.parse()</code></a>. If it is a <a href="/s/5dwq7G"><code>URL</code></a>
object, it will be automatically converted to an ordinary <code>options</code> object.</p>
<p>If both <code>url</code> and <code>options</code> are specified, the objects are merged, with the
<code>options</code> properties taking precedence.</p>
<p>The optional <code>callback</code> parameter will be added as a one-time listener for
the <a href="/s/qwaiK8"><code>&apos;response&apos;</code></a> event.</p>
<p><code>http.request()</code> returns an instance of the <a href="/s/2F5RHd"><code>http.ClientRequest</code></a>
class. The <code>ClientRequest</code> instance is a writable stream. If one needs to
upload a file with a POST request, then write to the <code>ClientRequest</code> object.</p>
<pre><code class="language-js">const postData = querystring.stringify({
  &apos;msg&apos;: &apos;Hello World!&apos;
});

const options = {
  hostname: &apos;www.google.com&apos;,
  port: 80,
  path: &apos;/upload&apos;,
  method: &apos;POST&apos;,
  headers: {
    &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;,
    &apos;Content-Length&apos;: Buffer.byteLength(postData)
  }
};

const req = http.request(options, (res) =&gt; {
  console.log(`STATUS: ${res.statusCode}`);
  console.log(`HEADERS: ${JSON.stringify(res.headers)}`);
  res.setEncoding(&apos;utf8&apos;);
  res.on(&apos;data&apos;, (chunk) =&gt; {
    console.log(`BODY: ${chunk}`);
  });
  res.on(&apos;end&apos;, () =&gt; {
    console.log(&apos;No more data in response.&apos;);
  });
});

req.on(&apos;error&apos;, (e) =&gt; {
  console.error(`problem with request: ${e.message}`);
});

// write data to request body
req.write(postData);
req.end();
</code></pre>
<p>Note that in the example <code>req.end()</code> was called. With <code>http.request()</code> one
must always call <code>req.end()</code> to signify the end of the request -
even if there is no data being written to the request body.</p>
<p>If any error is encountered during the request (be that with DNS resolution,
TCP level errors, or actual HTTP parse errors) an <code>&apos;error&apos;</code> event is emitted
on the returned request object. As with all <code>&apos;error&apos;</code> events, if no listeners
are registered the error will be thrown.</p>
<p>There are a few special headers that should be noted.</p>
<ul>
<li>
<p>Sending a &apos;Connection: keep-alive&apos; will notify Node.js that the connection to
the server should be persisted until the next request.</p>
</li>
<li>
<p>Sending a &apos;Content-Length&apos; header will disable the default chunked encoding.</p>
</li>
<li>
<p>Sending an &apos;Expect&apos; header will immediately send the request headers.
Usually, when sending &apos;Expect: 100-continue&apos;, both a timeout and a listener
for the <code>&apos;continue&apos;</code> event should be set. See RFC2616 Section 8.2.3 for more
information.</p>
</li>
<li>
<p>Sending an Authorization header will override using the <code>auth</code> option
to compute basic authentication.</p>
</li>
</ul>
<p>Example using a <a href="/s/5dwq7G"><code>URL</code></a> as <code>options</code>:</p>
<pre><code class="language-js">const options = new URL(&apos;http://abc:xyz@example.com&apos;);

const req = http.request(options, (res) =&gt; {
  // ...
});
</code></pre>
<p>In a successful request, the following events will be emitted in the following
order:</p>
<ul>
<li><code>&apos;socket&apos;</code></li>
<li>
<p><code>&apos;response&apos;</code></p>
<ul>
<li><code>&apos;data&apos;</code> any number of times, on the <code>res</code> object
(<code>&apos;data&apos;</code> will not be emitted at all if the response body is empty, for
instance, in most redirects)</li>
<li><code>&apos;end&apos;</code> on the <code>res</code> object</li>
</ul>
</li>
<li><code>&apos;close&apos;</code></li>
</ul>
<p>In the case of a connection error, the following events will be emitted:</p>
<ul>
<li><code>&apos;socket&apos;</code></li>
<li><code>&apos;error&apos;</code></li>
<li><code>&apos;close&apos;</code></li>
</ul>
<p>If <code>req.abort()</code> is called before the connection succeeds, the following events
will be emitted in the following order:</p>
<ul>
<li><code>&apos;socket&apos;</code></li>
<li>(<code>req.abort()</code> called here)</li>
<li><code>&apos;abort&apos;</code></li>
<li><code>&apos;close&apos;</code></li>
<li><code>&apos;error&apos;</code> with an error with message <code>&apos;Error: socket hang up&apos;</code> and code
<code>&apos;ECONNRESET&apos;</code></li>
</ul>
<p>If <code>req.abort()</code> is called after the response is received, the following events
will be emitted in the following order:</p>
<ul>
<li><code>&apos;socket&apos;</code></li>
<li>
<p><code>&apos;response&apos;</code></p>
<ul>
<li><code>&apos;data&apos;</code> any number of times, on the <code>res</code> object</li>
</ul>
</li>
<li>(<code>req.abort()</code> called here)</li>
<li><code>&apos;abort&apos;</code></li>
<li>
<p><code>&apos;close&apos;</code></p>
<ul>
<li><code>&apos;aborted&apos;</code> on the <code>res</code> object</li>
<li><code>&apos;end&apos;</code> on the <code>res</code> object</li>
<li><code>&apos;close&apos;</code> on the <code>res</code> object</li>
</ul>
</li>
</ul>
<p>Note that setting the <code>timeout</code> option or using the <code>setTimeout()</code> function will
not abort the request or do anything besides add a <code>&apos;timeout&apos;</code> event.</p>
        </div>
      </div>
    </div>
  </div>
  <!-- 搜索弹窗 -->
  <!-- <div id="search_modal"></div> -->
  <!-- js -->
  <!--[if lt IE 10]><script src="/static/lib/placeholders.js?20170426"></script><![endif]-->
  
  <script>
    document.write('<script src="api.js?1540915625473"><\/script>');
  </script>

<script src="../lib/backtop.js"></script></body></html>