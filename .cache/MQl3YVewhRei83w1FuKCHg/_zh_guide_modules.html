<!DOCTYPE html><html lang="zh-CN"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Module | Vuex</title>
    <meta name="description" content="Vue.js &#x7684;&#x4E2D;&#x5FC3;&#x5316;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x65B9;&#x6848;">
    
    
    <link rel="preload" href="/assets/css/0.styles.e15ea2a8.css" as="style"><link rel="preload" href="/assets/js/app.69b18d18.js" as="script"><link rel="preload" href="/assets/js/8.20640ddc.js" as="script"><link rel="prefetch" href="/assets/js/55.783183f2.js"><link rel="prefetch" href="/assets/js/1.e61d8f87.js"><link rel="prefetch" href="/assets/js/2.09b67364.js"><link rel="prefetch" href="/assets/js/3.fcbebee5.js"><link rel="prefetch" href="/assets/js/4.d06310ce.js"><link rel="prefetch" href="/assets/js/5.4c19fad4.js"><link rel="prefetch" href="/assets/js/6.b03db466.js"><link rel="prefetch" href="/assets/js/7.98c1fa38.js"><link rel="prefetch" href="/assets/js/9.50acd0a9.js"><link rel="prefetch" href="/assets/js/10.e83daee7.js"><link rel="prefetch" href="/assets/js/11.48e231be.js"><link rel="prefetch" href="/assets/js/12.518f7c16.js"><link rel="prefetch" href="/assets/js/13.6e39429d.js"><link rel="prefetch" href="/assets/js/14.b377e50a.js"><link rel="prefetch" href="/assets/js/15.502cc398.js"><link rel="prefetch" href="/assets/js/16.064574d1.js"><link rel="prefetch" href="/assets/js/17.c081d255.js"><link rel="prefetch" href="/assets/js/18.4a2d8424.js"><link rel="prefetch" href="/assets/js/19.3e1d2324.js"><link rel="prefetch" href="/assets/js/20.c997e654.js"><link rel="prefetch" href="/assets/js/21.6211939c.js"><link rel="prefetch" href="/assets/js/22.76ab8b3a.js"><link rel="prefetch" href="/assets/js/23.4a559972.js"><link rel="prefetch" href="/assets/js/24.dc9ae63f.js"><link rel="prefetch" href="/assets/js/25.b5f90022.js"><link rel="prefetch" href="/assets/js/26.b4832f56.js"><link rel="prefetch" href="/assets/js/27.db0aa474.js"><link rel="prefetch" href="/assets/js/28.f8da7ef5.js"><link rel="prefetch" href="/assets/js/29.cece42ce.js"><link rel="prefetch" href="/assets/js/30.f6eae70e.js"><link rel="prefetch" href="/assets/js/31.46908f8b.js"><link rel="prefetch" href="/assets/js/32.7204e5cc.js"><link rel="prefetch" href="/assets/js/33.80004fd7.js"><link rel="prefetch" href="/assets/js/34.51bccda6.js"><link rel="prefetch" href="/assets/js/35.e51c2205.js"><link rel="prefetch" href="/assets/js/36.ce44341b.js"><link rel="prefetch" href="/assets/js/37.fe2f1521.js"><link rel="prefetch" href="/assets/js/38.8d7ab7b0.js"><link rel="prefetch" href="/assets/js/39.b43c6cc7.js"><link rel="prefetch" href="/assets/js/40.e0581de4.js"><link rel="prefetch" href="/assets/js/41.7c339981.js"><link rel="prefetch" href="/assets/js/42.af6159ef.js"><link rel="prefetch" href="/assets/js/43.d484513c.js"><link rel="prefetch" href="/assets/js/44.0cf3c99f.js"><link rel="prefetch" href="/assets/js/45.51aa5eec.js"><link rel="prefetch" href="/assets/js/46.05a3ec50.js"><link rel="prefetch" href="/assets/js/47.44a600a8.js"><link rel="prefetch" href="/assets/js/48.b0167470.js"><link rel="prefetch" href="/assets/js/49.e0a544c5.js"><link rel="prefetch" href="/assets/js/50.d45401c8.js"><link rel="prefetch" href="/assets/js/51.0402b304.js"><link rel="prefetch" href="/assets/js/52.2b4ccd22.js"><link rel="prefetch" href="/assets/js/53.6436d4b7.js"><link rel="prefetch" href="/assets/js/54.27926553.js"><link rel="prefetch" href="/assets/js/56.32f99db7.js"><link rel="prefetch" href="/assets/js/57.5de16adb.js"><link rel="prefetch" href="/assets/js/58.ef07a259.js"><link rel="prefetch" href="/assets/js/59.6001992b.js"><link rel="prefetch" href="/assets/js/60.af6d95ba.js"><link rel="prefetch" href="/assets/js/61.fecd0cff.js"><link rel="prefetch" href="/assets/js/62.b259593a.js"><link rel="prefetch" href="/assets/js/63.ca788c01.js"><link rel="prefetch" href="/assets/js/64.e17ec1e6.js"><link rel="prefetch" href="/assets/js/65.c5c9df0b.js"><link rel="prefetch" href="/assets/js/66.65dd714a.js"><link rel="prefetch" href="/assets/js/67.55e89918.js"><link rel="prefetch" href="/assets/js/68.92fb803b.js"><link rel="prefetch" href="/assets/js/69.bfb82b4e.js"><link rel="prefetch" href="/assets/js/70.36e5719f.js"><link rel="prefetch" href="/assets/js/71.36273743.js"><link rel="prefetch" href="/assets/js/72.bf75174a.js"><link rel="prefetch" href="/assets/js/73.0ac8f774.js"><link rel="prefetch" href="/assets/js/74.188ed5a2.js"><link rel="prefetch" href="/assets/js/75.983a0e31.js"><link rel="prefetch" href="/assets/js/76.7b1bc522.js"><link rel="prefetch" href="/assets/js/77.a5bf008e.js"><link rel="prefetch" href="/assets/js/78.db9d6608.js"><link rel="prefetch" href="/assets/js/79.f2a5b32c.js"><link rel="prefetch" href="/assets/js/80.dbee8cf8.js"><link rel="prefetch" href="/assets/js/81.0d481f60.js"><link rel="prefetch" href="/assets/js/82.a74209a2.js"><link rel="prefetch" href="/assets/js/83.13e1002b.js"><link rel="prefetch" href="/assets/js/84.549242ce.js"><link rel="prefetch" href="/assets/js/85.fd81a2f1.js"><link rel="prefetch" href="/assets/js/86.c06f0bd7.js"><link rel="prefetch" href="/assets/js/87.53958d8d.js"><link rel="prefetch" href="/assets/js/88.63722f50.js"><link rel="prefetch" href="/assets/js/89.32716ed3.js"><link rel="prefetch" href="/assets/js/90.06198540.js"><link rel="prefetch" href="/assets/js/91.3302a77c.js"><link rel="prefetch" href="/assets/js/92.8bfe2ace.js"><link rel="prefetch" href="/assets/js/93.6422b317.js"><link rel="prefetch" href="/assets/js/94.d727ff68.js"><link rel="prefetch" href="/assets/js/95.0b1979e9.js"><link rel="prefetch" href="/assets/js/96.670a73e8.js"><link rel="prefetch" href="/assets/js/97.ca5ce2d1.js"><link rel="prefetch" href="/assets/js/98.d8be7a8a.js"><link rel="prefetch" href="/assets/js/99.01d7ef37.js"><link rel="prefetch" href="/assets/js/100.339174c7.js"><link rel="prefetch" href="/assets/js/101.c8cd1ebc.js"><link rel="prefetch" href="/assets/js/102.a012cd05.js"><link rel="prefetch" href="/assets/js/103.54737e4b.js"><link rel="prefetch" href="/assets/js/104.b6497655.js"><link rel="prefetch" href="/assets/js/105.5727eff4.js"><link rel="prefetch" href="/assets/js/106.bf35290d.js"><link rel="prefetch" href="/assets/js/107.319817e9.js"><link rel="prefetch" href="/assets/js/108.609989ec.js"><link rel="prefetch" href="/assets/js/109.e85236e6.js"><link rel="prefetch" href="/assets/js/110.5623eeca.js">
    <link rel="stylesheet" href="_assets_css_0.styles.e15ea2a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"/></svg></div> <a href="_zh_.html" class="home-link router-link-active"><!----> <span class="site-name">Vuex</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="_zh_guide_.html" class="nav-link router-link-active">&#x6307;&#x5357;</a></div><div class="nav-item"><a href="_zh_api_.html" class="nav-link">API &#x53C2;&#x8003;</a></div><div class="nav-item"><a href="https://github.com/vuejs/vuex/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  &#x66F4;&#x65B0;&#x8BB0;&#x5F55;
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"/> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"/></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">&#x9009;&#x62E9;&#x8BED;&#x8A00;</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/modules.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="_zh_guide_modules.html" class="nav-link router-link-exact-active router-link-active">&#x7B80;&#x4F53;&#x4E2D;&#x6587;</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/modules.html" class="nav-link">&#x65E5;&#x672C;&#x8A9E;</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/modules.html" class="nav-link">&#x420;&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;</a></li><li class="dropdown-item"><!----> <a href="/kr/guide/modules.html" class="nav-link">&#xD55C;&#xAD6D;&#xC5B4;</a></li><li class="dropdown-item"><!----> <a href="/ptbr/guide/modules.html" class="nav-link">Portugu&#xEA;s</a></li><li class="dropdown-item"><!----> <a href="/fr/guide/modules.html" class="nav-link">Fran&#xE7;ais</a></li></ul></div></div> <a href="https://github.com/vuejs/vuex" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"/> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"/></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="_zh_guide_.html" class="nav-link router-link-active">&#x6307;&#x5357;</a></div><div class="nav-item"><a href="_zh_api_.html" class="nav-link">API &#x53C2;&#x8003;</a></div><div class="nav-item"><a href="https://github.com/vuejs/vuex/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  &#x66F4;&#x65B0;&#x8BB0;&#x5F55;
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"/> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"/></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">&#x9009;&#x62E9;&#x8BED;&#x8A00;</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/modules.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="_zh_guide_modules.html" class="nav-link router-link-exact-active router-link-active">&#x7B80;&#x4F53;&#x4E2D;&#x6587;</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/modules.html" class="nav-link">&#x65E5;&#x672C;&#x8A9E;</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/modules.html" class="nav-link">&#x420;&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;</a></li><li class="dropdown-item"><!----> <a href="/kr/guide/modules.html" class="nav-link">&#xD55C;&#xAD6D;&#xC5B4;</a></li><li class="dropdown-item"><!----> <a href="/ptbr/guide/modules.html" class="nav-link">Portugu&#xEA;s</a></li><li class="dropdown-item"><!----> <a href="/fr/guide/modules.html" class="nav-link">Fran&#xE7;ais</a></li></ul></div></div> <a href="https://github.com/vuejs/vuex" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"/> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"/></svg></a></nav> <div class="carbon-ads"></div> <ul class="sidebar-links"><li><a href="_zh_installation.html" class="sidebar-link">&#x5B89;&#x88C5;</a></li><li><a href="_zh_.html" class="sidebar-link">Vuex &#x662F;&#x4EC0;&#x4E48;&#xFF1F;</a></li><li><a href="_zh_guide_.html" class="sidebar-link">&#x5F00;&#x59CB;</a></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>&#x6838;&#x5FC3;&#x6982;&#x5FF5;</span> <!----></p> <ul class="sidebar-group-items"><li><a href="_zh_guide_state.html" class="sidebar-link">State</a></li><li><a href="_zh_guide_getters.html" class="sidebar-link">Getter</a></li><li><a href="_zh_guide_mutations.html" class="sidebar-link">Mutation</a></li><li><a href="_zh_guide_actions.html" class="sidebar-link">Action</a></li><li><a href="_zh_guide_modules.html" class="active sidebar-link">Module</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li><li><a href="_zh_guide_structure.html" class="sidebar-link">&#x9879;&#x76EE;&#x7ED3;&#x6784;</a></li><li><a href="_zh_guide_plugins.html" class="sidebar-link">&#x63D2;&#x4EF6;</a></li><li><a href="_zh_guide_strict.html" class="sidebar-link">&#x4E25;&#x683C;&#x6A21;&#x5F0F;</a></li><li><a href="_zh_guide_forms.html" class="sidebar-link">&#x8868;&#x5355;&#x5904;&#x7406;</a></li><li><a href="_zh_guide_testing.html" class="sidebar-link">&#x6D4B;&#x8BD5;</a></li><li><a href="_zh_guide_hot-reload.html" class="sidebar-link">&#x70ED;&#x91CD;&#x8F7D;</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="module"><a href="_zh_guide_modules.html#module" aria-hidden="true" class="header-anchor">#</a> Module</h1> <p>&#x7531;&#x4E8E;&#x4F7F;&#x7528;&#x5355;&#x4E00;&#x72B6;&#x6001;&#x6811;&#xFF0C;&#x5E94;&#x7528;&#x7684;&#x6240;&#x6709;&#x72B6;&#x6001;&#x4F1A;&#x96C6;&#x4E2D;&#x5230;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5F53;&#x5E94;&#x7528;&#x53D8;&#x5F97;&#x975E;&#x5E38;&#x590D;&#x6742;&#x65F6;&#xFF0C;store &#x5BF9;&#x8C61;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x53D8;&#x5F97;&#x76F8;&#x5F53;&#x81C3;&#x80BF;&#x3002;</p> <p>&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x4EE5;&#x4E0A;&#x95EE;&#x9898;&#xFF0C;Vuex &#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x5C06; store &#x5206;&#x5272;&#x6210;<strong>&#x6A21;&#x5757;&#xFF08;module&#xFF09;</strong>&#x3002;&#x6BCF;&#x4E2A;&#x6A21;&#x5757;&#x62E5;&#x6709;&#x81EA;&#x5DF1;&#x7684; state&#x3001;mutation&#x3001;action&#x3001;getter&#x3001;&#x751A;&#x81F3;&#x662F;&#x5D4C;&#x5957;&#x5B50;&#x6A21;&#x5757;&#x2014;&#x2014;&#x4ECE;&#x4E0A;&#x81F3;&#x4E0B;&#x8FDB;&#x884C;&#x540C;&#x6837;&#x65B9;&#x5F0F;&#x7684;&#x5206;&#x5272;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  getters<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> moduleA<span class="token punctuation">,</span>
    b<span class="token punctuation">:</span> moduleB
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>a <span class="token comment">// -&gt; moduleA &#x7684;&#x72B6;&#x6001;</span>
store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>b <span class="token comment">// -&gt; moduleB &#x7684;&#x72B6;&#x6001;</span>
</code></pre></div><h3 id="&#x6A21;&#x5757;&#x7684;&#x5C40;&#x90E8;&#x72B6;&#x6001;"><a href="_zh_guide_modules.html#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%B1%80%E9%83%A8%E7%8A%B6%E6%80%81" aria-hidden="true" class="header-anchor">#</a> &#x6A21;&#x5757;&#x7684;&#x5C40;&#x90E8;&#x72B6;&#x6001;</h3> <p>&#x5BF9;&#x4E8E;&#x6A21;&#x5757;&#x5185;&#x90E8;&#x7684; mutation &#x548C; getter&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;<strong>&#x6A21;&#x5757;&#x7684;&#x5C40;&#x90E8;&#x72B6;&#x6001;&#x5BF9;&#x8C61;</strong>&#x3002;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">increment</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x8FD9;&#x91CC;&#x7684; `state` &#x5BF9;&#x8C61;&#x662F;&#x6A21;&#x5757;&#x7684;&#x5C40;&#x90E8;&#x72B6;&#x6001;</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">doubleCount</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">*</span> <span class="token number">2</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>&#x540C;&#x6837;&#xFF0C;&#x5BF9;&#x4E8E;&#x6A21;&#x5757;&#x5185;&#x90E8;&#x7684; action&#xFF0C;&#x5C40;&#x90E8;&#x72B6;&#x6001;&#x901A;&#x8FC7; <code>context.state</code> &#x66B4;&#x9732;&#x51FA;&#x6765;&#xFF0C;&#x6839;&#x8282;&#x70B9;&#x72B6;&#x6001;&#x5219;&#x4E3A; <code>context.rootState</code>&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">incrementIfOddOnRootSum</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> state<span class="token punctuation">,</span> commit<span class="token punctuation">,</span> rootState <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> rootState<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&apos;increment&apos;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>&#x5BF9;&#x4E8E;&#x6A21;&#x5757;&#x5185;&#x90E8;&#x7684; getter&#xFF0C;&#x6839;&#x8282;&#x70B9;&#x72B6;&#x6001;&#x4F1A;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x66B4;&#x9732;&#x51FA;&#x6765;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">sumWithRootCount</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> rootState<span class="token punctuation">.</span>count
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="&#x547D;&#x540D;&#x7A7A;&#x95F4;"><a href="_zh_guide_modules.html#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4" aria-hidden="true" class="header-anchor">#</a> &#x547D;&#x540D;&#x7A7A;&#x95F4;</h3> <p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6A21;&#x5757;&#x5185;&#x90E8;&#x7684; action&#x3001;mutation &#x548C; getter &#x662F;&#x6CE8;&#x518C;&#x5728;<strong>&#x5168;&#x5C40;&#x547D;&#x540D;&#x7A7A;&#x95F4;</strong>&#x7684;&#x2014;&#x2014;&#x8FD9;&#x6837;&#x4F7F;&#x5F97;&#x591A;&#x4E2A;&#x6A21;&#x5757;&#x80FD;&#x591F;&#x5BF9;&#x540C;&#x4E00; mutation &#x6216; action &#x4F5C;&#x51FA;&#x54CD;&#x5E94;&#x3002;</p> <p>&#x5982;&#x679C;&#x5E0C;&#x671B;&#x4F60;&#x7684;&#x6A21;&#x5757;&#x5177;&#x6709;&#x66F4;&#x9AD8;&#x7684;&#x5C01;&#x88C5;&#x5EA6;&#x548C;&#x590D;&#x7528;&#x6027;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6DFB;&#x52A0; <code>namespaced: true</code> &#x7684;&#x65B9;&#x5F0F;&#x4F7F;&#x5176;&#x6210;&#x4E3A;&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6A21;&#x5757;&#x3002;&#x5F53;&#x6A21;&#x5757;&#x88AB;&#x6CE8;&#x518C;&#x540E;&#xFF0C;&#x5B83;&#x7684;&#x6240;&#x6709; getter&#x3001;action &#x53CA; mutation &#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x6839;&#x636E;&#x6A21;&#x5757;&#x6CE8;&#x518C;&#x7684;&#x8DEF;&#x5F84;&#x8C03;&#x6574;&#x547D;&#x540D;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    account<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      namespaced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

      <span class="token comment">// &#x6A21;&#x5757;&#x5185;&#x5BB9;&#xFF08;module assets&#xFF09;</span>
      state<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// &#x6A21;&#x5757;&#x5185;&#x7684;&#x72B6;&#x6001;&#x5DF2;&#x7ECF;&#x662F;&#x5D4C;&#x5957;&#x7684;&#x4E86;&#xFF0C;&#x4F7F;&#x7528; `namespaced` &#x5C5E;&#x6027;&#x4E0D;&#x4F1A;&#x5BF9;&#x5176;&#x4EA7;&#x751F;&#x5F71;&#x54CD;</span>
      getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">isAdmin</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; getters[&apos;account/isAdmin&apos;]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      actions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">login</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; dispatch(&apos;account/login&apos;)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">login</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; commit(&apos;account/login&apos;)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token comment">// &#x5D4C;&#x5957;&#x6A21;&#x5757;</span>
      modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x7EE7;&#x627F;&#x7236;&#x6A21;&#x5757;&#x7684;&#x547D;&#x540D;&#x7A7A;&#x95F4;</span>
        myPage<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          state<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token function">profile</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; getters[&apos;account/profile&apos;]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// &#x8FDB;&#x4E00;&#x6B65;&#x5D4C;&#x5957;&#x547D;&#x540D;&#x7A7A;&#x95F4;</span>
        posts<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          namespaced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

          state<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token function">popular</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; getters[&apos;account/posts/popular&apos;]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>&#x542F;&#x7528;&#x4E86;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684; getter &#x548C; action &#x4F1A;&#x6536;&#x5230;&#x5C40;&#x90E8;&#x5316;&#x7684; <code>getter</code>&#xFF0C;<code>dispatch</code> &#x548C; <code>commit</code>&#x3002;&#x6362;&#x8A00;&#x4E4B;&#xFF0C;&#x4F60;&#x5728;&#x4F7F;&#x7528;&#x6A21;&#x5757;&#x5185;&#x5BB9;&#xFF08;module assets&#xFF09;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x540C;&#x4E00;&#x6A21;&#x5757;&#x5185;&#x989D;&#x5916;&#x6DFB;&#x52A0;&#x7A7A;&#x95F4;&#x540D;&#x524D;&#x7F00;&#x3002;&#x66F4;&#x6539; <code>namespaced</code> &#x5C5E;&#x6027;&#x540E;&#x4E0D;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6A21;&#x5757;&#x5185;&#x7684;&#x4EE3;&#x7801;&#x3002;</p> <h4 id="&#x5728;&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6A21;&#x5757;&#x5185;&#x8BBF;&#x95EE;&#x5168;&#x5C40;&#x5185;&#x5BB9;&#xFF08;global-assets&#xFF09;"><a href="_zh_guide_modules.html#%E5%9C%A8%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A8%A1%E5%9D%97%E5%86%85%E8%AE%BF%E9%97%AE%E5%85%A8%E5%B1%80%E5%86%85%E5%AE%B9%EF%BC%88global-assets%EF%BC%89" aria-hidden="true" class="header-anchor">#</a> &#x5728;&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6A21;&#x5757;&#x5185;&#x8BBF;&#x95EE;&#x5168;&#x5C40;&#x5185;&#x5BB9;&#xFF08;Global Assets&#xFF09;</h4> <p>&#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x4F7F;&#x7528;&#x5168;&#x5C40; state &#x548C; getter&#xFF0C;<code>rootState</code> &#x548C; <code>rootGetter</code> &#x4F1A;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E09;&#x548C;&#x7B2C;&#x56DB;&#x53C2;&#x6570;&#x4F20;&#x5165; getter&#xFF0C;&#x4E5F;&#x4F1A;&#x901A;&#x8FC7; <code>context</code> &#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x4F20;&#x5165; action&#x3002;</p> <p>&#x82E5;&#x9700;&#x8981;&#x5728;&#x5168;&#x5C40;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x5185;&#x5206;&#x53D1; action &#x6216;&#x63D0;&#x4EA4; mutation&#xFF0C;&#x5C06; <code>{ root: true }</code> &#x4F5C;&#x4E3A;&#x7B2C;&#x4E09;&#x53C2;&#x6570;&#x4F20;&#x7ED9; <code>dispatch</code> &#x6216; <code>commit</code> &#x5373;&#x53EF;&#x3002;</p> <div class="language-js extra-class"><pre class="language-js"><code>modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  foo<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    namespaced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

    getters<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x5728;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684; getter &#x4E2D;&#xFF0C;`getters` &#x88AB;&#x5C40;&#x90E8;&#x5316;&#x4E86;</span>
      <span class="token comment">// &#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; getter &#x7684;&#x7B2C;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#x6765;&#x8C03;&#x7528; `rootGetters`</span>
      <span class="token function">someGetter</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootState<span class="token punctuation">,</span> rootGetters<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        getters<span class="token punctuation">.</span>someOtherGetter <span class="token comment">// -&gt; &apos;foo/someOtherGetter&apos;</span>
        rootGetters<span class="token punctuation">.</span>someOtherGetter <span class="token comment">// -&gt; &apos;someOtherGetter&apos;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      someOtherGetter<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    actions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// &#x5728;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x4E2D;&#xFF0C; dispatch &#x548C; commit &#x4E5F;&#x88AB;&#x5C40;&#x90E8;&#x5316;&#x4E86;</span>
      <span class="token comment">// &#x4ED6;&#x4EEC;&#x53EF;&#x4EE5;&#x63A5;&#x53D7; `root` &#x5C5E;&#x6027;&#x4EE5;&#x8BBF;&#x95EE;&#x6839; dispatch &#x6216; commit</span>
      <span class="token function">someAction</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> commit<span class="token punctuation">,</span> getters<span class="token punctuation">,</span> rootGetters <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        getters<span class="token punctuation">.</span>someGetter <span class="token comment">// -&gt; &apos;foo/someGetter&apos;</span>
        rootGetters<span class="token punctuation">.</span>someGetter <span class="token comment">// -&gt; &apos;someGetter&apos;</span>

        <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&apos;someOtherAction&apos;</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; &apos;foo/someOtherAction&apos;</span>
        <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&apos;someOtherAction&apos;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> root<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; &apos;someOtherAction&apos;</span>

        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&apos;someMutation&apos;</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; &apos;foo/someMutation&apos;</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&apos;someMutation&apos;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> root<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// -&gt; &apos;someMutation&apos;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">someOtherAction</span> <span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="&#x5728;&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6A21;&#x5757;&#x6CE8;&#x518C;&#x5168;&#x5C40;-action"><a href="_zh_guide_modules.html#%E5%9C%A8%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A8%A1%E5%9D%97%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80-action" aria-hidden="true" class="header-anchor">#</a> &#x5728;&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6A21;&#x5757;&#x6CE8;&#x518C;&#x5168;&#x5C40; action</h4> <p>&#x82E5;&#x9700;&#x8981;&#x5728;&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6A21;&#x5757;&#x6CE8;&#x518C;&#x5168;&#x5C40; action&#xFF0C;&#x4F60;&#x53EF;&#x6DFB;&#x52A0; <code>root: true</code>&#xFF0C;&#x5E76;&#x5C06;&#x8FD9;&#x4E2A; action &#x7684;&#x5B9A;&#x4E49;&#x653E;&#x5728;&#x51FD;&#x6570; <code>handler</code> &#x4E2D;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  actions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">someOtherAction</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>dispatch<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&apos;someAction&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  modules<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    foo<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      namespaced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

      actions<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        someAction<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          root<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token function">handler</span> <span class="token punctuation">(</span>namespacedContext<span class="token punctuation">,</span> payload<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span> <span class="token comment">// -&gt; &apos;someAction&apos;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;"><a href="_zh_guide_modules.html#%E5%B8%A6%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E7%9A%84%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0" aria-hidden="true" class="header-anchor">#</a> &#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;</h4> <p>&#x5F53;&#x4F7F;&#x7528; <code>mapState</code>, <code>mapGetters</code>, <code>mapActions</code> &#x548C; <code>mapMutations</code> &#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x6765;&#x7ED1;&#x5B9A;&#x5E26;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684;&#x6A21;&#x5757;&#x65F6;&#xFF0C;&#x5199;&#x8D77;&#x6765;&#x53EF;&#x80FD;&#x6BD4;&#x8F83;&#x7E41;&#x7410;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>some<span class="token punctuation">.</span>nested<span class="token punctuation">.</span>module<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
    b<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>some<span class="token punctuation">.</span>nested<span class="token punctuation">.</span>module<span class="token punctuation">.</span>b
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">&apos;some/nested/module/foo&apos;</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this[&apos;some/nested/module/foo&apos;]()</span>
    <span class="token string">&apos;some/nested/module/bar&apos;</span> <span class="token comment">// -&gt; this[&apos;some/nested/module/bar&apos;]()</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x6A21;&#x5757;&#x7684;&#x7A7A;&#x95F4;&#x540D;&#x79F0;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x4E0A;&#x8FF0;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x6837;&#x6240;&#x6709;&#x7ED1;&#x5B9A;&#x90FD;&#x4F1A;&#x81EA;&#x52A8;&#x5C06;&#x8BE5;&#x6A21;&#x5757;&#x4F5C;&#x4E3A;&#x4E0A;&#x4E0B;&#x6587;&#x3002;&#x4E8E;&#x662F;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x4E3A;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">&apos;some/nested/module&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
    b<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>b
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">&apos;some/nested/module&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string">&apos;foo&apos;</span><span class="token punctuation">,</span> <span class="token comment">// -&gt; this.foo()</span>
    <span class="token string">&apos;bar&apos;</span> <span class="token comment">// -&gt; this.bar()</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>&#x800C;&#x4E14;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528; <code>createNamespacedHelpers</code> &#x521B;&#x5EFA;&#x57FA;&#x4E8E;&#x67D0;&#x4E2A;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#x3002;&#x5B83;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5BF9;&#x8C61;&#x91CC;&#x6709;&#x65B0;&#x7684;&#x7ED1;&#x5B9A;&#x5728;&#x7ED9;&#x5B9A;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x503C;&#x4E0A;&#x7684;&#x7EC4;&#x4EF6;&#x7ED1;&#x5B9A;&#x8F85;&#x52A9;&#x51FD;&#x6570;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createNamespacedHelpers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;vuex&apos;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> mapState<span class="token punctuation">,</span> mapActions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createNamespacedHelpers</span><span class="token punctuation">(</span><span class="token string">&apos;some/nested/module&apos;</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x5728; `some/nested/module` &#x4E2D;&#x67E5;&#x627E;</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      a<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>a<span class="token punctuation">,</span>
      b<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>b
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x5728; `some/nested/module` &#x4E2D;&#x67E5;&#x627E;</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&apos;foo&apos;</span><span class="token punctuation">,</span>
      <span class="token string">&apos;bar&apos;</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="&#x7ED9;&#x63D2;&#x4EF6;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;"><a href="_zh_guide_modules.html#%E7%BB%99%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E8%80%85%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" aria-hidden="true" class="header-anchor">#</a> &#x7ED9;&#x63D2;&#x4EF6;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;</h4> <p>&#x5982;&#x679C;&#x4F60;&#x5F00;&#x53D1;&#x7684;<a href="_zh_guide_plugins.html">&#x63D2;&#x4EF6;&#xFF08;Plugin&#xFF09;</a>&#x63D0;&#x4F9B;&#x4E86;&#x6A21;&#x5757;&#x5E76;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x5C06;&#x5176;&#x6DFB;&#x52A0;&#x5230; Vuex store&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x8003;&#x8651;&#x6A21;&#x5757;&#x7684;&#x7A7A;&#x95F4;&#x540D;&#x79F0;&#x95EE;&#x9898;&#x3002;&#x5BF9;&#x4E8E;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x63D2;&#x4EF6;&#x7684;&#x53C2;&#x6570;&#x5BF9;&#x8C61;&#x6765;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x6307;&#x5B9A;&#x7A7A;&#x95F4;&#x540D;&#x79F0;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// &#x901A;&#x8FC7;&#x63D2;&#x4EF6;&#x7684;&#x53C2;&#x6570;&#x5BF9;&#x8C61;&#x5F97;&#x5230;&#x7A7A;&#x95F4;&#x540D;&#x79F0;</span>
<span class="token comment">// &#x7136;&#x540E;&#x8FD4;&#x56DE; Vuex &#x63D2;&#x4EF6;&#x51FD;&#x6570;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">createPlugin</span> <span class="token punctuation">(</span>options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>store<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// &#x628A;&#x7A7A;&#x95F4;&#x540D;&#x5B57;&#x6DFB;&#x52A0;&#x5230;&#x63D2;&#x4EF6;&#x6A21;&#x5757;&#x7684;&#x7C7B;&#x578B;&#xFF08;type&#xFF09;&#x4E2D;&#x53BB;</span>
    <span class="token keyword">const</span> namespace <span class="token operator">=</span> options<span class="token punctuation">.</span>namespace <span class="token operator">||</span> <span class="token string">&apos;&apos;</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>namespace <span class="token operator">+</span> <span class="token string">&apos;pluginAction&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="&#x6A21;&#x5757;&#x52A8;&#x6001;&#x6CE8;&#x518C;"><a href="_zh_guide_modules.html#%E6%A8%A1%E5%9D%97%E5%8A%A8%E6%80%81%E6%B3%A8%E5%86%8C" aria-hidden="true" class="header-anchor">#</a> &#x6A21;&#x5757;&#x52A8;&#x6001;&#x6CE8;&#x518C;</h3> <p>&#x5728; store &#x521B;&#x5EFA;<strong>&#x4E4B;&#x540E;</strong>&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>store.registerModule</code> &#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x6A21;&#x5757;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// &#x6CE8;&#x518C;&#x6A21;&#x5757; `myModule`</span>
store<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token string">&apos;myModule&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// &#x6CE8;&#x518C;&#x5D4C;&#x5957;&#x6A21;&#x5757; `nested/myModule`</span>
store<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&apos;nested&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;myModule&apos;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>store.state.myModule</code> &#x548C; <code>store.state.nested.myModule</code> &#x8BBF;&#x95EE;&#x6A21;&#x5757;&#x7684;&#x72B6;&#x6001;&#x3002;</p> <p>&#x6A21;&#x5757;&#x52A8;&#x6001;&#x6CE8;&#x518C;&#x529F;&#x80FD;&#x4F7F;&#x5F97;&#x5176;&#x4ED6; Vue &#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728; store &#x4E2D;&#x9644;&#x52A0;&#x65B0;&#x6A21;&#x5757;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x4F7F;&#x7528; Vuex &#x7BA1;&#x7406;&#x72B6;&#x6001;&#x3002;&#x4F8B;&#x5982;&#xFF0C;<a href="https://github.com/vuejs/vuex-router-sync" target="_blank" rel="noopener noreferrer"><code>vuex-router-sync</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"/> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"/></svg></a> &#x63D2;&#x4EF6;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x52A8;&#x6001;&#x6CE8;&#x518C;&#x6A21;&#x5757;&#x5C06; vue-router &#x548C; vuex &#x7ED3;&#x5408;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x5B9E;&#x73B0;&#x5E94;&#x7528;&#x7684;&#x8DEF;&#x7531;&#x72B6;&#x6001;&#x7BA1;&#x7406;&#x3002;</p> <p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>store.unregisterModule(moduleName)</code> &#x6765;&#x52A8;&#x6001;&#x5378;&#x8F7D;&#x6A21;&#x5757;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x4F60;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x5378;&#x8F7D;&#x9759;&#x6001;&#x6A21;&#x5757;&#xFF08;&#x5373;&#x521B;&#x5EFA; store &#x65F6;&#x58F0;&#x660E;&#x7684;&#x6A21;&#x5757;&#xFF09;&#x3002;</p> <p>&#x5728;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;&#x65B0; module &#x65F6;&#xFF0C;&#x4F60;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#x60F3;&#x4FDD;&#x7559;&#x8FC7;&#x53BB;&#x7684; state&#xFF0C;&#x4F8B;&#x5982;&#x4ECE;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x5E94;&#x7528;&#x4FDD;&#x7559; state&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>preserveState</code> &#x9009;&#x9879;&#x5C06;&#x5176;&#x5F52;&#x6863;&#xFF1A;<code>store.registerModule(&apos;a&apos;, module, { preserveState: true })</code>&#x3002;</p> <h3 id="&#x6A21;&#x5757;&#x91CD;&#x7528;"><a href="_zh_guide_modules.html#%E6%A8%A1%E5%9D%97%E9%87%8D%E7%94%A8" aria-hidden="true" class="header-anchor">#</a> &#x6A21;&#x5757;&#x91CD;&#x7528;</h3> <p>&#x6709;&#x65F6;&#x6211;&#x4EEC;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x591A;&#x4E2A;&#x5B9E;&#x4F8B;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p> <ul><li>&#x521B;&#x5EFA;&#x591A;&#x4E2A; store&#xFF0C;&#x4ED6;&#x4EEC;&#x516C;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x6A21;&#x5757; (&#x4F8B;&#x5982;&#x5F53; <code>runInNewContext</code> &#x9009;&#x9879;&#x662F; <code>false</code> &#x6216; <code>&apos;once&apos;</code> &#x65F6;&#xFF0C;&#x4E3A;&#x4E86;<a href="https://ssr.vuejs.org/en/structure.html#avoid-stateful-singletons" target="_blank" rel="noopener noreferrer">&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x4E2D;&#x907F;&#x514D;&#x6709;&#x72B6;&#x6001;&#x7684;&#x5355;&#x4F8B;<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"/> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"/></svg></a>)</li> <li>&#x5728;&#x4E00;&#x4E2A; store &#x4E2D;&#x591A;&#x6B21;&#x6CE8;&#x518C;&#x540C;&#x4E00;&#x4E2A;&#x6A21;&#x5757;</li></ul> <p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x7EAF;&#x5BF9;&#x8C61;&#x6765;&#x58F0;&#x660E;&#x6A21;&#x5757;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#x4F1A;&#x901A;&#x8FC7;&#x5F15;&#x7528;&#x88AB;&#x5171;&#x4EAB;&#xFF0C;&#x5BFC;&#x81F4;&#x72B6;&#x6001;&#x5BF9;&#x8C61;&#x88AB;&#x4FEE;&#x6539;&#x65F6; store &#x6216;&#x6A21;&#x5757;&#x95F4;&#x6570;&#x636E;&#x4E92;&#x76F8;&#x6C61;&#x67D3;&#x7684;&#x95EE;&#x9898;&#x3002;</p> <p>&#x5B9E;&#x9645;&#x4E0A;&#x8FD9;&#x548C; Vue &#x7EC4;&#x4EF6;&#x5185;&#x7684; <code>data</code> &#x662F;&#x540C;&#x6837;&#x7684;&#x95EE;&#x9898;&#x3002;&#x56E0;&#x6B64;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x4E5F;&#x662F;&#x76F8;&#x540C;&#x7684;&#x2014;&#x2014;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6765;&#x58F0;&#x660E;&#x6A21;&#x5757;&#x72B6;&#x6001;&#xFF08;&#x4EC5; 2.3.0+ &#x652F;&#x6301;&#xFF09;&#xFF1A;</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> MyReusableModule <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">state</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      foo<span class="token punctuation">:</span> <span class="token string">&apos;bar&apos;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// mutation, action &#x548C; getter &#x7B49;&#x7B49;...</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        &#x2190;
        <a href="_zh_guide_actions.html" class="prev">
          Action
        </a></span> <span class="next"><a href="_zh_guide_structure.html">
          &#x9879;&#x76EE;&#x7ED3;&#x6784;
        </a>
        &#x2192;
      </span></p></div> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div></div> <!----></div></div>
    <dd src="_assets_js_8.20640ddc.js" defer></dd><dd src="_assets_js_app.69b18d18.js" defer></dd>
  

</body></html>